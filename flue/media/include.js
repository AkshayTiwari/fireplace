(function(e,t){var r={};var n={};function a(e,t,n){r[e]=[t,n]}a.amd={jQuery:true};function o(a){if(!n[a]){var i=r[a];if(!i){throw"Attempted to resolve undefined module "+a}var s=i[0];var u=i[1];if(typeof s=="function"&&u===t){u=s;s=[]}n[a]=u.apply(e,s.map(o))}return n[a]}o.config=function(){};e.require=o;e.define=a;a("apps",["jquery","underscore"],function(e,t){"use strict";function r(r,n){n=n||{};t.defaults(n,{navigator:navigator,data:{}});n.data.categories=r.categories;var a=r.manifest_url;var o=e.Deferred();var i=n.navigator.mozApps;if(a&&i&&(r.is_packaged?i.installPackage:i.install)){var s=i[r.is_packaged?"installPackage":"install"](a,n.data);s.onsuccess=function(){var e;var t=setInterval(function(){e=s.result.installState;if(e=="installed"){clearInterval(t);o.resolve(s.result,r)}},100)};s.onerror=function(){o.reject(s.result,r,this.error.name||this.error)}}else{o.reject()}return o.promise()}return{install:r}});a("assert",["underscore"],function(e){function t(e,t){if(!e){throw new Error(t||"Assertion failed")}}function r(){t.apply(this,arguments)}function n(e,r,n){try{t(e==r)}catch(a){throw new Error(n||'"'+e+'" did not match "'+r+'"')}}function i(e,r,n){try{t(e===r)}catch(a){throw new Error(n||'"'+e+'" did not exactly match "'+r+'"')}}function s(r,n,a){try{t(e.isEqual(r,n))}catch(o){if(a){throw new Error(a)}else{throw new Error(JSON.stringify(r)+" did not match "+JSON.stringify(n))}}}function u(t,r){if(e.isObject(t)){return r in t}else if(e.isString(t)){return t.indexOf(r)!==-1}else{return e.contains(t,r)}}function l(e,r,n){n=n||JSON.stringify(e)+" does not contain "+JSON.stringify(r);t(u(e,r),n)}function c(e,r,n){n=n||JSON.stringify(e)+" contains "+JSON.stringify(r);t(!u(e,r),n)}function p(t,r,n){var i={};var s=e.object(e.pairs(r).map(function(t){var r=t[0];t[0]+=e.uniqueId("_");i[r]=t[0];if(e.isFunction(t[1])){t[1]=t[1]()}else if(e.isArray(t[1])){t[1]=e.extend({},t[1])}return t}));console.log(i);var u=o.config({context:e.uniqueId(),map:{"*":i},baseUrl:"media/js/",paths:requirejs.s.contexts._.config.paths,shim:requirejs.s.contexts._.config.shim});e.each(s,function(e,t){a(t,e)});u([t],function(e){n.apply(this,[e,r])})}return{assert:t,ok_:r,eq_:n,eeq_:i,feq_:s,contains:l,disincludes:c,mock:p}});a("browser",["utils"],function(e){"use strict";var t={windows:"Windows",mac:"Mac",linux:"Linux",android:"Android",maemo:"Maemo"};var r={};var n="";for(var a in t){if(t.hasOwnProperty(a)){r[a]=navigator.userAgent.indexOf(t[a])!=-1;if(r[a]){n=a}}}if(!n){r["other"]=!n;n="other"}return{os:r,platform:n}});a("buckets",[],function(){var t=document.createElement("audio");var r=document.createElement("video");if(!("canPlayType"in t)){function n(){return""}r=t={canPlayType:n}}var a=["moz","webkit","ms"];function o(t,r){if(!r){r=e}if(t in r){return r[t]}t=t[0].toUpperCase()+t.substr(1);for(var n=0,o;o=a[n++];){if(!!r[o+t]){return r[o+t]}}}var i=["mozApps"in navigator,"mozApps"in navigator&&navigator.mozApps.installPackage,"mozPay"in navigator,"MozActivity"in e,"ondevicelight"in e,"ArchiveReader"in e,"battery"in navigator,"mozBluetooth"in navigator,"mozContacts"in navigator,"getDeviceStorage"in navigator,e.mozIndexedDB||e.indexedDB,"geolocation"in navigator&&"getCurrentPosition"in navigator.geolocation,"addIdleObserver"in navigator&&"removeIdleObserver"in navigator,"mozConnection"in navigator&&(navigator.mozConnection.metered===true||navigator.mozConnection.metered===false),"mozNetworkStats"in navigator,"ondeviceproximity"in e,"mozPush"in navigator||"push"in navigator,"ondeviceorientation"in e,"mozTime"in navigator,"vibrate"in navigator,"mozFM"in navigator||"mozFMRadio"in navigator,"mozSms"in navigator,!!("ontouchstart"in e||e.DocumentTouch&&document instanceof DocumentTouch),e.screen.width<=540&&e.screen.height<=960,!!t.canPlayType("audio/mpeg").replace(/^no$/,""),!!e.Audio,!!(e.webkitAudioContext||e.AudioContext),!!r.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),!!r.canPlayType('video/webm; codecs="vp8"').replace(/^no$/,""),!!o("cancelFullScreen",document),!!o("getGamepads",navigator),!!(o("persistentStorage")||e.StorageInfo)];var s=parseInt(i.map(function(e){return!!e?"1":"0"}).join(""),2).toString(16);s+="."+i.length;s+=".1";return{get_profile:function(){return s},capabilities:i}});(function(){function e(){this._name="defer";this.tags=["defer"];this.parse=function(e,t,r){var n=e.peekToken();e.skipSymbol("defer");e.skip(r.TOKEN_WHITESPACE);var a=e.parseSignature();e.advanceAfterBlockEnd(n.value);var o,i,s,u;o=e.parseUntilBlocks("placeholder","empty","except","end");if(e.skipSymbol("placeholder")){e.skip(r.TOKEN_BLOCK_END);i=e.parseUntilBlocks("empty","except","end")}if(e.skipSymbol("empty")){e.skip(r.TOKEN_BLOCK_END);s=e.parseUntilBlocks("except","end")}if(e.skipSymbol("except")){e.skip(r.TOKEN_BLOCK_END);u=e.parseUntilBlocks("end")}e.advanceAfterBlockEnd();return new t.CallExtension(this,"run",a,[o,i,s,u])}}if(typeof module!=="undefined"&&module.exports){module.exports.extensions=[new e]}if(typeof a!=="function"){return}a("builder",["templates","helpers","models","requests","settings","underscore","z","nunjucks.compat"],function(e,t,r,n,a,o,i){var s=e.require("runtime").SafeString;console.log("Loading nunjucks builder tags...");var u=0;function l(){var l=this.env=new e.Environment([],{autoescape:true});l.dev=e.env.dev;l.registerPrecompiled(e.templates);var c=this.results={};var p={};var f=n.pool();function d(e,t,r){var n=t.find(".loadmore button");if(!n.length){return}n.on("click",function(){e(n.data("url"),n.parent(),r).done(function(){i.page.trigger("loaded_more")})})}var h={run:function(e,n,i,h,m,g){var v="ph_"+u++;var y;var b=function(s,u,h){var k;if("as"in n&&"key"in n){k=r(n.as).get(s,n.key,f.get)}else{k=f.get(s)}if("id"in n){p[n.id]=k;k.done(function(e){c[n.id]=e})}function x(t,a){if("pluck"in n){t=t[n.pluck]}if(!a&&"as"in n){var s=r(n.as).cast;if(o.isArray(t)){o.each(t,s)}else{s(t)}}var u="";if(m&&o.isArray(t)&&t.length===0){u=m()}else{e.ctx.this=t;u=i()}if(h){var l=$($.parseHTML(u));u=$(l.filter(h).get().concat(l.find(h).get())).children()}return u}if(k.__cached){k.done(function(t){e.ctx["response"]=t;y=x(t,true)});if(n.paginate){f.done(function(){d(b,$("#"+v),n.paginate)})}return}k.done(function(t){var r=$("#"+v);e.ctx["response"]=t;var a=x(t);(u?u.replaceWith:r.html).apply(u||r,[a]);if(n.paginate){d(b,r,n.paginate)}}).fail(function(){var e=$("#"+v);(u?u.replaceWith:e.html).apply(u||e,[g?g():l.getTemplate(a.fragment_error_template).render(t)])});return k};b(n.url);if(!y){y='<div class="loading">'+(h?h():"")+"</div>"}y='<div id="'+v+'" class="placeholder">'+y+"</div>";var k=new s(y);return k}};this.env.addExtension("defer",h);this.start=function(e,r){i.page.trigger("build_start");i.page.html(l.getTemplate(e).render(o.defaults(r||{},t)));return this};this.onload=function(e,t){p[e].done(t);return this};f.promise(this);this.terminate=f.abort;this.finish=function(){f.always(function(){i.page.trigger("loaded")});f.finish()};var m=o.once(function(){return i.context={}});this.z=function(e,t){m()[e]=t;switch(e){case"title":if(!t){t=a.title_suffix}else if(t!==a.title_suffix){t+=" | "+a.title_suffix}document.title=t;break;case"type":i.body.attr("data-page-type",t);break}}}return{getBuilder:function(){return new l}}})})();a("buttons",["browser","capabilities","format","l10n","z"],function(e,t,r,n,a){var o=n.gettext;function i(e){return $(r.format('.button[data-manifest_url="{0}"]',e.manifest_url))}function s(e,t,r){if(r=="purchasing"||r=="installing"){e.data("old-text",e.html())}e.html(t);if(!(r=="purchasing"||r=="installing")){e.removeClass("purchasing installing")}e.addClass(r)}function u(e){e.removeClass("purchasing installing error");if(e.data("old-text")){e.html(e.data("old-text"))}}a.win.on("app_purchase_start",function(e,t){s(i(t),o("Purchasing"),"purchasing")}).on("app_purchase_success",function(e,t){var r=i(t);t["isPurchased"]=true;s(r,o("Purchased"),"purchased")}).on("app_install_start",function(e,t){var r=i(t);s(r,'<span class="spin"></span>',"installing");setTimeout(function(){if(r.hasClass("installing")){u(r)}},3e4)}).on("app_install_success",function(t,r,n,u){var l=i(n);if(u){var c=$("#installed"),p=c.find("."+e.platform);if(p.length){c.show();p.show()}}a.apps[n.manifest_url]=a.state.mozApps[n.manifest_url]=r;s(l,o("Launch"),"launch install")}).on("app_purchase_error app_install_error",function(e,t,r,n){u($("button.installing"))}).on("buttons.overlay_dismissed",function(){u($(".button.error"))}).on("app_install_disabled",function(e,t){var r=$(".button.product"),n=$(".no-apps");s(r,r.html(),"disabled");if(n.length){n.show()}else{r.parent().append($("#noApps").html())}}).on("loaded",function(){if(!t.webApps){$(".button.product").attr("disabled",true)}})});a("cache",["rewriters","underscore"],function(e,t){var r={};function n(e){return e in r}function a(e){return r[e]}function o(){for(var e in r){if(r.hasOwnProperty(e)){delete r[e]}}}function i(t,n){for(var a=0,o;o=e[a++];){var i=o(t,n,r);if(i===null){return}else if(i){n=i}}r[t]=n}function s(e){delete r[e]}function u(e,t,n){var a=0;for(var o in r){if(e(o)){r[o]=t(r[o],o);if(n&&++a>=n){return}}}}return{has:n,get:a,set:i,bust:s,purge:o,attemptRewrite:u,raw:r}});a("capabilities",[],function(){function t(t){var r=e.matchMedia(t);return!!r&&r.matches}return{JSON:e.JSON&&typeof JSON.parse==="function",debug:document.location.href.indexOf("dbg")>=0,debug_in_page:document.location.href.indexOf("dbginpage")>=0,console:e.console&&typeof e.console.log==="function",replaceState:typeof history.replaceState==="function",chromeless:e.locationbar&&!e.locationbar.visible,webApps:!!(navigator.mozApps&&navigator.mozApps.install),app_runtime:!!(navigator.mozApps&&typeof navigator.mozApps.html5Implementation==="undefined"),fileAPI:!!e.FileReader,userAgent:navigator.userAgent,widescreen:t("(min-width: 1024px)"),firefoxAndroid:navigator.userAgent.indexOf("Firefox")!==-1&&navigator.userAgent.indexOf("Android")!==-1,touch:!!("ontouchstart"in e||e.DocumentTouch&&document instanceof DocumentTouch),nativeScroll:function(){return"WebkitOverflowScrolling"in document.createElement("div").style}(),performance:!!(e.performance||e.msPerformance||e.webkitPerformance||e.mozPerformance),navPay:!!navigator.mozPay,webactivities:!!(e.setMessageHandler||e.mozSetMessageHandler),firefoxOS:navigator.mozApps&&navigator.mozApps.installPackage&&navigator.userAgent.indexOf("Android")===-1&&navigator.userAgent.indexOf("Mobile")!==-1,phantom:navigator.userAgent.match(/Phantom/)}});a("cat-dropdown",["underscore","helpers","jquery","l10n","models","requests","templates","urls","z"],function(e,t,r,n,a,o,i,s,u){"use strict";var l=n.gettext;var c=a("category");c.cast({name:l("All Categories"),slug:"all"});var p=r("#cat-dropdown");var f=r("#cat-list");var d=o.get(s.api.url("categories"));d.done(function(e){c.cast(e.objects)});function h(e){if(e){e.preventDefault()}r(".cat-menu").toggleClass("hidden");r(".dropdown").toggleClass("active")}function m(e,t){var n=r(".dropdown a");var a=n.data("catSlug");if(a!==e){d.then(function(){var r=c.lookup(e);t=t||r&&r.name||e;if(t&&e&&a){n.text(t).removeClass("cat-"+a).addClass("cat-"+e).data("catSlug",e)}})}}function g(e,t){var n=r(".cat-menu");var a="current";t=t||n.find(".cat-"+e);if(!t.hasClass(a)){n.find("."+a).removeClass(a);t.addClass(a)}}function v(e){e.preventDefault();var t=r(e.target);var n=t.data("catSlug");var a=t.text();h();m(n,a);g(n,t)}function y(e){m(e);g(e)}function b(e){if(u.context&&u.context.show_cats===true){u.body.addClass("show-cats");u.context.show_cats=false;k()}else{u.body.removeClass("show-cats")}}function k(){if(u.context&&u.context.cat){y(u.context.cat)}}function x(){p.html(i.env.getTemplate("cat_dropdown.html").render(t));d.done(function(r){var n=e.extend({categories:r.objects},t);f.html(i.env.getTemplate("cat_list.html").render(n));k()})}u.body.on("click",".dropdown a",h).on("click",".cat-menu a",v);u.page.on("build_start",b).on("reload_chrome",x)});a("feedback",["buckets","capabilities","l10n","notification","urls","utils","z","requests","templates"],function(t,r,n,a,i,s,u,l,c){var p=n.gettext;var f=a.notification;var d=s.makeOrGetOverlay("feedback-overlay");u.body.on("submit",".feedback-form",s._pd(function(n){var a=$(this);var o=s.getVars(a.serialize());o.chromeless=r.chromeless?"Yes":"No";o.from_url=e.location.pathname;o.profile=t.get_profile();l.post(i.api.url("feedback"),o).done(function(){console.log("submitted feedback");a.find("textarea").val("");d.removeClass("show");f({message:p("Feedback submitted. Thanks!")})}).fail(function(){f({message:p("There was a problem submitting your feedback. Try again soon.")})})})).on("click",".submit-feedback",s._pd(function(e){if(!d.find("form").length){d.html(c.env.getTemplate("feedback.html").render(o("helpers")))}d.addClass("show").trigger("overlayloaded")}))});a("forms",["z"],function(e){function t(e){if(e){$(e).find("button[type=submit]").attr("disabled",!e.checkValidity())}}e.body.on("change keyup paste","input, select, textarea",function(e){t(e.target.form)}).on("loaded overlayloaded",function(){$("form").each(function(){t(this)})});function r(e,t){if(t){e.find("textarea, button").prop("disabled",false);e.find(".ratingwidget").removeClass("disabled")}else{e.find("textarea, button").prop("disabled",true);e.find(".ratingwidget").addClass("disabled")}}return{toggleReviewFormState:r}});a("header",["capabilities","z"],function(e,t){var r;t.body.on("mousedown",".wordmark",function(){r=setTimeout(function(){t.body.toggleClass("nightly")},5e3)}).on("mouseup",".wordmark",function(){clearTimeout(r)});function n(){$(".act-tray").on("mouseover",function(){$(".act-tray").addClass("active")}).on("mouseout",function(){$(".act-tray").removeClass("active")}).on("click",".account-links a",function(){$(".account-links, .settings, .act-tray").removeClass("active")})}n();t.page.on("loaded",function(){$(".account-links, .settings").removeClass("active")});t.body.on("reloaded_chrome",n)});a("helpers",["l10n","templates","underscore","utils","format","settings","urls","user"],function(t,r,n,a){var s=r.require("runtime").SafeString;var u=r.env;function l(e){return function(){return new s(e.apply(this,arguments))}}function c(e,t){u.addFilter(e,l(t))}u.addFilter("urlparams",a.urlparams);c("nl2br",function(e){return e.replace(/\n/g,"<br>")});c("make_data_attrs",function(e){return n.pairs(e).map(function(e){return"data-"+a.escape_(e[0])+'="'+a.escape_(e[1])+'"'}).join(" ")});c("external_href",function(e){return'href="'+a.escape_(e)+'" target="_blank"'});u.addFilter("numberfmt",function(e){return e});c("stringify",JSON.stringify);c("dataproduct",function(e){var t=n.extend({},e);if("this"in t){delete t.this}if("window"in t){delete t.window}return'data-product="'+a.escape_(JSON.stringify(t))+'"'});u.addFilter("format",i.format);u.addFilter("sum",function(e){return e.reduce(function(e,t){return e+t},0)});return{api:o("urls").api.url,apiParams:o("urls").api.params,url:o("urls").reverse,_:l(t.gettext),_plural:l(t.ngettext),format:o("format").format,settings:o("settings"),user:o("user"),range:n.range,escape:a.escape_,REGIONS:o("settings").REGION_CHOICES_SLUG,navigator:e.navigator}});a("install",["apps","capabilities","jquery","login","notification","payments/payments","requests","urls","user","z"],function(e,t,r,n,a,o,s,u,l,c){"use strict";function p(e){return function(t){t.preventDefault();t.stopPropagation();e(r(this).closest("[data-product]").data("product"))}}var f=p(function(e){c.apps[e.manifest_url].launch()});var d=p(h);function h(e){if(e.price&&!l.logged_in()){console.log("Install suspended; user needs to log in");return n.login().done(function(){h(e)});return}if(e.price){return m(e)}else{return y(e)}}function m(e){c.win.trigger("app_purchase_start",e);return r.when(o.purchase(e)).done(g).fail(v)}function g(e,t){c.win.trigger("app_purchase_success",[e]);setTimeout(function(){y(e)},0)}function v(e,t){c.win.trigger("app_purchase_error",[e,t])}function y(n,a){var o={};var i={app:n.id,chromeless:t.chromeless?1:0};c.win.trigger("app_install_start",n);function l(){return r.when(e.install(n,o)).done(b).fail(k)}if(!n.recordUrl){return l()}else{var p=r.Deferred();s.post(u.api.url("record"),i).done(function(e){if(e.error){r("#pay-error").show().find("div").text(e.error);k(n);p.reject();return}if(e.receipt){o.data={receipts:[e.receipt]}}l().done(p.resolve).fail(p.reject)}).fail(function(){k(null,n);p.reject()});return p}}function b(e,t){c.win.trigger("app_install_success",[e,t,true])}function k(e,t,r){console.log("error: "+r);switch(r){case"MKT_CANCELLED":case"DENIED":case"MANIFEST_URL_ERROR":case"NETWORK_ERROR":case"MANIFEST_PARSE_ERROR":case"INVALID_MANIFEST":break;default:a.notification({message:gettext("Install failed. Please try again later.")});break}c.win.trigger("app_install_error",[e,t,r])}c.page.on("click",".product.launch",f).on("click",".button.product:not(.launch):not(.incompatible)",d);c.body.on("logged_in",function(){if(localStorage.getItem("toInstall")){var e=localStorage.getItem("toInstall");localStorage.removeItem("toInstall");var t=r(i('.product[data-manifest_url="{0}"]',e)).data("product");if(t){h(t)}}})});a("keys",[],function(){return{SHIFT:16,CONTROL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,ENTER:13,PAGE_UP:33,PAGE_DOWN:34,LEFT:37,UP:38,RIGHT:39,DOWN:40,HOME:36,END:35,COMMAND:91,WINDOWS_RIGHT:92,COMMAND_RIGHT:93,WINDOWS_LEFT_OPERA:219,WINDOWS_RIGHT_OPERA:220,APPLE:24}});(function(){var t=["en-US","es","pl","pt-BR","dbg"];var r={en:"en-US",ga:"ga-IE",pt:"pt-BR",sv:"sv-SE",zh:"zh-CN"};if(!e.define){function n(e){if(t.indexOf(e)!==-1){return e}e=e.split("-")[0];if(t.indexOf(e)!==-1){return e}if(e in r){e=r[e];if(t.indexOf(e)!==-1){return e}}return"en-US"}var o=/[\?&]lang=([\w\-]+)/i.exec(e.location.search);var i=n(o&&o[1]||navigator.language);if(i==="en-US"){return}document.write('<script src="/locales/'+i+'.js"></script>')}else{a("l10n",["format"],function(t){var r=["ar","he","fa","ps","ur"];function n(e,r,n){n=n||navigator;var a;if(n.l10n&&e in n.l10n.strings){a=n.l10n.strings[e].body}else{a=e}if(r){a=t.format(a,r)}return a}function a(e,r,n,a){a=a||navigator;if(!n||!("n"in n)){throw new Error("`n` not passed to ngettext")}var o;var i=n.n;if(a.l10n&&e in a.l10n.strings){var s=a.l10n.pluralize(i);o=a.l10n.strings[e].plurals[s]}else{o=i===1?e:r}o=t.format(o,n);return o}e.gettext=n;e.ngettext=a;return{gettext:n,ngettext:a,getDirection:function(e){var t=e?e.language:navigator.language;if(t.indexOf("-")>-1){t=t.split("-")[0]}return r.indexOf(t)>=0?"rtl":"ltr"}}})}})();a("lightbox",["keys","utils","shothandles","underscore","z"],function(e,t,r,n,a){var o=$(document.getElementById("lightbox"));var i=o.find("section");var s=o.find(".content");var u;var l;var c;o.addClass("shots");function p(){var t=$(this);var r=t.closest("li").index();var n=t.closest(".tray");var i=n.prev();if(!i.hasClass("mkt-tile"))return;var s=i.data("product");var p=s.id;if(p!=u||!c){u=p;l=s.previews;f()}a.win.bind("keydown.lightboxDismiss",function(t){switch(t.which){case e.ESCAPE:t.preventDefault();m();break;case e.LEFT:t.preventDefault();if(c)c.toPrev();break;case e.RIGHT:t.preventDefault();if(c)c.toNext();break}});o.show();setTimeout(function(){c.moveToPoint(r);d();o.addClass("show")},0)}function f(){s.empty();n.each(l,function(e){var t=$('<li class="loading">');var r=$('<div class="caption">');r.text(e.caption);t.append(r);s.append(t);if(e.type=="video/webm"){var n=$('<video src="'+e.image_url+'" controls></video>');t.removeClass("loading");t.append(n)}else{var a=new Image;a.onload=function(){t.removeClass("loading");t.append(a)};a.onerror=function(){t.removeClass("loading");t.append('<b class="err">&#x26A0;</b>')};a.src=e.image_url}});c=Flipsnap(s[0]);c.element.addEventListener("fsmoveend",h,false);r.attachHandles(c,i)}function d(){if(!c)return;s.find(".caption");c.distance=i.width();c.refresh()}function h(){$("video").each(function(){this.pause()})}function m(){h();if(c)c.refresh();o.removeClass("show");setTimeout(function(){o.hide()},500);a.win.unbind("keydown.lightboxDismiss")}o.on("dragstart",function(e){e.preventDefault()});a.win.on("resize",n.debounce(d,200));a.page.on("click",".tray ul a",t._pd(p));o.click(function(e){if($(e.target).is("#lightbox")){m();e.preventDefault()}});o.find(".close").click(t._pd(m));a.page.on("navigate",m)});a("login",["capabilities","jquery","notification","settings","underscore","user","requests","z","utils","urls"],function(t,r,n,a,i,s,u,l){l.body.on("click",".persona",function(e){e.preventDefault();var t=r(this);t.addClass("loading-submit");p().always(function(){t.removeClass("loading-submit").blur()}).done(function(){n.notification({message:gettext("You have been signed in")})})}).on("click",".logout",function(e){e.preventDefault();s.clear_token();l.body.removeClass("logged-in");l.page.trigger("reload_chrome");postBack("navigator.id.logout",true);n.notification({message:gettext("You have been signed out")})});var c=[];function p(){var e=r.Deferred();c.push(e);navigator.id.request({forceIssuer:a.persona_unverified_issuer||null,allowUnverified:true,termsOfService:"/terms-of-use",privacyPolicy:"/privacy-policy",oncancel:function(){i.invoke(c,"reject");c=[]}});return e.promise()}function f(t){if(t){var a={assertion:t,audience:e.location.protocol+"//"+e.location.host,is_native:navigator.id._shimmed?0:1};u.post(o("urls").api.url("login"),a).done(function(e){s.set_token(e.token,e.settings);console.log("finished login");l.body.addClass("logged-in");r(".loading-submit").removeClass("loading-submit persona");l.page.trigger("reload_chrome");l.page.trigger("logged_in");function t(){i.invoke(c,"resolve");c=[]}if(l.context.reload_on_login){o("views").reload().done(t)}else{t()}var n=o("utils").getVars().to;if(n&&n[0]=="/"){l.page.trigger("navigate",[n]);return}}).fail(function(e,t,a){var o=e.responseText;if(!o){o=gettext("Persona login failed. Maybe you don't have an account under that email address?")+" "+t+" "+a}if(e.status!=200){o=gettext("Persona login failed. A server error was encountered.")}r(".loading-submit").removeClass("loading-submit");n.notification({message:o});i.invoke(c,"reject");c=[]})}else{r(".loading-submit").removeClass("loading-submit")}}function d(){r(".persona").css("cursor","pointer");var e=s.get_setting("email")||"";if(e){console.log("[login] detected user",e)}navigator.id.watch({loggedInUser:e,onlogin:f,onlogout:function(){l.body.removeClass("logged-in");l.page.trigger("reload_chrome");l.win.trigger("logout")}})}var h=document.createElement("script");h.onload=d;if(t.firefoxOS){h.src=a.native_persona}else{h.src=a.persona}document.body.appendChild(h);r(".persona").css("cursor","wait");return{login:p}});console.log("Mozilla(R) FP-MKT (R) 1.0");console.log("   (C)Copyright Mozilla Corp 1998-2013");console.log("");console.log("64K High Memory Area is available.");o.config({enforceDefine:true,paths:{flipsnap:"lib/flipsnap",jquery:"lib/jquery-1.9",underscore:"lib/underscore",nunjucks:"lib/nunjucks","nunjucks.compat":"lib/nunjucks.compat",templates:"../../templates",settings:["settings_local","settings"],stick:"lib/stick",format:"lib/format"},shim:{flipsnap:{exports:"Flipsnap"},jquery:{exports:"jQuery"},underscore:{exports:"_"}}});(function(){a("marketplace",["underscore","buttons","capabilities","cat-dropdown","feedback","forms","header","helpers","install","l10n","lightbox","login","navigation","outgoing_links","overlay","paginator","previews","ratings","settings","templates","tracking","user","webactivities","z"],function(t){console.log("[mkt] Dependencies resolved, starting init");var r=o("capabilities");var n=o("templates");var a=o("settings");var i=o("z");n.env.dev=true;i.body.addClass("html-"+o("l10n").getDirection());if(a.body_classes){i.body.addClass(a.body_classes)}i.page.one("loaded",function(){console.log("[mkt] Hiding splash screen");$("#splash-overlay").addClass("hide")});if(a.tracking_enabled){i.page.on("loaded",function(){if(!popped){_gaq.push(["_trackPageview",e.location.href])}})}if(r.chromeless){e.addEventListener("keydown",function(t){if(t.keyCode==82&&t.metaKey){e.location.reload()}})}i.page.on("loaded",function(){i.apps={};i.state.mozApps={};if(r.webApps){var e=navigator.mozApps.getInstalled();e.onsuccess=function(){t.each(e.result,function(e){i.apps[e.manifestURL]=i.state.mozApps[e.manifestURL]=e;i.win.trigger("app_install_success",[e,{manifest_url:e.manifestURL},false])})}}});i.page.on("reload_chrome",function(){console.log("[mkt] Reloading chrome");var e=t.extend({z:i},o("helpers"));$("#site-header").html(n.env.getTemplate("header.html").render(e));$("#site-footer").html(n.env.getTemplate("footer.html").render(e));i.body.toggleClass("logged-in",o("user").logged_in());i.page.trigger("reloaded_chrome")}).trigger("reload_chrome");e.addEventListener("resize",t.debounce(function(){i.doc.trigger("saferesize")},200),false);console.log("[mkt] Triggering initial navigation");i.page.trigger("navigate",[e.location.pathname+e.location.search]);(function(){var e=false;i.doc.on("touchstart",".wordmark",function(){console.log("[mkt] hold for debug...");clearTimeout(e);e=setTimeout(function(){console.log("navigating to debug...");i.page.trigger("navigate",["/debug"])},5e3)}).on("touchend",".wordmark",function(){console.log("[mkt] debug hold broken.");clearTimeout(e)})})();console.log("[mkt] Initialization complete")})})();a("models",["requests","underscore"],function(e,t){var r={};var n={app:"slug",category:"slug"};return function(a){if(!(a in n)){throw new Exception('Unknown model "'+a+'"')}if(!(a in r)){r[a]={}}var o=n[a];var i=function(e){if(t.isArray(e)){t.each(e,i);return}var n=e[o];r[a][n]=e;console.log("[model] Stored "+n+" as "+a)};var s=function(t,n,o){o=o||e.get;if(n){if(n in r[a]){console.log("[model] Found "+a+" with key "+n);return $.Deferred().resolve(r[a][n]).promise({__cached:true})}console.log("[model] "+a+" cache miss for key "+n)}return o(t)};var u=function(e,t){if(t){for(var n in r[a]){var o=r[a][n];if(t in o&&o[t]===e){return o}}return}if(e in r[a]){console.log("[model] Found "+a+" with lookup key "+e);return r[a][e]}console.log("[model] "+a+" cache miss for key "+e)};return{cast:i,get:s,lookup:u}}});a("navigation",["capabilities","l10n","notification","underscore","urls","utils","views","z"],function(e,t,r,n,a,o,i,s){"use strict";var u=t.gettext;var l=[{path:"/",type:"root"}];var c=["q","sort","cat"];var p=null;function f(e){if(e.indexOf("?")<0){return e}var t=e.split("?");if(!t[1]){return e}var r=n.pick(o.getVars(t[1]),c);if(!n.keys(r).length){return t[0]}return t[0]+"?"+n.pairs(r).sort(function(e,t){return e[0]<t[0]}).map(function(e){if(typeof e[1]==="undefined")return encodeURIComponent(e[0]);else return encodeURIComponent(e[0])+"="+encodeURIComponent(e[1])}).join("&")}function d(){if(!navigator.onLine&&!e.phantom){r.notification({message:u("No internet connection")});return false}return true}function h(e,t,r){if(!r)return;console.log("[nav] Navigation started: ",e);var a=i.match(e);if(a===null){return}s.win.trigger("unloading");p=i.build(a[0],a[1],r.params);r.type=s.context.type;r.title=s.context.title;if(t&&r.scrollTop){console.log("[nav] Setting scroll: ",r.scrollTop);s.doc.scrollTop(r.scrollTop)}else{console.log("[nav] Resetting scroll");setTimeout(function(){s.doc.scrollTop(0)},0)}r.path=f(r.path);for(var o=0;o<l.length;o++){if(l[o].path===r.path||r.type==="search"&&l[o].type===r.type){console.log("[nav] Navigation loop truncated:",l.slice(0,o));l=l.slice(o+1);break}}if(r.type=="root"){l=[r];$("#search-q").val("")}else{if(t&&l[0].path===r.path){console.log("[nav] Shifting stack (used → or ← button)");l.shift()}else{console.log("[nav] Pushed state onto stack: ",r.path);l.unshift(r)}if(s.context.parent){var u=n.indexOf(n.pluck(l,"path"),s.context.parent);if(u>1){l.splice(1,u-1);console.log("[nav] Closing navigation loop to parent (1 to "+(u-1)+")")}else if(u==-1){l.splice(1,0,{path:s.context.parent});console.log("[nav] Injecting parent into nav stack at 1")}console.log("[nav] New stack size: "+l.length)}}}s.body.on("click",".site-header .back",o._pd(function(){console.log("[nav] ← button pressed");if(!d()){console.log("[nav] ← button aborted; canNavigate is falsey.");return}if(l.length>1){l.shift();history.replaceState(l[0],false,l[0].path);h(l[0].path,true,l[0])}else{console.log("[nav] attempted nav.back at root!")}}));s.page.on("search",function(e,t){e.preventDefault();return s.page.trigger("navigate",o.urlparams(a.reverse("search"),t))}).on("navigate divert",function(e,t,r){console.log("[nav] Received "+e.type+" event:",t);if(!t)return;var n=e.type==="divert";if(!d()){console.log("[nav] Navigation aborted; canNavigate is falsey.");return}if(p){p.terminate()}var a={path:t,scrollTop:n?0:s.doc.scrollTop(),params:r};var o=history.pushState;if(!p||n){o=history.replaceState}if(n){l.shift()}o.apply(history,[a,false,t]);h(t,false,a)});function m(e){var t=e.getAttribute("href")||e.getAttribute("action"),r=$(e);return!t||t.substr(0,4)=="http"||t.substr(0,7)==="mailto:"||t.substr(0,11)==="javascript:"||t[0]==="#"||t.indexOf("/developers/")!==-1||t.indexOf("/ecosystem/")!==-1||t.indexOf("/statistics/")!==-1||t.indexOf("?modified=")!==-1||e.getAttribute("target")==="_blank"||e.getAttribute("rel")==="external"||r.hasClass("post")||r.hasClass("sync")}s.body.on("click","a",function(e){var t=this.getAttribute("href");if(e.metaKey||e.ctrlKey||e.button!==0)return;if(m(this))return;e.preventDefault();e.stopPropagation();s.page.trigger("navigate",[t,$(this).data("params")||{path:t}])}).on("submit","form#search",function(e){e.stopPropagation();e.preventDefault();var t=$("#search-q");var r=t.val();if(r=="do a barrel roll"){s.body.toggleClass("roll")}if(s.context.search){t.attr("data-context","")}else{t.removeAttr("data-context")}t.blur();s.page.trigger("search",{q:r})});s.win.on("popstate",function(e){var t=e.originalEvent.state;if(t){h(t.path,true,t)}}).on("submit","form",function(e){e.preventDefault();console.error("We don't allow form submissions.")});return{stack:function(){return l},navigationFilter:m}});a("notification",["capabilities","jquery","z"],function(e,t,r){var n=t('<div id="notification">');var a=t('<div id="notification-content">');var o;var i=[];function s(){n.addClass("show")}function u(){n.removeClass("show")}var l=/\*([^\*]+)\*/g;function c(e){if(!e)return;return e.replace(l,function(e,t){return"<b>"+t+"</b>"})}function p(e){if(o&&o.state()==="pending"){o.reject()}o=t.Deferred();o.always(u);n.removeClass(i.join(" "));a.text("");i=[];var r=e.message;if(!r)return;if("classes"in e){i=e.classes.split(/\s+/)}if(e.closable){i.push("closable")}setTimeout(o.reject,e.timeout||5e3);n.addClass(i.join(" "));var s=c(r);if(s==r){a.text(r)}else{a.html(s)}n.addClass("show");return o.promise()}n.append(a).on("touchstart click",function(){o.resolve()});r.body.append(n);return{notification:p}});a("outgoing_links",["capabilities","z"],function(e,t){t.win.bind("loaded",function r(){if(e.chromeless){$("a[rel=external]").attr("target","_blank")}$('a[href^="http://outgoing.mozilla.org"]').each(function(t){var r=$(this),n=r.attr("href"),a=unescape(n.split("/").slice(5).join("/"));r.attr("href",a);if(e.chromeless){r.attr("target","_blank")}r.click(function(e){r.attr("href",n);setTimeout(function(){r.attr("href",a)},100);return true})})});t.doc.on("click","a.external, a[rel=external]",function(){if(e.chromeless){$(this).attr("target","_blank")}})});a("overflow",[],function(){return{init:function(){var e=$(".infobox.support");e.find("ul.c a").each(function(){if(this.scrollWidth>$(this).innerWidth()){e.addClass("overflowing");return}})}}});a("overlay",["keys","l10n","utils","z"],function(e,t,r,n){var a=t.gettext;function o(){var e=$(".overlay.show");if(e.length){e.removeClass("show");e.trigger("overlay_dismissed")}}n.body.on("touchmove",".overlay",function(e){e.preventDefault();e.stopPropagation()}).on("click",function(){$("#notification").removeClass("show")});n.page.on("loaded",o);n.body.on("click",".overlay",function(e){if($(e.target).parent("body").length){o()
}}).on("keydown.overlayDismiss",function(t){if(!r.fieldFocused(t)&&t.which==e.ESCAPE){t.preventDefault();o()}}).on("dismiss",".overlay",o).on("click",".overlay .dismiss",r._pd(o)).on("overlay_dismissed",function(){n.body.removeClass("overlayed")})});a("paginator",["z"],function(e){e.page.on("click",".loadmore button",function(e){var t=$(this);var r=t.parents(".loadmore");r.addClass("loading");r.append('<div class="spinner alt btn-replace">')})});a("previews",["flipsnap","templates","capabilities","shothandles","underscore","z"],function(e,t,r,n,a,o){var i=180;var s=195;var u=[];function l(){var o=$(this);var l=o.prev();if(!l.hasClass("mkt-tile")||o.find(".slider").length){return}var c=l.data("product");var p="";if(!c||!c.previews)return;a.each(c.previews,function(e){e.typeclass=e.filetype==="video/webm"?"video":"img";p+=t.env.getTemplate("detail/single_preview.html").render(e)});var f="";if(c.previews.length>1){f=Array(c.previews.length+1).join('<b class="dot"></b>')}o.html(t.env.getTemplate("detail/preview_tray.html").render({previews:p,dots:f}));var d=o.find("li").length;var h=o.find(".content");var m=d*s-15;h.css({width:m+"px",margin:"0 "+(o.width()-i)/2+"px"});var g=e(o.find(".content")[0],{distance:195});var v=o.find(".dots .dot");g.element.addEventListener("fsmoveend",y,false);g.moveToPoint(~~(o.width()/s/2));u.push(g);function y(){v.filter(".current").removeClass("current");v.eq(g.currentPoint).addClass("current")}o.on("click.tray",".dot",function(){g.moveToPoint($(this).index())});if(d>3&&r.widescreen){n.attachHandles(g,o.find(".slider"))}}o.doc.on("saferesize.tray",function(){$(".tray").each(function(){var e=$(this);e.find(".content").css("margin","0 "+(e.width()-i)/2+"px")});for(var e=0,t;t=u[e++];){t.refresh()}});o.win.on("unloading.tray",function(){$(".tray").off("click.tray");for(var e=0,t;t=u[e++];){t.destroy()}u=[]});o.page.on("dragstart dragover",function(e){e.preventDefault()}).on("loaded populatetray",function(){$(".listing.expanded .mkt-tile + .tray:empty").each(l)})});a("ratings",["cache","capabilities","l10n","login","templates","underscore","utils","urls","user","z","requests","notification","common/ratingwidget"],function(e,t,r,n,a,i,s,u,l,c){"use strict";var p=r.gettext;var f=o("notification").notification;var d=o("forms");function h(){var e=function(e,t){var r=$(e);var n=parseInt(r.attr("maxlength"),10);var a=n-r.val().length;t.html(ngettext("<b>{n}</b> character left.","<b>{n}</b> characters left.",{n:a})).toggleClass("error",a<0)};$(".char-count").each(function(){var t=$(this);t.closest("form").find("#"+t.data("for")).on("keyup blur",i.throttle(function(){e(this,t)},250)).trigger("blur")})}function m(t,r){var n=u.api.unsigned.url("reviews");e.attemptRewrite(function(e){if(s.baseurl(e)!==n){return}var r=s.querystring(e);if("app"in r&&r.app===t){return true}},r)}function g(e){var t=s.makeOrGetOverlay("flag-review");t.html(a.env.getTemplate("ratings/report.html").render(o("helpers")));t.addClass("show").trigger("overlayloaded");t.one("click",".cancel",s._pd(function(){t.removeClass("show")})).one("click",".menu a",s._pd(function(r){var n=e.find(".actions .flag");t.removeClass("show");n.text(p("Sending report..."));o("requests").post(o("settings").api_url+u.api.sign(e.data("report-uri")),{flag:$(r.target).attr("href").replace("#","")}).done(function(){f({message:p("Review flagged")});n.remove()}).fail(function(){f({message:p("Report review operation failed")})})}))}function v(e,t,r){e.addClass("deleting");o("requests").del(o("settings").api_url+u.api.sign(t)).done(function(){f({message:p("Your review was deleted")});m(r,function(e){e.objects=e.objects.filter(function(e){return e.resource_uri!==t});e.meta.total_count-=1;e.user.has_rated=false;return e});o("views").reload()}).fail(function(){f({message:p("There was a problem deleting the review")})})}function y(e){if(!l.logged_in()){n.login().done(function(){y(e)});return}var t=s.makeOrGetOverlay("edit-review");var r=i.extend({slug:e.data("app")},o("helpers"));t.html(a.env.getTemplate("ratings/write-overlay.html").render(r));t.find('select[name="rating"]').ratingwidget("large");h();t.addClass("show").trigger("overlayloaded");t.on("click",".cancel",function(e){e.preventDefault();t.removeClass("show")})}c.page.on("click",".review .actions a, #add-review",s._pd(function(e){var t=$(this);var r=t.data("action");if(!r)return;var n=t.closest(".review");switch(r){case"delete":v(n,t.data("href"),t.data("app"));break;case"add":y(t);break;case"report":g(n);break}})).on("loaded",function(){$('select[name="rating"]').ratingwidget();h();if($(".reviews.add-review").length){addOrEditYourReview($("#add-first-review"))}});c.body.on("submit","form.add-review-form",function(e){e.preventDefault();var t=$(this);var r=t.data("app");d.toggleReviewFormState(t);var n=s.getVars(t.serialize());n.app=r;o("requests").post(u.api.url("reviews"),n).done(function(e){m(r,function(t){t.objects.unshift(e);t.meta.total_count+=1;t.user.has_rated=true;return t});f({message:p("Your review was posted")});var n=t.closest(".overlay");if(n.length){n.remove();o("views").reload()}else{c.page.trigger("navigate",u.reverse("app",[t.data("app")]))}}).fail(function(){d.toggleReviewFormState(t,true);f({message:p("Error while submitting review")})})});return{_rewriter:m}});a("requests",["cache","jquery","user","utils"],function(r,n,a,o){function i(e){if(r.has(e)){console.log("[req] GETing from cache",e);return n.Deferred().resolve(r.get(e)).promise({__cached:true})}return s.apply(this,arguments)}function s(e){console.log("[req] GETing",e);return n.get(e).done(function(t,n,i){console.log("[req] GOT",e);r.set(e,t);if(!i){return}var s;if((!a.get_setting("region")||a.get_setting("region")=="internet")&&(s=i.getResponseHeader("X-API-Filter"))){var u=o.getVars(i.getResponseHeader("X-API-Filter")).region;a.update_settings({region:u})}})}function u(e,t){console.log("[req] POSTing",e);return n.post(e,t).done(function(t){console.log("[req] POSTed",e)})}function l(e){console.log("[req] DELETing",e);return n.ajax({url:e,type:"DELETE"})}function c(e,t){console.log("[req] PUTing",e);return n.ajax({url:e,type:"PUT",data:t})}function p(e,t){console.log("[req] PATCHing",e);return n.ajax({url:e,type:"PATCH",data:t})}function f(){console.log("[req] Opening pool");var r=[];var a={};var o=n.Deferred();var s=0;var f=false;var d=this.finish=function(){if(f){return}if(!s){console.log("[req] Closing pool");f=true;this.get=null;this.post=null;this.del=null;if(e.setImmediate){setImmediate(o.resolve)}else{setTimeout(o.resolve,0)}}};function h(e,t){var n=e.apply(this,t);s++;r.push(n);n.always(function(){s--;d()});return n}this.get=function(e){if(e in a){return a[e]}var t=h(i,arguments);a[e]=t;return t};this.post=function(){return h(u,arguments)};this.del=function(){return h(l,arguments)};this.put=function(){return h(c,arguments)};this.patch=function(){return h(p,arguments)};this.abort=function(){for(var e=0,n;n=r[e++];){if(n.abort===t||n.isSuccess!==false){return}n.abort()}o.reject()};o.promise(this)}return{get:i,post:u,del:l,put:c,patch:p,pool:function(){return new f}}});a("rewriters",["underscore","urls","utils"],function(e,t,r){function n(e){return function(t,n,a){var o=r.baseurl(t);if(o!==r.baseurl(e)){return}var i=r.querystring(t);if(!("offset"in i)){return}delete i.offset;delete i.limit;var s=r.urlparams(o,i);console.log("[rewrite] Attempting to rewrite",s);if(!(s in a)){console.error("[rewrite] Could not find cache entry to rewrite");return}a[s].meta.limit+=n.meta.limit;a[s].meta.next=n.meta.next;a[s].objects=a[s].objects.concat(n.objects);return null}}return[n(t.api.unsigned.url("search")),n(t.api.unsigned.url("category"))]});(function(){var t;var r=[{pattern:"^/$",view_name:"homepage"},{pattern:"^/(index|server).html$",view_name:"homepage"},{pattern:"^/app/([^/<>\"']+)/ratings/add$",view_name:"app/ratings/add"},{pattern:"^/app/([^/<>\"']+)/ratings/edit$",view_name:"app/ratings/edit"},{pattern:"^/app/([^/<>\"']+)/ratings$",view_name:"app/ratings"},{pattern:"^/app/([^/<>\"']+)/abuse$",view_name:"app/abuse"},{pattern:"^/app/([^/<>\"']+)/privacy$",view_name:"app/privacy"},{pattern:"^/user/([^/<>\"']+)/abuse",view_name:"user/abuse"},{pattern:"^/app/([^/<>\"']+)$",view_name:"app"},{pattern:"^/search$",view_name:"search"},{pattern:"^/category/([^/<>\"']+)$",view_name:"category"},{pattern:"^/category/([^/<>\"']+)/featured$",view_name:"featured"},{pattern:"^/settings$",view_name:"settings"},{pattern:"^/purchases$",view_name:"purchases"},{pattern:"^/abuse$",view_name:"abuse"},{pattern:"^/privacy-policy$",view_name:"privacy"},{pattern:"^/terms-of-use$",view_name:"terms"},{pattern:"^/tests$",view_name:"tests"},{pattern:"^/debug$",view_name:"debug"}];t=r.map(function(e){return"views/"+e.view_name});e.routes=r;a("routes",t,function(){for(var e=0;e<r.length;e++){var t=r[e];var n=o("views/"+t.view_name);t.view=n}console.log("[routes] Views loaded");return r})})();a("settings",["settings_local","underscore"],function(t,r){return r.defaults(t,{api_url:"http://"+e.location.hostname+":5000",simulate_nav_pay:false,fragment_error_template:"errors/fragment.html",payments_enabled:true,tracking_enabled:false,REGION_CHOICES_SLUG:{us:"United States",br:"Brazil",es:"Spain"},timing_url:"",persona_unverified_issuer:null,native_persona:"https://native-persona.org/include.js",persona:"https://login.persona.org/include.js",title_suffix:"Firefox Marketplace",carrier:null})});a("settings_local",[],function(){var t=e.location.origin||e.location.protocol+"//"+e.location.host;return{api_url:t}});a("shothandles",["utils"],function(e){function t(t,r){r.find(".prev, .next").remove();var n=$('<a href="#" class="prev"></a>'),a=$('<a href="#" class="next"></a>');function o(){n.hide();a.hide();if(t.hasNext()){a.show()}if(t.hasPrev()){n.show()}}n.click(e._pd(function(){t.toPrev()}));a.click(e._pd(function(){t.toNext()}));t.element.addEventListener("fsmoveend",o);o();r.append(n,a)}return{attachHandles:t}});a("tracking",["settings"],function(t){if(!t.tracking_enabled){return}e._gaq=e._gaq||[];_gaq.push(["_setAccount","UA-36116321-6"]);_gaq.push(["_trackPageview"]);var r=document.createElement("script");r.type="text/javascript";r.async=true;r.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(r,n)});a("urls",["buckets","capabilities","format","settings","underscore","user","utils"],function(e,t,r,n,a){var i=/\(.+\)/;var s=function(e,t){t=t||[];for(var n in routes){var a=routes[n];if(a.view_name!=e)continue;var o=a.pattern.substring(1,a.pattern.length-1);var n=0;while(i.test(o)){o=o.replace(i,"{"+n++ +"}")}if(t.length!=n){console.error("Expected "+n+" args, got "+t.length);throw new Error('Wrong number of arguments passed to reverse(). View: "'+e+'", Argument "'+t+'"')}return r.format(o,t)}console.error('Could not find the view "'+e+'".')};var u={app:"/api/v1/apps/app/{0}/",category:"/api/v1/apps/search/featured/?cat={0}",categories:"/api/v1/apps/category/",reviews:"/api/v1/apps/rating/",settings:"/api/v1/account/settings/mine/",installed:"/api/v1/account/installed/mine/",login:"/api/v1/account/login/",record:"/api/v1/receipts/install/",app_abuse:"/api/v1/abuse/app/",user_abuse:"/api/v1/abuse/user/",search:"/api/v1/apps/search/",feedback:"/api/v1/account/feedback/",terms_of_use:"/terms-of-use.html",privacy_policy:"/privacy-policy.html"};var l=a.once(function(){if(t.firefoxOS){return"firefoxos"}else if(t.firefoxAndroid){return"android"}else{return"desktop"}});var c=o("user");function p(t){return function(){var r=t.apply(this,arguments);var a={format:"json",lang:navigator.language,region:c.get_setting("region")||"",dev:l(),pro:e.get_profile()};if(c.logged_in()){a._user=c.get_token()}if(n.carrier){a.carrier=n.carrier.slug}return o("utils").urlparams(r,a)}}var f=function(e,t,a){if(!(e in u)){console.error("Invalid API endpoint: "+e);return""}var i=n.api_url+r.format(u[e],t||[]);if(a){return o("utils").urlparams(i,a)}return i};var d=function(e,t){return f(e,[],t)};return{reverse:s,api:{url:p(f),params:p(d),sign:p(a.identity),unsigned:{url:f,params:d}}}});a("user",[],function(){var e=localStorage.getItem("user");var r=JSON.parse(localStorage.getItem("settings")||"{}");function n(){localStorage.removeItem("user");e=null}function a(n){if(!e){return t}return r[n]}function o(t,r){if(!t){return}localStorage.setItem("user",e=t);i(r)}function i(e){if(!e){return}l.extend(r,e);localStorage.setItem("settings",JSON.stringify(r))}return{clear_token:n,get_setting:a,get_token:function(){return e},logged_in:function(){return!!e},set_token:o,update_settings:i}});a("utils",["jquery","underscore"],function(r,n){n.extend(String.prototype,{strip:function(e){return this.replace(/\s/g,"")}});function a(e){return function(t){t.preventDefault();if(e){e.apply(this,arguments)}}}function o(e){if(e===t){return}return e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/'/g,"&#39;").replace(/"/g,"&#34;")}function i(e){var t=/input|keygen|meter|option|output|progress|select|textarea/i;return t.test(e.target.nodeName)}function s(e){var t=e.indexOf("?");if(t===-1){return{}}else{return d(e.substr(t+1))}}function u(e){return e.split("?")[0]}function l(){return e.encodeURIComponent.apply(this,arguments).replace(/%20/g,"+")}function c(){return e.decodeURIComponent.apply(this,arguments).replace(/\+/g," ")}function p(e){var t=[];if("__keywords"in e){delete e.__keywords}var r=n.keys(e).sort();for(var a=0;a<r.length;a++){var o=r[a];t.push(l(o)+"="+l(e[o]))}return t.join("&")}function f(e,t){return u(e)+"?"+p(n.defaults(t,s(e)))}function d(e,t){if(typeof e==="undefined"){e=location.search}if(e&&e[0]=="?"){e=e.substr(1)}if(!e)return{};return n.chain(e.split("&")).map(function(e){return e.split("=").map(c)}).filter(function(e){return!!e[0]&&(!t||!n.isUndefined(e[1]))}).object().value()}function h(e){r("#"+t).remove();var t=r('<div class="overlay" id="'+e+'">');document.body.appendChild(t[0]);return t}return{_pd:a,escape_:o,fieldFocused:i,getVars:d,makeOrGetOverlay:h,urlparams:f,baseurl:u,querystring:s,urlencode:p}});a("views",["builder","routes","underscore","utils","views/not_found","z"],function(e,r,n,a,o,i){r=r.map(function(e){e.regexp=new RegExp(e.pattern);return e});function s(e){var a,i;if((a=e.indexOf("#"))>=0){e=e.substr(0,a)}if((i=e.indexOf("?"))>=0){e=e.substr(0,i)}if(e[0]!="/"){e="/"+e}console.log("[views] Routing",e);for(var s in r){var u=r[s];if(u===t)continue;var l=u.regexp.exec(e);if(!l)continue;try{return[u.view,n.rest(l)]}catch(c){console.error("Route matched but view not initialized!",c);return null}}console.warn("Failed to match route for "+e);return[o,null]}var u;function l(t,r,n){u=arguments;var o=e.getBuilder();t(o,r,a.getVars(),n);o.finish();return o}function c(){i.win.trigger("unloading");return l.apply(this,u)}return{build:l,match:s,reload:c,routes:r}});a("webactivities",["capabilities","urls","z"],function(e,t,r){if(!e.webactivities){return}navigator.mozSetMessageHandler("marketplace-app",function(e){var n=e.source.data.slug;r.page.trigger("navigate",[t.reverse("app",[n])])});navigator.mozSetMessageHandler("marketplace-app-rating",function(e){var n=e.source.data.slug;r.page.trigger("navigate",[t.reverse("app/ratings/add",[n])])});navigator.mozSetMessageHandler("marketplace-category",function(e){var n=e.source.data.slug;r.page.trigger("navigate",[t.reverse("category",[n])])});navigator.mozSetMessageHandler("marketplace-search",function(e){var t=e.source.data.query;r.page.trigger("search",{q:t})})});a("z",["jquery","underscore"],function(t,r){var n={win:t(e),doc:t(document),body:t(document.body),container:t("main"),page:t("#page"),canInstallApps:true,state:{},apps:{}};var a=n.body.data("user");r.extend(n,{allowAnonInstalls:!!n.body.data("allow-anon-installs"),enableSearchSuggestions:!!n.body.data("enable-search-suggestions"),anonymous:a?a.anonymous:false,pre_auth:a?a.pre_auth:false});return n});a("common/ratingwidget",["jquery"],function(e){e.fn.ratingwidget=function(t){this.each(function(r,n){if(!t){t=""}var a=e(n);var o="ratingwidget stars stars-0 "+t;var s=e('<span class="'+o+'"></span>');var u="";var l=function(e){s.removeClass("stars-0 stars-1 stars-2 stars-3 stars-4 stars-5").addClass("stars-"+e)};var c=function(e){if(p==e)return;var t=s.find(i('[value="{0}"]',e));t.click();l(e);p=e};var p;if(e("option[selected]",a).length){var f=a.val();c(f);p=parseInt(f,10)}for(var d=1;d<=5;d++){var h=p===d?" checked":"";u+=i('<label data-stars="{0}">{1}<input required type="radio" name="rating"{2} value="{3}"></label>',[d,ngettext("{n} star","{n} stars",{n:d}),h,d])}s.click(function(t){var r=e(t.target);if(r.is("input[type=radio]")){l(p=r.attr("value"));if(!r.val()){r.attr("checked",true)}}}).mouseover(function(t){var r=e(t.target);if(r.attr("data-stars")){l(r.attr("data-stars"))}}).mouseout(function(e){l(p||0)}).bind("touchmove touchend",function(e){var t=s.width();var r=s.offset().left;var n=(e.originalEvent.touches[0].clientX-r)/t*5+1;n=Math.min(Math.max(n,1),5)|0;c(n)});s.html(u);a.before(s).detach()});return this}});(function(e,t,r){var n=t.createElement("div");var o=["webkit","moz","o","ms"];var i={};var s={};s.transform3d=d(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);s.transform=d(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"]);s.transition=d(["transitionProperty","WebkitTransitionProperty","MozTransitionProperty","OTransitionProperty","msTransitionProperty"]);s.touch="ontouchstart"in e;s.cssAnimation=(s.transform3d||s.transform)&&s.transition;var u=s.touch?"touchstart":"mousedown";var l=s.touch?"touchmove":"mousemove";var c=s.touch?"touchend":"mouseup";function p(e,t){return this instanceof p?this.init(e,t):new p(e,t)}p.prototype.init=function(n,a){var o=this;o.element=n;if(typeof n==="string"){o.element=t.querySelector(n)}if(!o.element){throw new Error("element not found")}a=a||{};o.distance=a.distance===r?null:a.distance;o.maxPoint=a.maxPoint===r?null:a.maxPoint;o.disableTouch=a.disableTouch===r?false:a.disableTouch;o.disable3d=a.disable3d===r?false:a.disable3d;o.currentPoint=0;o.currentX=0;o.animation=false;o.use3d=s.transform3d;if(o.disable3d===true){o.use3d=false}if(s.cssAnimation){o._setStyle({transitionProperty:m("transform"),transitionTimingFunction:"cubic-bezier(0,0,0.25,1)",transitionDuration:"0ms",transform:o._getTranslate(0)})}else{o._setStyle({position:"relative",left:"0px"})}o.refresh();o.element.addEventListener(u,o,false);e.addEventListener(l,o,false);e.addEventListener(c,o,false);return o};p.prototype.handleEvent=function(e){var t=this;switch(e.type){case u:t._touchStart(e);break;case l:t._touchMove(e);break;case c:t._touchEnd(e);break;case"click":t._click(e);break}};p.prototype.refresh=function(){var e=this;e._maxPoint=e.maxPoint||function(){var t=e.element.childNodes,r=0,n=0,a=t.length,o;for(;n<a;n++){o=t[n];if(o.nodeType===1){r++}}if(r>0){r--}return r}();e._distance=e.distance||e.element.scrollWidth/(e._maxPoint+1);e._maxX=-e._distance*e._maxPoint;e.moveToPoint()};p.prototype.hasNext=function(){var e=this;return e.currentPoint<e._maxPoint};p.prototype.hasPrev=function(){var e=this;return e.currentPoint>0};p.prototype.toNext=function(){var e=this;if(!e.hasNext()){return}e.moveToPoint(e.currentPoint+1)};p.prototype.toPrev=function(){var e=this;if(!e.hasPrev()){return}e.moveToPoint(e.currentPoint-1)};p.prototype.moveToPoint=function(e){var t=this;var n=t.currentPoint;if(e===r){e=t.currentPoint}if(e<0){t.currentPoint=0}else if(e>t._maxPoint){t.currentPoint=t._maxPoint}else{t.currentPoint=parseInt(e,10)}if(s.cssAnimation){t._setStyle({transitionDuration:"350ms"})}else{t.animation=true}t._setX(-t.currentPoint*t._distance);if(n!==t.currentPoint){y(t.element,"fsmoveend",true,false)}};p.prototype._setX=function(e){var t=this;t.currentX=e;if(s.cssAnimation){t.element.style[i.transform]=t._getTranslate(e)}else{if(t.animation){t._animate(e)}else{t.element.style.left=e+"px"}}};p.prototype._touchStart=function(e){var t=this;if(t.disableTouch){return}if(s.cssAnimation){t._setStyle({transitionDuration:"0ms"})}else{t.animation=false}t.scrolling=true;t.moveReady=false;t.startPageX=f(e,"pageX");t.startPageY=f(e,"pageY");t.basePageX=t.startPageX;t.directionX=0;t.startTime=e.timeStamp};p.prototype._touchMove=function(e){var t=this;if(!t.scrolling){return}var r=f(e,"pageX"),n=f(e,"pageY"),a,o,i,s;if(t.moveReady){e.stopPropagation();a=r-t.basePageX;o=t.currentX+a;if(o>=0||o<t._maxX){o=Math.round(t.currentX+a/3)}t._setX(o);t.directionX=a===0?t.directionX:a>0?-1:1}else{i=Math.abs(r-t.startPageX);s=Math.abs(n-t.startPageY);if(i>5){e.stopPropagation();t.moveReady=true;t.element.addEventListener("click",t,true)}else if(s>5){t.scrolling=false}}t.basePageX=r};p.prototype._touchEnd=function(e){var t=this;if(!t.scrolling){return}t.scrolling=false;var r=-t.currentX/t._distance;r=t.directionX>0?Math.ceil(r):t.directionX<0?Math.floor(r):Math.round(r);t.moveToPoint(r);setTimeout(function(){t.element.removeEventListener("click",t,true)},200)};p.prototype._click=function(e){var t=this;e.stopPropagation();e.preventDefault()};p.prototype._setStyle=function(e){var t=this;var r=t.element.style;for(var n in e){h(r,n,e[n])}};p.prototype._animate=function(e){var t=this;var r=t.element;var n=+new Date;var a=parseInt(r.style.left,10);var o=e;var i=350;var s=function(e,t){return-(e/=t)*(e-2)};var u=setInterval(function(){var e=new Date-n;var t,l;if(e>i){clearInterval(u);l=o}else{t=s(e,i);l=t*(o-a)+a}r.style.left=l+"px"},10)};p.prototype.destroy=function(){var e=this;e.element.removeEventListener(u,e);e.element.removeEventListener(l,e);e.element.removeEventListener(c,e)};p.prototype._getTranslate=function(e){var t=this;return t.use3d?"translate3d("+e+"px, 0, 0)":"translate("+e+"px, 0)"};function f(e,t){return s.touch?e.changedTouches[0][t]:e[t]}function d(e){return v(e,function(e){return n.style[e]!==r})}function h(e,t,n){var a=i[t];if(a){e[a]=n}else if(e[t]!==r){i[t]=t;e[t]=n}else{v(o,function(a){var o=g(a)+g(t);if(e[o]!==r){i[t]=o;e[o]=n;return true}})}}function m(e){if(n.style[e]!==r){return e}else{var t;v(o,function(a){var o=g(a)+g(e);if(n.style[o]!==r){t="-"+a+"-"+e;return true}});return t}}function g(e){return e.charAt(0).toUpperCase()+e.substr(1)}function v(e,t){for(var r=0,n=e.length;r<n;r++){if(t(e[r],r)){return true}}return false}function y(e,r,n,a){var o=t.createEvent("Event");o.initEvent(r,n,a);e.dispatchEvent(o)}e.Flipsnap=p;a("flipsnap",[],function(){return p})})(e,e.document);var i=function(){var e=/\{([^}]+)\}/g;return function(t,r){if(!t){throw"Format string is empty!"}if(!r)return;if(!(r instanceof Array||r instanceof Object))r=Array.prototype.slice.call(arguments,1);return t.replace(e,function(e,t){return r[t]})}}();function s(e){if(!e){throw"Template string is empty!"}return function(t){return i(e,t)}}a("format",[],function(){return{format:i,template:s}});(function(e,t){var r,n,o=typeof t,i=e.document,s=e.location,u=e.jQuery,l=e.$,c={},p=[],f="1.9.1",d=p.concat,h=p.push,m=p.slice,g=p.indexOf,v=c.toString,y=c.hasOwnProperty,b=f.trim,k=function(e,t){return new k.fn.init(e,t,n)},x=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,w=/\S+/g,_=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,L=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,O=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,T=/^[\],:{}\s]*$/,F=/(?:^|:|,)(?:\s*\[)+/g,E=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,A=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,S=/^-ms-/,C=/-([\da-z])/gi,N=function(e,t){return t.toUpperCase()},M=function(e){if(i.addEventListener||e.type==="load"||i.readyState==="complete"){V();k.ready()}},V=function(){if(i.addEventListener){i.removeEventListener("DOMContentLoaded",M,false);e.removeEventListener("load",M,false)}else{i.detachEvent("onreadystatechange",M);e.detachEvent("onload",M)}};k.fn=k.prototype={jquery:f,constructor:k,init:function(e,r,n){var a,o;if(!e){return this}if(typeof e==="string"){if(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3){a=[null,e,null]}else{a=L.exec(e)}if(a&&(a[1]||!r)){if(a[1]){r=r instanceof k?r[0]:r;k.merge(this,k.parseHTML(a[1],r&&r.nodeType?r.ownerDocument||r:i,true));if(O.test(a[1])&&k.isPlainObject(r)){for(a in r){if(k.isFunction(this[a])){this[a](r[a])}else{this.attr(a,r[a])}}}return this}else{o=i.getElementById(a[2]);if(o&&o.parentNode){if(o.id!==a[2]){return n.find(e)}this.length=1;this[0]=o}this.context=i;this.selector=e;return this}}else if(!r||r.jquery){return(r||n).find(e)}else{return this.constructor(r).find(e)}}else if(e.nodeType){this.context=this[0]=e;this.length=1;return this}else if(k.isFunction(e)){return n.ready(e)}if(e.selector!==t){this.selector=e.selector;this.context=e.context}return k.makeArray(e,this)},selector:"",length:0,size:function(){return this.length},toArray:function(){return m.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);t.prevObject=this;t.context=this.context;return t},each:function(e,t){return k.each(this,e,t)},ready:function(e){k.ready.promise().done(e);return this},slice:function(){return this.pushStack(m.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(r>=0&&r<t?[this[r]]:[])},map:function(e){return this.pushStack(k.map(this,function(t,r){return e.call(t,r,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:h,sort:[].sort,splice:[].splice};k.fn.init.prototype=k.fn;k.extend=k.fn.extend=function(){var e,r,n,a,o,i,s=arguments[0]||{},u=1,l=arguments.length,c=false;if(typeof s==="boolean"){c=s;s=arguments[1]||{};u=2}if(typeof s!=="object"&&!k.isFunction(s)){s={}}if(l===u){s=this;--u}for(;u<l;u++){if((o=arguments[u])!=null){for(a in o){e=s[a];n=o[a];if(s===n){continue}if(c&&n&&(k.isPlainObject(n)||(r=k.isArray(n)))){if(r){r=false;i=e&&k.isArray(e)?e:[]}else{i=e&&k.isPlainObject(e)?e:{}}s[a]=k.extend(c,i,n)}else if(n!==t){s[a]=n}}}}return s};k.extend({noConflict:function(t){if(e.$===k){e.$=l}if(t&&e.jQuery===k){e.jQuery=u}return k},isReady:false,readyWait:1,holdReady:function(e){if(e){k.readyWait++}else{k.ready(true)}},ready:function(e){if(e===true?--k.readyWait:k.isReady){return}if(!i.body){return setTimeout(k.ready)}k.isReady=true;if(e!==true&&--k.readyWait>0){return}r.resolveWith(i,[k]);if(k.fn.trigger){k(i).trigger("ready").off("ready")}},isFunction:function(e){return k.type(e)==="function"},isArray:Array.isArray||function(e){return k.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){if(e==null){return String(e)}return typeof e==="object"||typeof e==="function"?c[v.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||k.type(e)!=="object"||e.nodeType||k.isWindow(e)){return false}try{if(e.constructor&&!y.call(e,"constructor")&&!y.call(e.constructor.prototype,"isPrototypeOf")){return false}}catch(r){return false}var n;for(n in e){}return n===t||y.call(e,n)},isEmptyObject:function(e){var t;for(t in e){return false}return true},error:function(e){throw new Error(e)},parseHTML:function(e,t,r){if(!e||typeof e!=="string"){return null}if(typeof t==="boolean"){r=t;t=false}t=t||i;var n=O.exec(e),a=!r&&[];if(n){return[t.createElement(n[1])]}n=k.buildFragment([e],t,a);if(a){k(a).remove()}return k.merge([],n.childNodes)},parseJSON:function(t){if(e.JSON&&e.JSON.parse){return e.JSON.parse(t)}if(t===null){return t}if(typeof t==="string"){t=k.trim(t);if(t){if(T.test(t.replace(E,"@").replace(A,"]").replace(F,""))){return new Function("return "+t)()}}}k.error("Invalid JSON: "+t)},parseXML:function(r){var n,a;if(!r||typeof r!=="string"){return null}try{if(e.DOMParser){a=new DOMParser;n=a.parseFromString(r,"text/xml")}else{n=new ActiveXObject("Microsoft.XMLDOM");n.async="false";n.loadXML(r)}}catch(o){n=t}if(!n||!n.documentElement||n.getElementsByTagName("parsererror").length){k.error("Invalid XML: "+r)}return n},noop:function(){},globalEval:function(t){if(t&&k.trim(t)){(e.execScript||function(t){e["eval"].call(e,t)})(t)}},camelCase:function(e){return e.replace(S,"ms-").replace(C,N)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var n,a=0,o=e.length,i=W(e);if(r){if(i){for(;a<o;a++){n=t.apply(e[a],r);if(n===false){break}}}else{for(a in e){n=t.apply(e[a],r);if(n===false){break}}}}else{if(i){for(;a<o;a++){n=t.call(e[a],a,e[a]);if(n===false){break}}}else{for(a in e){n=t.call(e[a],a,e[a]);if(n===false){break}}}}return e},trim:b&&!b.call("﻿ ")?function(e){return e==null?"":b.call(e)}:function(e){return e==null?"":(e+"").replace(_,"")},makeArray:function(e,t){var r=t||[];if(e!=null){if(W(Object(e))){k.merge(r,typeof e==="string"?[e]:e)}else{h.call(r,e)}}return r},inArray:function(e,t,r){var n;if(t){if(g){return g.call(t,e,r)}n=t.length;r=r?r<0?Math.max(0,n+r):r:0;for(;r<n;r++){if(r in t&&t[r]===e){return r}}}return-1},merge:function(e,r){var n=r.length,a=e.length,o=0;if(typeof n==="number"){for(;o<n;o++){e[a++]=r[o]}}else{while(r[o]!==t){e[a++]=r[o++]}}e.length=a;return e},grep:function(e,t,r){var n,a=[],o=0,i=e.length;r=!!r;for(;o<i;o++){n=!!t(e[o],o);if(r!==n){a.push(e[o])}}return a},map:function(e,t,r){var n,a=0,o=e.length,i=W(e),s=[];if(i){for(;a<o;a++){n=t(e[a],a,r);if(n!=null){s[s.length]=n}}}else{for(a in e){n=t(e[a],a,r);if(n!=null){s[s.length]=n}}}return d.apply([],s)},guid:1,proxy:function(e,r){var n,a,o;if(typeof r==="string"){o=e[r];r=e;e=o}if(!k.isFunction(e)){return t}n=m.call(arguments,2);a=function(){return e.apply(r||this,n.concat(m.call(arguments)))};a.guid=e.guid=e.guid||k.guid++;return a},access:function(e,r,n,a,o,i,s){var u=0,l=e.length,c=n==null;if(k.type(n)==="object"){o=true;for(u in n){k.access(e,r,u,n[u],true,i,s)}}else if(a!==t){o=true;if(!k.isFunction(a)){s=true}if(c){if(s){r.call(e,a);r=null}else{c=r;r=function(e,t,r){return c.call(k(e),r)}}}if(r){for(;u<l;u++){r(e[u],n,s?a:a.call(e[u],u,r(e[u],n)))}}}return o?e:c?r.call(e):l?r(e[0],n):i},now:function(){return(new Date).getTime()}});k.ready.promise=function(t){if(!r){r=k.Deferred();if(i.readyState==="complete"){setTimeout(k.ready)}else if(i.addEventListener){i.addEventListener("DOMContentLoaded",M,false);e.addEventListener("load",M,false)}else{i.attachEvent("onreadystatechange",M);e.attachEvent("onload",M);var n=false;try{n=e.frameElement==null&&i.documentElement}catch(a){}if(n&&n.doScroll){(function o(){if(!k.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}V();k.ready()}})()}}}return r.promise(t)};k.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()});function W(e){var t=e.length,r=k.type(e);if(k.isWindow(e)){return false}if(e.nodeType===1&&t){return true}return r==="array"||r!=="function"&&(t===0||typeof t==="number"&&t>0&&t-1 in e)}n=k(i);var I={};function R(e){var t=I[e]={};k.each(e.match(w)||[],function(e,r){t[r]=true});return t}k.Callbacks=function(e){e=typeof e==="string"?I[e]||R(e):k.extend({},e);var r,n,a,o,i,s,u=[],l=!e.once&&[],c=function(t){n=e.memory&&t;a=true;i=s||0;s=0;o=u.length;r=true;for(;u&&i<o;i++){if(u[i].apply(t[0],t[1])===false&&e.stopOnFalse){n=false;break}}r=false;if(u){if(l){if(l.length){c(l.shift())}}else if(n){u=[]}else{p.disable()}}},p={add:function(){if(u){var t=u.length;(function a(t){k.each(t,function(t,r){var n=k.type(r);if(n==="function"){if(!e.unique||!p.has(r)){u.push(r)}}else if(r&&r.length&&n!=="string"){a(r)}})})(arguments);if(r){o=u.length}else if(n){s=t;c(n)}}return this},remove:function(){if(u){k.each(arguments,function(e,t){var n;while((n=k.inArray(t,u,n))>-1){u.splice(n,1);if(r){if(n<=o){o--}if(n<=i){i--}}}})}return this},has:function(e){return e?k.inArray(e,u)>-1:!!(u&&u.length)},empty:function(){u=[];return this},disable:function(){u=l=n=t;return this},disabled:function(){return!u},lock:function(){l=t;if(!n){p.disable()
}return this},locked:function(){return!l},fireWith:function(e,t){t=t||[];t=[e,t.slice?t.slice():t];if(u&&(!a||l)){if(r){l.push(t)}else{c(t)}}return this},fire:function(){p.fireWith(this,arguments);return this},fired:function(){return!!a}};return p};k.extend({Deferred:function(e){var t=[["resolve","done",k.Callbacks("once memory"),"resolved"],["reject","fail",k.Callbacks("once memory"),"rejected"],["notify","progress",k.Callbacks("memory")]],r="pending",n={state:function(){return r},always:function(){a.done(arguments).fail(arguments);return this},then:function(){var e=arguments;return k.Deferred(function(r){k.each(t,function(t,o){var i=o[0],s=k.isFunction(e[t])&&e[t];a[o[1]](function(){var e=s&&s.apply(this,arguments);if(e&&k.isFunction(e.promise)){e.promise().done(r.resolve).fail(r.reject).progress(r.notify)}else{r[i+"With"](this===n?r.promise():this,s?[e]:arguments)}})});e=null}).promise()},promise:function(e){return e!=null?k.extend(e,n):n}},a={};n.pipe=n.then;k.each(t,function(e,o){var i=o[2],s=o[3];n[o[1]]=i.add;if(s){i.add(function(){r=s},t[e^1][2].disable,t[2][2].lock)}a[o[0]]=function(){a[o[0]+"With"](this===a?n:this,arguments);return this};a[o[0]+"With"]=i.fireWith});n.promise(a);if(e){e.call(a,a)}return a},when:function(e){var t=0,r=m.call(arguments),n=r.length,a=n!==1||e&&k.isFunction(e.promise)?n:0,o=a===1?e:k.Deferred(),i=function(e,t,r){return function(n){t[e]=this;r[e]=arguments.length>1?m.call(arguments):n;if(r===s){o.notifyWith(t,r)}else if(!--a){o.resolveWith(t,r)}}},s,u,l;if(n>1){s=new Array(n);u=new Array(n);l=new Array(n);for(;t<n;t++){if(r[t]&&k.isFunction(r[t].promise)){r[t].promise().done(i(t,l,r)).fail(o.reject).progress(i(t,u,s))}else{--a}}}if(!a){o.resolveWith(l,r)}return o.promise()}});k.support=function(){var t,r,n,a,s,u,l,c,p,f,d=i.createElement("div");d.setAttribute("className","t");d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";r=d.getElementsByTagName("*");n=d.getElementsByTagName("a")[0];if(!r||!n||!r.length){return{}}s=i.createElement("select");l=s.appendChild(i.createElement("option"));a=d.getElementsByTagName("input")[0];n.style.cssText="top:1px;float:left;opacity:.5";t={getSetAttribute:d.className!=="t",leadingWhitespace:d.firstChild.nodeType===3,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:n.getAttribute("href")==="/a",opacity:/^0.5/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:!!a.value,optSelected:l.selected,enctype:!!i.createElement("form").enctype,html5Clone:i.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",boxModel:i.compatMode==="CSS1Compat",deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,boxSizingReliable:true,pixelPosition:false};a.checked=true;t.noCloneChecked=a.cloneNode(true).checked;s.disabled=true;t.optDisabled=!l.disabled;try{delete d.test}catch(h){t.deleteExpando=false}a=i.createElement("input");a.setAttribute("value","");t.input=a.getAttribute("value")==="";a.value="t";a.setAttribute("type","radio");t.radioValue=a.value==="t";a.setAttribute("checked","t");a.setAttribute("name","t");u=i.createDocumentFragment();u.appendChild(a);t.appendChecked=a.checked;t.checkClone=u.cloneNode(true).cloneNode(true).lastChild.checked;if(d.attachEvent){d.attachEvent("onclick",function(){t.noCloneEvent=false});d.cloneNode(true).click()}for(f in{submit:true,change:true,focusin:true}){d.setAttribute(c="on"+f,"t");t[f+"Bubbles"]=c in e||d.attributes[c].expando===false}d.style.backgroundClip="content-box";d.cloneNode(true).style.backgroundClip="";t.clearCloneStyle=d.style.backgroundClip==="content-box";k(function(){var r,n,a,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",u=i.getElementsByTagName("body")[0];if(!u){return}r=i.createElement("div");r.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px";u.appendChild(r).appendChild(d);d.innerHTML="<table><tr><td></td><td>t</td></tr></table>";a=d.getElementsByTagName("td");a[0].style.cssText="padding:0;margin:0;border:0;display:none";p=a[0].offsetHeight===0;a[0].style.display="";a[1].style.display="none";t.reliableHiddenOffsets=p&&a[0].offsetHeight===0;d.innerHTML="";d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";t.boxSizing=d.offsetWidth===4;t.doesNotIncludeMarginInBodyOffset=u.offsetTop!==1;if(e.getComputedStyle){t.pixelPosition=(e.getComputedStyle(d,null)||{}).top!=="1%";t.boxSizingReliable=(e.getComputedStyle(d,null)||{width:"4px"}).width==="4px";n=d.appendChild(i.createElement("div"));n.style.cssText=d.style.cssText=s;n.style.marginRight=n.style.width="0";d.style.width="1px";t.reliableMarginRight=!parseFloat((e.getComputedStyle(n,null)||{}).marginRight)}if(typeof d.style.zoom!==o){d.innerHTML="";d.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1";t.inlineBlockNeedsLayout=d.offsetWidth===3;d.style.display="block";d.innerHTML="<div></div>";d.firstChild.style.width="5px";t.shrinkWrapBlocks=d.offsetWidth!==3;if(t.inlineBlockNeedsLayout){u.style.zoom=1}}u.removeChild(r);r=d=a=n=null});r=s=u=l=n=a=null;return t}();var P=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,D=/([A-Z])/g;function j(e,r,n,a){if(!k.acceptData(e)){return}var o,i,s=k.expando,u=typeof r==="string",l=e.nodeType,c=l?k.cache:e,f=l?e[s]:e[s]&&s;if((!f||!c[f]||!a&&!c[f].data)&&u&&n===t){return}if(!f){if(l){e[s]=f=p.pop()||k.guid++}else{f=s}}if(!c[f]){c[f]={};if(!l){c[f].toJSON=k.noop}}if(typeof r==="object"||typeof r==="function"){if(a){c[f]=k.extend(c[f],r)}else{c[f].data=k.extend(c[f].data,r)}}o=c[f];if(!a){if(!o.data){o.data={}}o=o.data}if(n!==t){o[k.camelCase(r)]=n}if(u){i=o[r];if(i==null){i=o[k.camelCase(r)]}}else{i=o}return i}function q(e,t,r){if(!k.acceptData(e)){return}var n,a,o,i=e.nodeType,s=i?k.cache:e,u=i?e[k.expando]:k.expando;if(!s[u]){return}if(t){o=r?s[u]:s[u].data;if(o){if(!k.isArray(t)){if(t in o){t=[t]}else{t=k.camelCase(t);if(t in o){t=[t]}else{t=t.split(" ")}}}else{t=t.concat(k.map(t,k.camelCase))}for(n=0,a=t.length;n<a;n++){delete o[t[n]]}if(!(r?H:k.isEmptyObject)(o)){return}}}if(!r){delete s[u].data;if(!H(s[u])){return}}if(i){k.cleanData([e],true)}else if(k.support.deleteExpando||s!=s.window){delete s[u]}else{s[u]=null}}k.extend({cache:{},expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(e){e=e.nodeType?k.cache[e[k.expando]]:e[k.expando];return!!e&&!H(e)},data:function(e,t,r){return j(e,t,r)},removeData:function(e,t){return q(e,t)},_data:function(e,t,r){return j(e,t,r,true)},_removeData:function(e,t){return q(e,t,true)},acceptData:function(e){if(e.nodeType&&e.nodeType!==1&&e.nodeType!==9){return false}var t=e.nodeName&&k.noData[e.nodeName.toLowerCase()];return!t||t!==true&&e.getAttribute("classid")===t}});k.fn.extend({data:function(e,r){var n,a,o=this[0],i=0,s=null;if(e===t){if(this.length){s=k.data(o);if(o.nodeType===1&&!k._data(o,"parsedAttrs")){n=o.attributes;for(;i<n.length;i++){a=n[i].name;if(!a.indexOf("data-")){a=k.camelCase(a.slice(5));z(o,a,s[a])}}k._data(o,"parsedAttrs",true)}}return s}if(typeof e==="object"){return this.each(function(){k.data(this,e)})}return k.access(this,function(r){if(r===t){return o?z(o,e,k.data(o,e)):null}this.each(function(){k.data(this,e,r)})},null,r,arguments.length>1,null,true)},removeData:function(e){return this.each(function(){k.removeData(this,e)})}});function z(e,r,n){if(n===t&&e.nodeType===1){var a="data-"+r.replace(D,"-$1").toLowerCase();n=e.getAttribute(a);if(typeof n==="string"){try{n=n==="true"?true:n==="false"?false:n==="null"?null:+n+""===n?+n:P.test(n)?k.parseJSON(n):n}catch(o){}k.data(e,r,n)}else{n=t}}return n}function H(e){var t;for(t in e){if(t==="data"&&k.isEmptyObject(e[t])){continue}if(t!=="toJSON"){return false}}return true}k.extend({queue:function(e,t,r){var n;if(e){t=(t||"fx")+"queue";n=k._data(e,t);if(r){if(!n||k.isArray(r)){n=k._data(e,t,k.makeArray(r))}else{n.push(r)}}return n||[]}},dequeue:function(e,t){t=t||"fx";var r=k.queue(e,t),n=r.length,a=r.shift(),o=k._queueHooks(e,t),i=function(){k.dequeue(e,t)};if(a==="inprogress"){a=r.shift();n--}o.cur=a;if(a){if(t==="fx"){r.unshift("inprogress")}delete o.stop;a.call(e,i,o)}if(!n&&o){o.empty.fire()}},_queueHooks:function(e,t){var r=t+"queueHooks";return k._data(e,r)||k._data(e,r,{empty:k.Callbacks("once memory").add(function(){k._removeData(e,t+"queue");k._removeData(e,r)})})}});k.fn.extend({queue:function(e,r){var n=2;if(typeof e!=="string"){r=e;e="fx";n--}if(arguments.length<n){return k.queue(this[0],e)}return r===t?this:this.each(function(){var t=k.queue(this,e,r);k._queueHooks(this,e);if(e==="fx"&&t[0]!=="inprogress"){k.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){k.dequeue(this,e)})},delay:function(e,t){e=k.fx?k.fx.speeds[e]||e:e;t=t||"fx";return this.queue(t,function(t,r){var n=setTimeout(t,e);r.stop=function(){clearTimeout(n)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,r){var n,a=1,o=k.Deferred(),i=this,s=this.length,u=function(){if(!--a){o.resolveWith(i,[i])}};if(typeof e!=="string"){r=e;e=t}e=e||"fx";while(s--){n=k._data(i[s],e+"queueHooks");if(n&&n.empty){a++;n.empty.add(u)}}u();return o.promise(r)}});var $,B,U=/[\t\r\n]/g,Y=/\r/g,K=/^(?:input|select|textarea|button|object)$/i,X=/^(?:a|area)$/i,G=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,J=/^(?:checked|selected)$/i,Q=k.support.getSetAttribute,Z=k.support.input;k.fn.extend({attr:function(e,t){return k.access(this,k.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){k.removeAttr(this,e)})},prop:function(e,t){return k.access(this,k.prop,e,t,arguments.length>1)},removeProp:function(e){e=k.propFix[e]||e;return this.each(function(){try{this[e]=t;delete this[e]}catch(r){}})},addClass:function(e){var t,r,n,a,o,i=0,s=this.length,u=typeof e==="string"&&e;if(k.isFunction(e)){return this.each(function(t){k(this).addClass(e.call(this,t,this.className))})}if(u){t=(e||"").match(w)||[];for(;i<s;i++){r=this[i];n=r.nodeType===1&&(r.className?(" "+r.className+" ").replace(U," "):" ");if(n){o=0;while(a=t[o++]){if(n.indexOf(" "+a+" ")<0){n+=a+" "}}r.className=k.trim(n)}}}return this},removeClass:function(e){var t,r,n,a,o,i=0,s=this.length,u=arguments.length===0||typeof e==="string"&&e;if(k.isFunction(e)){return this.each(function(t){k(this).removeClass(e.call(this,t,this.className))})}if(u){t=(e||"").match(w)||[];for(;i<s;i++){r=this[i];n=r.nodeType===1&&(r.className?(" "+r.className+" ").replace(U," "):"");if(n){o=0;while(a=t[o++]){while(n.indexOf(" "+a+" ")>=0){n=n.replace(" "+a+" "," ")}}r.className=e?k.trim(n):""}}}return this},toggleClass:function(e,t){var r=typeof e,n=typeof t==="boolean";if(k.isFunction(e)){return this.each(function(r){k(this).toggleClass(e.call(this,r,this.className,t),t)})}return this.each(function(){if(r==="string"){var a,i=0,s=k(this),u=t,l=e.match(w)||[];while(a=l[i++]){u=n?u:!s.hasClass(a);s[u?"addClass":"removeClass"](a)}}else if(r===o||r==="boolean"){if(this.className){k._data(this,"__className__",this.className)}this.className=this.className||e===false?"":k._data(this,"__className__")||""}})},hasClass:function(e){var t=" "+e+" ",r=0,n=this.length;for(;r<n;r++){if(this[r].nodeType===1&&(" "+this[r].className+" ").replace(U," ").indexOf(t)>=0){return true}}return false},val:function(e){var r,n,a,o=this[0];if(!arguments.length){if(o){n=k.valHooks[o.type]||k.valHooks[o.nodeName.toLowerCase()];if(n&&"get"in n&&(r=n.get(o,"value"))!==t){return r}r=o.value;return typeof r==="string"?r.replace(Y,""):r==null?"":r}return}a=k.isFunction(e);return this.each(function(r){var o,i=k(this);if(this.nodeType!==1){return}if(a){o=e.call(this,r,i.val())}else{o=e}if(o==null){o=""}else if(typeof o==="number"){o+=""}else if(k.isArray(o)){o=k.map(o,function(e){return e==null?"":e+""})}n=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()];if(!n||!("set"in n)||n.set(this,o,"value")===t){this.value=o}})}});k.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,r,n=e.options,a=e.selectedIndex,o=e.type==="select-one"||a<0,i=o?null:[],s=o?a+1:n.length,u=a<0?s:o?a:0;for(;u<s;u++){r=n[u];if((r.selected||u===a)&&(k.support.optDisabled?!r.disabled:r.getAttribute("disabled")===null)&&(!r.parentNode.disabled||!k.nodeName(r.parentNode,"optgroup"))){t=k(r).val();if(o){return t}i.push(t)}}return i},set:function(e,t){var r=k.makeArray(t);k(e).find("option").each(function(){this.selected=k.inArray(k(this).val(),r)>=0});if(!r.length){e.selectedIndex=-1}return r}}},attr:function(e,r,n){var a,i,s,u=e.nodeType;if(!e||u===3||u===8||u===2){return}if(typeof e.getAttribute===o){return k.prop(e,r,n)}i=u!==1||!k.isXMLDoc(e);if(i){r=r.toLowerCase();a=k.attrHooks[r]||(G.test(r)?B:$)}if(n!==t){if(n===null){k.removeAttr(e,r)}else if(a&&i&&"set"in a&&(s=a.set(e,n,r))!==t){return s}else{e.setAttribute(r,n+"");return n}}else if(a&&i&&"get"in a&&(s=a.get(e,r))!==null){return s}else{if(typeof e.getAttribute!==o){s=e.getAttribute(r)}return s==null?t:s}},removeAttr:function(e,t){var r,n,a=0,o=t&&t.match(w);if(o&&e.nodeType===1){while(r=o[a++]){n=k.propFix[r]||r;if(G.test(r)){if(!Q&&J.test(r)){e[k.camelCase("default-"+r)]=e[n]=false}else{e[n]=false}}else{k.attr(e,r,"")}e.removeAttribute(Q?r:n)}}},attrHooks:{type:{set:function(e,t){if(!k.support.radioValue&&t==="radio"&&k.nodeName(e,"input")){var r=e.value;e.setAttribute("type",t);if(r){e.value=r}return t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,r,n){var a,o,i,s=e.nodeType;if(!e||s===3||s===8||s===2){return}i=s!==1||!k.isXMLDoc(e);if(i){r=k.propFix[r]||r;o=k.propHooks[r]}if(n!==t){if(o&&"set"in o&&(a=o.set(e,n,r))!==t){return a}else{return e[r]=n}}else{if(o&&"get"in o&&(a=o.get(e,r))!==null){return a}else{return e[r]}}},propHooks:{tabIndex:{get:function(e){var r=e.getAttributeNode("tabindex");return r&&r.specified?parseInt(r.value,10):K.test(e.nodeName)||X.test(e.nodeName)&&e.href?0:t}}}});B={get:function(e,r){var n=k.prop(e,r),a=typeof n==="boolean"&&e.getAttribute(r),o=typeof n==="boolean"?Z&&Q?a!=null:J.test(r)?e[k.camelCase("default-"+r)]:!!a:e.getAttributeNode(r);return o&&o.value!==false?r.toLowerCase():t},set:function(e,t,r){if(t===false){k.removeAttr(e,r)}else if(Z&&Q||!J.test(r)){e.setAttribute(!Q&&k.propFix[r]||r,r)}else{e[k.camelCase("default-"+r)]=e[r]=true}return r}};if(!Z||!Q){k.attrHooks.value={get:function(e,r){var n=e.getAttributeNode(r);return k.nodeName(e,"input")?e.defaultValue:n&&n.specified?n.value:t},set:function(e,t,r){if(k.nodeName(e,"input")){e.defaultValue=t}else{return $&&$.set(e,t,r)}}}}if(!Q){$=k.valHooks.button={get:function(e,r){var n=e.getAttributeNode(r);return n&&(r==="id"||r==="name"||r==="coords"?n.value!=="":n.specified)?n.value:t},set:function(e,r,n){var a=e.getAttributeNode(n);if(!a){e.setAttributeNode(a=e.ownerDocument.createAttribute(n))}a.value=r+="";return n==="value"||r===e.getAttribute(n)?r:t}};k.attrHooks.contenteditable={get:$.get,set:function(e,t,r){$.set(e,t===""?false:t,r)}};k.each(["width","height"],function(e,t){k.attrHooks[t]=k.extend(k.attrHooks[t],{set:function(e,r){if(r===""){e.setAttribute(t,"auto");return r}}})})}if(!k.support.hrefNormalized){k.each(["href","src","width","height"],function(e,r){k.attrHooks[r]=k.extend(k.attrHooks[r],{get:function(e){var n=e.getAttribute(r,2);return n==null?t:n}})});k.each(["href","src"],function(e,t){k.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})}if(!k.support.style){k.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}}if(!k.support.optSelected){k.propHooks.selected=k.extend(k.propHooks.selected,{get:function(e){var t=e.parentNode;if(t){t.selectedIndex;if(t.parentNode){t.parentNode.selectedIndex}}return null}})}if(!k.support.enctype){k.propFix.enctype="encoding"}if(!k.support.checkOn){k.each(["radio","checkbox"],function(){k.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}})}k.each(["radio","checkbox"],function(){k.valHooks[this]=k.extend(k.valHooks[this],{set:function(e,t){if(k.isArray(t)){return e.checked=k.inArray(k(e).val(),t)>=0}}})});var et=/^(?:input|select|textarea)$/i,tt=/^key/,rt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,at=/^([^.]*)(?:\.(.+)|)$/;function ot(){return true}function it(){return false}k.event={global:{},add:function(e,r,n,a,i){var s,u,l,c,p,f,d,h,m,g,v,y=k._data(e);if(!y){return}if(n.handler){c=n;n=c.handler;i=c.selector}if(!n.guid){n.guid=k.guid++}if(!(u=y.events)){u=y.events={}}if(!(f=y.handle)){f=y.handle=function(e){return typeof k!==o&&(!e||k.event.triggered!==e.type)?k.event.dispatch.apply(f.elem,arguments):t};f.elem=e}r=(r||"").match(w)||[""];l=r.length;while(l--){s=at.exec(r[l])||[];m=v=s[1];g=(s[2]||"").split(".").sort();p=k.event.special[m]||{};m=(i?p.delegateType:p.bindType)||m;p=k.event.special[m]||{};d=k.extend({type:m,origType:v,data:a,handler:n,guid:n.guid,selector:i,needsContext:i&&k.expr.match.needsContext.test(i),namespace:g.join(".")},c);if(!(h=u[m])){h=u[m]=[];h.delegateCount=0;if(!p.setup||p.setup.call(e,a,g,f)===false){if(e.addEventListener){e.addEventListener(m,f,false)}else if(e.attachEvent){e.attachEvent("on"+m,f)}}}if(p.add){p.add.call(e,d);if(!d.handler.guid){d.handler.guid=n.guid}}if(i){h.splice(h.delegateCount++,0,d)}else{h.push(d)}k.event.global[m]=true}e=null},remove:function(e,t,r,n,a){var o,i,s,u,l,c,p,f,d,h,m,g=k.hasData(e)&&k._data(e);if(!g||!(c=g.events)){return}t=(t||"").match(w)||[""];l=t.length;while(l--){s=at.exec(t[l])||[];d=m=s[1];h=(s[2]||"").split(".").sort();if(!d){for(d in c){k.event.remove(e,d+t[l],r,n,true)}continue}p=k.event.special[d]||{};d=(n?p.delegateType:p.bindType)||d;f=c[d]||[];s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)");u=o=f.length;while(o--){i=f[o];if((a||m===i.origType)&&(!r||r.guid===i.guid)&&(!s||s.test(i.namespace))&&(!n||n===i.selector||n==="**"&&i.selector)){f.splice(o,1);if(i.selector){f.delegateCount--}if(p.remove){p.remove.call(e,i)}}}if(u&&!f.length){if(!p.teardown||p.teardown.call(e,h,g.handle)===false){k.removeEvent(e,d,g.handle)}delete c[d]}}if(k.isEmptyObject(c)){delete g.handle;k._removeData(e,"events")}},trigger:function(r,n,a,o){var s,u,l,c,p,f,d,h=[a||i],m=y.call(r,"type")?r.type:r,g=y.call(r,"namespace")?r.namespace.split("."):[];l=f=a=a||i;if(a.nodeType===3||a.nodeType===8){return}if(nt.test(m+k.event.triggered)){return}if(m.indexOf(".")>=0){g=m.split(".");m=g.shift();g.sort()}u=m.indexOf(":")<0&&"on"+m;r=r[k.expando]?r:new k.Event(m,typeof r==="object"&&r);r.isTrigger=true;r.namespace=g.join(".");r.namespace_re=r.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;r.result=t;if(!r.target){r.target=a}n=n==null?[r]:k.makeArray(n,[r]);p=k.event.special[m]||{};if(!o&&p.trigger&&p.trigger.apply(a,n)===false){return}if(!o&&!p.noBubble&&!k.isWindow(a)){c=p.delegateType||m;if(!nt.test(c+m)){l=l.parentNode}for(;l;l=l.parentNode){h.push(l);f=l}if(f===(a.ownerDocument||i)){h.push(f.defaultView||f.parentWindow||e)}}d=0;while((l=h[d++])&&!r.isPropagationStopped()){r.type=d>1?c:p.bindType||m;s=(k._data(l,"events")||{})[r.type]&&k._data(l,"handle");if(s){s.apply(l,n)}s=u&&l[u];if(s&&k.acceptData(l)&&s.apply&&s.apply(l,n)===false){r.preventDefault()}}r.type=m;if(!o&&!r.isDefaultPrevented()){if((!p._default||p._default.apply(a.ownerDocument,n)===false)&&!(m==="click"&&k.nodeName(a,"a"))&&k.acceptData(a)){if(u&&a[m]&&!k.isWindow(a)){f=a[u];if(f){a[u]=null}k.event.triggered=m;try{a[m]()}catch(v){}k.event.triggered=t;if(f){a[u]=f}}}}return r.result},dispatch:function(e){e=k.event.fix(e);var r,n,a,o,i,s=[],u=m.call(arguments),l=(k._data(this,"events")||{})[e.type]||[],c=k.event.special[e.type]||{};u[0]=e;e.delegateTarget=this;if(c.preDispatch&&c.preDispatch.call(this,e)===false){return}s=k.event.handlers.call(this,e,l);r=0;while((o=s[r++])&&!e.isPropagationStopped()){e.currentTarget=o.elem;i=0;while((a=o.handlers[i++])&&!e.isImmediatePropagationStopped()){if(!e.namespace_re||e.namespace_re.test(a.namespace)){e.handleObj=a;e.data=a.data;n=((k.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,u);if(n!==t){if((e.result=n)===false){e.preventDefault();e.stopPropagation()}}}}}if(c.postDispatch){c.postDispatch.call(this,e)}return e.result},handlers:function(e,r){var n,a,o,i,s=[],u=r.delegateCount,l=e.target;if(u&&l.nodeType&&(!e.button||e.type!=="click")){for(;l!=this;l=l.parentNode||this){if(l.nodeType===1&&(l.disabled!==true||e.type!=="click")){o=[];for(i=0;i<u;i++){a=r[i];n=a.selector+" ";if(o[n]===t){o[n]=a.needsContext?k(n,this).index(l)>=0:k.find(n,this,null,[l]).length}if(o[n]){o.push(a)}}if(o.length){s.push({elem:l,handlers:o})}}}}if(u<r.length){s.push({elem:this,handlers:r.slice(u)})}return s},fix:function(e){if(e[k.expando]){return e}var t,r,n,a=e.type,o=e,s=this.fixHooks[a];if(!s){this.fixHooks[a]=s=rt.test(a)?this.mouseHooks:tt.test(a)?this.keyHooks:{}}n=s.props?this.props.concat(s.props):this.props;e=new k.Event(o);t=n.length;while(t--){r=n[t];e[r]=o[r]}if(!e.target){e.target=o.srcElement||i}if(e.target.nodeType===3){e.target=e.target.parentNode}e.metaKey=!!e.metaKey;return s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){if(e.which==null){e.which=t.charCode!=null?t.charCode:t.keyCode}return e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,r){var n,a,o,s=r.button,u=r.fromElement;if(e.pageX==null&&r.clientX!=null){a=e.target.ownerDocument||i;o=a.documentElement;n=a.body;e.pageX=r.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0);e.pageY=r.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)}if(!e.relatedTarget&&u){e.relatedTarget=u===e.target?r.toElement:u}if(!e.which&&s!==t){e.which=s&1?1:s&2?3:s&4?2:0}return e}},special:{load:{noBubble:true},click:{trigger:function(){if(k.nodeName(this,"input")&&this.type==="checkbox"&&this.click){this.click();return false}}},focus:{trigger:function(){if(this!==i.activeElement&&this.focus){try{this.focus();return false}catch(e){}}},delegateType:"focusin"},blur:{trigger:function(){if(this===i.activeElement&&this.blur){this.blur();return false}},delegateType:"focusout"},beforeunload:{postDispatch:function(e){if(e.result!==t){e.originalEvent.returnValue=e.result}}}},simulate:function(e,t,r,n){var a=k.extend(new k.Event,r,{type:e,isSimulated:true,originalEvent:{}});if(n){k.event.trigger(a,null,t)}else{k.event.dispatch.call(t,a)}if(a.isDefaultPrevented()){r.preventDefault()}}};k.removeEvent=i.removeEventListener?function(e,t,r){if(e.removeEventListener){e.removeEventListener(t,r,false)}}:function(e,t,r){var n="on"+t;if(e.detachEvent){if(typeof e[n]===o){e[n]=null}e.detachEvent(n,r)}};k.Event=function(e,t){if(!(this instanceof k.Event)){return new k.Event(e,t)}if(e&&e.type){this.originalEvent=e;this.type=e.type;this.isDefaultPrevented=e.defaultPrevented||e.returnValue===false||e.getPreventDefault&&e.getPreventDefault()?ot:it}else{this.type=e}if(t){k.extend(this,t)}this.timeStamp=e&&e.timeStamp||k.now();this[k.expando]=true};k.Event.prototype={isDefaultPrevented:it,isPropagationStopped:it,isImmediatePropagationStopped:it,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ot;if(!e){return}if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ot;if(!e){return}if(e.stopPropagation){e.stopPropagation()}e.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ot;this.stopPropagation()}};k.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){k.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,n=this,a=e.relatedTarget,o=e.handleObj;if(!a||a!==n&&!k.contains(n,a)){e.type=o.origType;r=o.handler.apply(this,arguments);e.type=t}return r}}});if(!k.support.submitBubbles){k.event.special.submit={setup:function(){if(k.nodeName(this,"form")){return false}k.event.add(this,"click._submit keypress._submit",function(e){var r=e.target,n=k.nodeName(r,"input")||k.nodeName(r,"button")?r.form:t;if(n&&!k._data(n,"submitBubbles")){k.event.add(n,"submit._submit",function(e){e._submit_bubble=true});k._data(n,"submitBubbles",true)}})},postDispatch:function(e){if(e._submit_bubble){delete e._submit_bubble;if(this.parentNode&&!e.isTrigger){k.event.simulate("submit",this.parentNode,e,true)}}},teardown:function(){if(k.nodeName(this,"form")){return false}k.event.remove(this,"._submit")}}}if(!k.support.changeBubbles){k.event.special.change={setup:function(){if(et.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){k.event.add(this,"propertychange._change",function(e){if(e.originalEvent.propertyName==="checked"){this._just_changed=true}});k.event.add(this,"click._change",function(e){if(this._just_changed&&!e.isTrigger){this._just_changed=false}k.event.simulate("change",this,e,true)})}return false}k.event.add(this,"beforeactivate._change",function(e){var t=e.target;if(et.test(t.nodeName)&&!k._data(t,"changeBubbles")){k.event.add(t,"change._change",function(e){if(this.parentNode&&!e.isSimulated&&!e.isTrigger){k.event.simulate("change",this.parentNode,e,true)}});k._data(t,"changeBubbles",true)}})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox"){return e.handleObj.handler.apply(this,arguments)}},teardown:function(){k.event.remove(this,"._change");return!et.test(this.nodeName)}}}if(!k.support.focusinBubbles){k.each({focus:"focusin",blur:"focusout"},function(e,t){var r=0,n=function(e){k.event.simulate(t,e.target,k.event.fix(e),true)};k.event.special[t]={setup:function(){if(r++===0){i.addEventListener(e,n,true)}},teardown:function(){if(--r===0){i.removeEventListener(e,n,true)}}}})}k.fn.extend({on:function(e,r,n,a,o){var i,s;if(typeof e==="object"){if(typeof r!=="string"){n=n||r;r=t}for(i in e){this.on(i,r,n,e[i],o)}return this}if(n==null&&a==null){a=r;n=r=t}else if(a==null){if(typeof r==="string"){a=n;n=t}else{a=n;n=r;r=t}}if(a===false){a=it}else if(!a){return this}if(o===1){s=a;a=function(e){k().off(e);return s.apply(this,arguments)};a.guid=s.guid||(s.guid=k.guid++)}return this.each(function(){k.event.add(this,e,a,n,r)})},one:function(e,t,r,n){return this.on(e,t,r,n,1)},off:function(e,r,n){var a,o;if(e&&e.preventDefault&&e.handleObj){a=e.handleObj;k(e.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler);return this}if(typeof e==="object"){for(o in e){this.off(o,r,e[o])}return this}if(r===false||typeof r==="function"){n=r;r=t}if(n===false){n=it}return this.each(function(){k.event.remove(this,e,n,r)})},bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,n){return this.on(t,e,r,n)},undelegate:function(e,t,r){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",r)},trigger:function(e,t){return this.each(function(){k.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];if(r){return k.event.trigger(e,t,r,true)}}});(function(e,t){var r,n,a,o,i,s,u,l,c,p,f,d,h,m,g,v,y,b="sizzle"+-new Date,x=e.document,w={},_=0,L=0,O=at(),T=at(),F=at(),E=typeof t,A=1<<31,S=[],C=S.pop,N=S.push,M=S.slice,V=S.indexOf||function(e){var t=0,r=this.length;for(;t<r;t++){if(this[t]===e){return t}}return-1},W="[\\x20\\t\\r\\n\\f]",I="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",R=I.replace("w","w#"),P="([*^$|!~]?=)",D="\\["+W+"*("+I+")"+W+"*(?:"+P+W+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+R+")|)|)"+W+"*\\]",j=":("+I+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+D.replace(3,8)+")*)|.*)\\)|)",q=new RegExp("^"+W+"+|((?:^|[^\\\\])(?:\\\\.)*)"+W+"+$","g"),z=new RegExp("^"+W+"*,"+W+"*"),H=new RegExp("^"+W+"*([\\x20\\t\\r\\n\\f>+~])"+W+"*"),$=new RegExp(j),B=new RegExp("^"+R+"$"),U={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),NAME:new RegExp("^\\[name=['\"]?("+I+")['\"]?\\]"),TAG:new RegExp("^("+I.replace("w","w*")+")"),ATTR:new RegExp("^"+D),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+W+"*(even|odd|(([+-]|)(\\d*)n|)"+W+"*(?:([+-]|)"+W+"*(\\d+)|))"+W+"*\\)|)","i"),needsContext:new RegExp("^"+W+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+W+"*((?:-\\d)?\\d*)"+W+"*\\)|)(?=[^-]|$)","i")},Y=/[\x20\t\r\n\f]*[+~]/,K=/^[^{]+\{\s*\[native code/,X=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,G=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Q=/'|\\/g,Z=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,et=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,tt=function(e,t){var r="0x"+t-65536;return r!==r?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)};try{M.call(x.documentElement.childNodes,0)[0].nodeType}catch(rt){M=function(e){var t,r=[];while(t=this[e++]){r.push(t)}return r}}function nt(e){return K.test(e+"")}function at(){var e,t=[];return e=function(r,n){if(t.push(r+=" ")>a.cacheLength){delete e[t.shift()]}return e[r]=n}}function ot(e){e[b]=true;return e}function it(e){var t=p.createElement("div");try{return e(t)}catch(r){return false}finally{t=null}}function st(e,t,r,n){var a,o,i,s,u,l,f,m,g,y;if((t?t.ownerDocument||t:x)!==p){c(t)}t=t||p;r=r||[];if(!e||typeof e!=="string"){return r}if((s=t.nodeType)!==1&&s!==9){return[]}if(!d&&!n){if(a=X.exec(e)){if(i=a[1]){if(s===9){o=t.getElementById(i);if(o&&o.parentNode){if(o.id===i){r.push(o);return r}}else{return r}}else{if(t.ownerDocument&&(o=t.ownerDocument.getElementById(i))&&v(t,o)&&o.id===i){r.push(o);return r}}}else if(a[2]){N.apply(r,M.call(t.getElementsByTagName(e),0));return r}else if((i=a[3])&&w.getByClassName&&t.getElementsByClassName){N.apply(r,M.call(t.getElementsByClassName(i),0));return r}}if(w.qsa&&!h.test(e)){f=true;m=b;g=t;y=s===9&&e;if(s===1&&t.nodeName.toLowerCase()!=="object"){l=ft(e);if(f=t.getAttribute("id")){m=f.replace(Q,"\\$&")}else{t.setAttribute("id",m)}m="[id='"+m+"'] ";u=l.length;while(u--){l[u]=m+dt(l[u])}g=Y.test(e)&&t.parentNode||t;y=l.join(",")}if(y){try{N.apply(r,M.call(g.querySelectorAll(y),0));return r}catch(k){}finally{if(!f){t.removeAttribute("id")}}}}}return xt(e.replace(q,"$1"),t,r,n)}i=st.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":false};c=st.setDocument=function(e){var r=e?e.ownerDocument||e:x;if(r===p||r.nodeType!==9||!r.documentElement){return p}p=r;f=r.documentElement;d=i(r);w.tagNameNoComments=it(function(e){e.appendChild(r.createComment(""));return!e.getElementsByTagName("*").length});w.attributes=it(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"});w.getByClassName=it(function(e){e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!e.getElementsByClassName||!e.getElementsByClassName("e").length){return false}e.lastChild.className="e";return e.getElementsByClassName("e").length===2});w.getByName=it(function(e){e.id=b+0;e.innerHTML="<a name='"+b+"'></a><div name='"+b+"'></div>";f.insertBefore(e,f.firstChild);var t=r.getElementsByName&&r.getElementsByName(b).length===2+r.getElementsByName(b+0).length;
w.getIdNotName=!r.getElementById(b);f.removeChild(e);return t});a.attrHandle=it(function(e){e.innerHTML="<a href='#'></a>";return e.firstChild&&typeof e.firstChild.getAttribute!==E&&e.firstChild.getAttribute("href")==="#"})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}};if(w.getIdNotName){a.find["ID"]=function(e,t){if(typeof t.getElementById!==E&&!d){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}};a.filter["ID"]=function(e){var t=e.replace(et,tt);return function(e){return e.getAttribute("id")===t}}}else{a.find["ID"]=function(e,r){if(typeof r.getElementById!==E&&!d){var n=r.getElementById(e);return n?n.id===e||typeof n.getAttributeNode!==E&&n.getAttributeNode("id").value===e?[n]:t:[]}};a.filter["ID"]=function(e){var t=e.replace(et,tt);return function(e){var r=typeof e.getAttributeNode!==E&&e.getAttributeNode("id");return r&&r.value===t}}}a.find["TAG"]=w.tagNameNoComments?function(e,t){if(typeof t.getElementsByTagName!==E){return t.getElementsByTagName(e)}}:function(e,t){var r,n=[],a=0,o=t.getElementsByTagName(e);if(e==="*"){while(r=o[a++]){if(r.nodeType===1){n.push(r)}}return n}return o};a.find["NAME"]=w.getByName&&function(e,t){if(typeof t.getElementsByName!==E){return t.getElementsByName(name)}};a.find["CLASS"]=w.getByClassName&&function(e,t){if(typeof t.getElementsByClassName!==E&&!d){return t.getElementsByClassName(e)}};m=[];h=[":focus"];if(w.qsa=nt(r.querySelectorAll)){it(function(e){e.innerHTML="<select><option selected=''></option></select>";if(!e.querySelectorAll("[selected]").length){h.push("\\["+W+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)")}if(!e.querySelectorAll(":checked").length){h.push(":checked")}});it(function(e){e.innerHTML="<input type='hidden' i=''/>";if(e.querySelectorAll("[i^='']").length){h.push("[*^$]="+W+"*(?:\"\"|'')")}if(!e.querySelectorAll(":enabled").length){h.push(":enabled",":disabled")}e.querySelectorAll("*,:x");h.push(",.*:")})}if(w.matchesSelector=nt(g=f.matchesSelector||f.mozMatchesSelector||f.webkitMatchesSelector||f.oMatchesSelector||f.msMatchesSelector)){it(function(e){w.disconnectedMatch=g.call(e,"div");g.call(e,"[s!='']:x");m.push("!=",j)})}h=new RegExp(h.join("|"));m=new RegExp(m.join("|"));v=nt(f.contains)||f.compareDocumentPosition?function(e,t){var r=e.nodeType===9?e.documentElement:e,n=t&&t.parentNode;return e===n||!!(n&&n.nodeType===1&&(r.contains?r.contains(n):e.compareDocumentPosition&&e.compareDocumentPosition(n)&16))}:function(e,t){if(t){while(t=t.parentNode){if(t===e){return true}}}return false};y=f.compareDocumentPosition?function(e,t){var n;if(e===t){u=true;return 0}if(n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t)){if(n&1||e.parentNode&&e.parentNode.nodeType===11){if(e===r||v(x,e)){return-1}if(t===r||v(x,t)){return 1}return 0}return n&4?-1:1}return e.compareDocumentPosition?-1:1}:function(e,t){var n,a=0,o=e.parentNode,i=t.parentNode,s=[e],l=[t];if(e===t){u=true;return 0}else if(!o||!i){return e===r?-1:t===r?1:o?-1:i?1:0}else if(o===i){return ut(e,t)}n=e;while(n=n.parentNode){s.unshift(n)}n=t;while(n=n.parentNode){l.unshift(n)}while(s[a]===l[a]){a++}return a?ut(s[a],l[a]):s[a]===x?-1:l[a]===x?1:0};u=false;[0,0].sort(y);w.detectDuplicates=u;return p};st.matches=function(e,t){return st(e,null,null,t)};st.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p){c(e)}t=t.replace(Z,"='$1']");if(w.matchesSelector&&!d&&(!m||!m.test(t))&&!h.test(t)){try{var r=g.call(e,t);if(r||w.disconnectedMatch||e.document&&e.document.nodeType!==11){return r}}catch(n){}}return st(t,p,null,[e]).length>0};st.contains=function(e,t){if((e.ownerDocument||e)!==p){c(e)}return v(e,t)};st.attr=function(e,t){var r;if((e.ownerDocument||e)!==p){c(e)}if(!d){t=t.toLowerCase()}if(r=a.attrHandle[t]){return r(e)}if(d||w.attributes){return e.getAttribute(t)}return((r=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===true?t:r&&r.specified?r.value:null};st.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};st.uniqueSort=function(e){var t,r=[],n=1,a=0;u=!w.detectDuplicates;e.sort(y);if(u){for(;t=e[n];n++){if(t===e[n-1]){a=r.push(n)}}while(a--){e.splice(r[a],1)}}return e};function ut(e,t){var r=t&&e,n=r&&(~t.sourceIndex||A)-(~e.sourceIndex||A);if(n){return n}if(r){while(r=r.nextSibling){if(r===t){return-1}}}return e?1:-1}function lt(e){return function(t){var r=t.nodeName.toLowerCase();return r==="input"&&t.type===e}}function ct(e){return function(t){var r=t.nodeName.toLowerCase();return(r==="input"||r==="button")&&t.type===e}}function pt(e){return ot(function(t){t=+t;return ot(function(r,n){var a,o=e([],r.length,t),i=o.length;while(i--){if(r[a=o[i]]){r[a]=!(n[a]=r[a])}}})})}o=st.getText=function(e){var t,r="",n=0,a=e.nodeType;if(!a){for(;t=e[n];n++){r+=o(t)}}else if(a===1||a===9||a===11){if(typeof e.textContent==="string"){return e.textContent}else{for(e=e.firstChild;e;e=e.nextSibling){r+=o(e)}}}else if(a===3||a===4){return e.nodeValue}return r};a=st.selectors={cacheLength:50,createPseudo:ot,match:U,find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(et,tt);e[3]=(e[4]||e[5]||"").replace(et,tt);if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1].slice(0,3)==="nth"){if(!e[3]){st.error(e[0])}e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd"));e[5]=+(e[7]+e[8]||e[3]==="odd")}else if(e[3]){st.error(e[0])}return e},PSEUDO:function(e){var t,r=!e[5]&&e[2];if(U["CHILD"].test(e[0])){return null}if(e[4]){e[2]=e[4]}else if(r&&$.test(r)&&(t=ft(r,true))&&(t=r.indexOf(")",r.length-t)-r.length)){e[0]=e[0].slice(0,t);e[2]=r.slice(0,t)}return e.slice(0,3)}},filter:{TAG:function(e){if(e==="*"){return function(){return true}}e=e.replace(et,tt).toLowerCase();return function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(e){var t=O[e+" "];return t||(t=new RegExp("(^|"+W+")"+e+"("+W+"|$)"))&&O(e,function(e){return t.test(e.className||typeof e.getAttribute!==E&&e.getAttribute("class")||"")})},ATTR:function(e,t,r){return function(n){var a=st.attr(n,e);if(a==null){return t==="!="}if(!t){return true}a+="";return t==="="?a===r:t==="!="?a!==r:t==="^="?r&&a.indexOf(r)===0:t==="*="?r&&a.indexOf(r)>-1:t==="$="?r&&a.slice(-r.length)===r:t==="~="?(" "+a+" ").indexOf(r)>-1:t==="|="?a===r||a.slice(0,r.length+1)===r+"-":false}},CHILD:function(e,t,r,n,a){var o=e.slice(0,3)!=="nth",i=e.slice(-4)!=="last",s=t==="of-type";return n===1&&a===0?function(e){return!!e.parentNode}:function(t,r,u){var l,c,p,f,d,h,m=o!==i?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s;if(g){if(o){while(m){p=t;while(p=p[m]){if(s?p.nodeName.toLowerCase()===v:p.nodeType===1){return false}}h=m=e==="only"&&!h&&"nextSibling"}return true}h=[i?g.firstChild:g.lastChild];if(i&&y){c=g[b]||(g[b]={});l=c[e]||[];d=l[0]===_&&l[1];f=l[0]===_&&l[2];p=d&&g.childNodes[d];while(p=++d&&p&&p[m]||(f=d=0)||h.pop()){if(p.nodeType===1&&++f&&p===t){c[e]=[_,d,f];break}}}else if(y&&(l=(t[b]||(t[b]={}))[e])&&l[0]===_){f=l[1]}else{while(p=++d&&p&&p[m]||(f=d=0)||h.pop()){if((s?p.nodeName.toLowerCase()===v:p.nodeType===1)&&++f){if(y){(p[b]||(p[b]={}))[e]=[_,f]}if(p===t){break}}}}f-=a;return f===n||f%n===0&&f/n>=0}}},PSEUDO:function(e,t){var r,n=a.pseudos[e]||a.setFilters[e.toLowerCase()]||st.error("unsupported pseudo: "+e);if(n[b]){return n(t)}if(n.length>1){r=[e,e,"",t];return a.setFilters.hasOwnProperty(e.toLowerCase())?ot(function(e,r){var a,o=n(e,t),i=o.length;while(i--){a=V.call(e,o[i]);e[a]=!(r[a]=o[i])}}):function(e){return n(e,0,r)}}return n}},pseudos:{not:ot(function(e){var t=[],r=[],n=s(e.replace(q,"$1"));return n[b]?ot(function(e,t,r,a){var o,i=n(e,null,a,[]),s=e.length;while(s--){if(o=i[s]){e[s]=!(t[s]=o)}}}):function(e,a,o){t[0]=e;n(t,null,o,r);return!r.pop()}}),has:ot(function(e){return function(t){return st(e,t).length>0}}),contains:ot(function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:ot(function(e){if(!B.test(e||"")){st.error("unsupported lang: "+e)}e=e.replace(et,tt).toLowerCase();return function(t){var r;do{if(r=d?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang){r=r.toLowerCase();return r===e||r.indexOf(e+"-")===0}}while((t=t.parentNode)&&t.nodeType===1);return false}}),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===false},disabled:function(e){return e.disabled===true},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeName>"@"||e.nodeType===3||e.nodeType===4){return false}}return true},parent:function(e){return!a.pseudos["empty"](e)},header:function(e){return J.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()===e.type)},first:pt(function(){return[0]}),last:pt(function(e,t){return[t-1]}),eq:pt(function(e,t,r){return[r<0?r+t:r]}),even:pt(function(e,t){var r=0;for(;r<t;r+=2){e.push(r)}return e}),odd:pt(function(e,t){var r=1;for(;r<t;r+=2){e.push(r)}return e}),lt:pt(function(e,t,r){var n=r<0?r+t:r;for(;--n>=0;){e.push(n)}return e}),gt:pt(function(e,t,r){var n=r<0?r+t:r;for(;++n<t;){e.push(n)}return e})}};for(r in{radio:true,checkbox:true,file:true,password:true,image:true}){a.pseudos[r]=lt(r)}for(r in{submit:true,reset:true}){a.pseudos[r]=ct(r)}function ft(e,t){var r,n,o,i,s,u,l,c=T[e+" "];if(c){return t?0:c.slice(0)}s=e;u=[];l=a.preFilter;while(s){if(!r||(n=z.exec(s))){if(n){s=s.slice(n[0].length)||s}u.push(o=[])}r=false;if(n=H.exec(s)){r=n.shift();o.push({value:r,type:n[0].replace(q," ")});s=s.slice(r.length)}for(i in a.filter){if((n=U[i].exec(s))&&(!l[i]||(n=l[i](n)))){r=n.shift();o.push({value:r,type:i,matches:n});s=s.slice(r.length)}}if(!r){break}}return t?s.length:s?st.error(e):T(e,u).slice(0)}function dt(e){var t=0,r=e.length,n="";for(;t<r;t++){n+=e[t].value}return n}function ht(e,t,r){var a=t.dir,o=r&&a==="parentNode",i=L++;return t.first?function(t,r,n){while(t=t[a]){if(t.nodeType===1||o){return e(t,r,n)}}}:function(t,r,s){var u,l,c,p=_+" "+i;if(s){while(t=t[a]){if(t.nodeType===1||o){if(e(t,r,s)){return true}}}}else{while(t=t[a]){if(t.nodeType===1||o){c=t[b]||(t[b]={});if((l=c[a])&&l[0]===p){if((u=l[1])===true||u===n){return u===true}}else{l=c[a]=[p];l[1]=e(t,r,s)||n;if(l[1]===true){return true}}}}}}}function mt(e){return e.length>1?function(t,r,n){var a=e.length;while(a--){if(!e[a](t,r,n)){return false}}return true}:e[0]}function gt(e,t,r,n,a){var o,i=[],s=0,u=e.length,l=t!=null;for(;s<u;s++){if(o=e[s]){if(!r||r(o,n,a)){i.push(o);if(l){t.push(s)}}}}return i}function vt(e,t,r,n,a,o){if(n&&!n[b]){n=vt(n)}if(a&&!a[b]){a=vt(a,o)}return ot(function(o,i,s,u){var l,c,p,f=[],d=[],h=i.length,m=o||kt(t||"*",s.nodeType?[s]:s,[]),g=e&&(o||!t)?gt(m,f,e,s,u):m,v=r?a||(o?e:h||n)?[]:i:g;if(r){r(g,v,s,u)}if(n){l=gt(v,d);n(l,[],s,u);c=l.length;while(c--){if(p=l[c]){v[d[c]]=!(g[d[c]]=p)}}}if(o){if(a||e){if(a){l=[];c=v.length;while(c--){if(p=v[c]){l.push(g[c]=p)}}a(null,v=[],l,u)}c=v.length;while(c--){if((p=v[c])&&(l=a?V.call(o,p):f[c])>-1){o[l]=!(i[l]=p)}}}}else{v=gt(v===i?v.splice(h,v.length):v);if(a){a(null,i,v,u)}else{N.apply(i,v)}}})}function yt(e){var t,r,n,o=e.length,i=a.relative[e[0].type],s=i||a.relative[" "],u=i?1:0,c=ht(function(e){return e===t},s,true),p=ht(function(e){return V.call(t,e)>-1},s,true),f=[function(e,r,n){return!i&&(n||r!==l)||((t=r).nodeType?c(e,r,n):p(e,r,n))}];for(;u<o;u++){if(r=a.relative[e[u].type]){f=[ht(mt(f),r)]}else{r=a.filter[e[u].type].apply(null,e[u].matches);if(r[b]){n=++u;for(;n<o;n++){if(a.relative[e[n].type]){break}}return vt(u>1&&mt(f),u>1&&dt(e.slice(0,u-1)).replace(q,"$1"),r,u<n&&yt(e.slice(u,n)),n<o&&yt(e=e.slice(n)),n<o&&dt(e))}f.push(r)}}return mt(f)}function bt(e,t){var r=0,o=t.length>0,i=e.length>0,s=function(s,u,c,f,d){var h,m,g,v=[],y=0,b="0",k=s&&[],x=d!=null,w=l,L=s||i&&a.find["TAG"]("*",d&&u.parentNode||u),O=_+=w==null?1:Math.random()||.1;if(x){l=u!==p&&u;n=r}for(;(h=L[b])!=null;b++){if(i&&h){m=0;while(g=e[m++]){if(g(h,u,c)){f.push(h);break}}if(x){_=O;n=++r}}if(o){if(h=!g&&h){y--}if(s){k.push(h)}}}y+=b;if(o&&b!==y){m=0;while(g=t[m++]){g(k,v,u,c)}if(s){if(y>0){while(b--){if(!(k[b]||v[b])){v[b]=C.call(f)}}}v=gt(v)}N.apply(f,v);if(x&&!s&&v.length>0&&y+t.length>1){st.uniqueSort(f)}}if(x){_=O;l=w}return k};return o?ot(s):s}s=st.compile=function(e,t){var r,n=[],a=[],o=F[e+" "];if(!o){if(!t){t=ft(e)}r=t.length;while(r--){o=yt(t[r]);if(o[b]){n.push(o)}else{a.push(o)}}o=F(e,bt(a,n))}return o};function kt(e,t,r){var n=0,a=t.length;for(;n<a;n++){st(e,t[n],r)}return r}function xt(e,t,r,n){var o,i,u,l,c,p=ft(e);if(!n){if(p.length===1){i=p[0]=p[0].slice(0);if(i.length>2&&(u=i[0]).type==="ID"&&t.nodeType===9&&!d&&a.relative[i[1].type]){t=a.find["ID"](u.matches[0].replace(et,tt),t)[0];if(!t){return r}e=e.slice(i.shift().value.length)}o=U["needsContext"].test(e)?0:i.length;while(o--){u=i[o];if(a.relative[l=u.type]){break}if(c=a.find[l]){if(n=c(u.matches[0].replace(et,tt),Y.test(i[0].type)&&t.parentNode||t)){i.splice(o,1);e=n.length&&dt(i);if(!e){N.apply(r,M.call(n,0));return r}break}}}}}s(e,p)(n,t,d,r,Y.test(e));return r}a.pseudos["nth"]=a.pseudos["eq"];function wt(){}a.filters=wt.prototype=a.pseudos;a.setFilters=new wt;c();st.attr=k.attr;k.find=st;k.expr=st.selectors;k.expr[":"]=k.expr.pseudos;k.unique=st.uniqueSort;k.text=st.getText;k.isXMLDoc=st.isXML;k.contains=st.contains})(e);var st=/Until$/,ut=/^(?:parents|prev(?:Until|All))/,lt=/^.[^:#\[\.,]*$/,ct=k.expr.match.needsContext,pt={children:true,contents:true,next:true,prev:true};k.fn.extend({find:function(e){var t,r,n,a=this.length;if(typeof e!=="string"){n=this;return this.pushStack(k(e).filter(function(){for(t=0;t<a;t++){if(k.contains(n[t],this)){return true}}}))}r=[];for(t=0;t<a;t++){k.find(e,this[t],r)}r=this.pushStack(a>1?k.unique(r):r);r.selector=(this.selector?this.selector+" ":"")+e;return r},has:function(e){var t,r=k(e,this),n=r.length;return this.filter(function(){for(t=0;t<n;t++){if(k.contains(this,r[t])){return true}}})},not:function(e){return this.pushStack(dt(this,e,false))},filter:function(e){return this.pushStack(dt(this,e,true))},is:function(e){return!!e&&(typeof e==="string"?ct.test(e)?k(e,this.context).index(this[0])>=0:k.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var r,n=0,a=this.length,o=[],i=ct.test(e)||typeof e!=="string"?k(e,t||this.context):0;for(;n<a;n++){r=this[n];while(r&&r.ownerDocument&&r!==t&&r.nodeType!==11){if(i?i.index(r)>-1:k.find.matchesSelector(r,e)){o.push(r);break}r=r.parentNode}}return this.pushStack(o.length>1?k.unique(o):o)},index:function(e){if(!e){return this[0]&&this[0].parentNode?this.first().prevAll().length:-1}if(typeof e==="string"){return k.inArray(this[0],k(e))}return k.inArray(e.jquery?e[0]:e,this)},add:function(e,t){var r=typeof e==="string"?k(e,t):k.makeArray(e&&e.nodeType?[e]:e),n=k.merge(this.get(),r);return this.pushStack(k.unique(n))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});k.fn.andSelf=k.fn.addBack;function ft(e,t){do{e=e[t]}while(e&&e.nodeType!==1);return e}k.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return k.dir(e,"parentNode")},parentsUntil:function(e,t,r){return k.dir(e,"parentNode",r)},next:function(e){return ft(e,"nextSibling")},prev:function(e){return ft(e,"previousSibling")},nextAll:function(e){return k.dir(e,"nextSibling")},prevAll:function(e){return k.dir(e,"previousSibling")},nextUntil:function(e,t,r){return k.dir(e,"nextSibling",r)},prevUntil:function(e,t,r){return k.dir(e,"previousSibling",r)},siblings:function(e){return k.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return k.sibling(e.firstChild)},contents:function(e){return k.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:k.merge([],e.childNodes)}},function(e,t){k.fn[e]=function(r,n){var a=k.map(this,t,r);if(!st.test(e)){n=r}if(n&&typeof n==="string"){a=k.filter(n,a)}a=this.length>1&&!pt[e]?k.unique(a):a;if(this.length>1&&ut.test(e)){a=a.reverse()}return this.pushStack(a)}});k.extend({filter:function(e,t,r){if(r){e=":not("+e+")"}return t.length===1?k.find.matchesSelector(t[0],e)?[t[0]]:[]:k.find.matches(e,t)},dir:function(e,r,n){var a=[],o=e[r];while(o&&o.nodeType!==9&&(n===t||o.nodeType!==1||!k(o).is(n))){if(o.nodeType===1){a.push(o)}o=o[r]}return a},sibling:function(e,t){var r=[];for(;e;e=e.nextSibling){if(e.nodeType===1&&e!==t){r.push(e)}}return r}});function dt(e,t,r){t=t||0;if(k.isFunction(t)){return k.grep(e,function(e,n){var a=!!t.call(e,n,e);return a===r})}else if(t.nodeType){return k.grep(e,function(e){return e===t===r})}else if(typeof t==="string"){var n=k.grep(e,function(e){return e.nodeType===1});if(lt.test(t)){return k.filter(t,n,!r)}else{t=k.filter(t,n)}}return k.grep(e,function(e){return k.inArray(e,t)>=0===r})}function ht(e){var t=mt.split("|"),r=e.createDocumentFragment();if(r.createElement){while(t.length){r.createElement(t.pop())}}return r}var mt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|"+"header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:null|\d+)"/g,vt=new RegExp("<(?:"+mt+")[\\s/>]","i"),yt=/^\s+/,bt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,kt=/<([\w:]+)/,xt=/<tbody/i,wt=/<|&#?\w+;/,_t=/<(?:script|style|link)/i,Lt=/^(?:checkbox|radio)$/i,Ot=/checked\s*(?:[^=]|=\s*.checked.)/i,Tt=/^$|\/(?:java|ecma)script/i,Ft=/^true\/(.*)/,Et=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},St=ht(i),Ct=St.appendChild(i.createElement("div"));At.optgroup=At.option;At.tbody=At.tfoot=At.colgroup=At.caption=At.thead;At.th=At.td;k.fn.extend({text:function(e){return k.access(this,function(e){return e===t?k.text(this):this.empty().append((this[0]&&this[0].ownerDocument||i).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(k.isFunction(e)){return this.each(function(t){k(this).wrapAll(e.call(this,t))})}if(this[0]){var t=k(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){t.insertBefore(this[0])}t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1){e=e.firstChild}return e}).append(this)}return this},wrapInner:function(e){if(k.isFunction(e)){return this.each(function(t){k(this).wrapInner(e.call(this,t))})}return this.each(function(){var t=k(this),r=t.contents();if(r.length){r.wrapAll(e)}else{t.append(e)}})},wrap:function(e){var t=k.isFunction(e);return this.each(function(r){k(this).wrapAll(t?e.call(this,r):e)})},unwrap:function(){return this.parent().each(function(){if(!k.nodeName(this,"body")){k(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.appendChild(e)}})},prepend:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.insertBefore(e,this.firstChild)}})},before:function(){return this.domManip(arguments,false,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this)}})},after:function(){return this.domManip(arguments,false,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this.nextSibling)}})},remove:function(e,t){var r,n=0;for(;(r=this[n])!=null;n++){if(!e||k.filter(e,[r]).length>0){if(!t&&r.nodeType===1){k.cleanData(Pt(r))}if(r.parentNode){if(t&&k.contains(r.ownerDocument,r)){Wt(Pt(r,"script"))}r.parentNode.removeChild(r)}}}return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){if(e.nodeType===1){k.cleanData(Pt(e,false))}while(e.firstChild){e.removeChild(e.firstChild)}if(e.options&&k.nodeName(e,"select")){e.options.length=0}}return this},clone:function(e,t){e=e==null?false:e;t=t==null?e:t;return this.map(function(){return k.clone(this,e,t)})},html:function(e){return k.access(this,function(e){var r=this[0]||{},n=0,a=this.length;if(e===t){return r.nodeType===1?r.innerHTML.replace(gt,""):t}if(typeof e==="string"&&!_t.test(e)&&(k.support.htmlSerialize||!vt.test(e))&&(k.support.leadingWhitespace||!yt.test(e))&&!At[(kt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(bt,"<$1></$2>");try{for(;n<a;n++){r=this[n]||{};if(r.nodeType===1){k.cleanData(Pt(r,false));r.innerHTML=e}}r=0}catch(o){}}if(r){this.empty().append(e)}},null,e,arguments.length)},replaceWith:function(e){var t=k.isFunction(e);if(!t&&typeof e!=="string"){e=k(e).not(this).detach()}return this.domManip([e],true,function(e){var t=this.nextSibling,r=this.parentNode;if(r){k(this).remove();r.insertBefore(e,t)}})},detach:function(e){return this.remove(e,true)},domManip:function(e,r,n){e=d.apply([],e);var a,o,i,s,u,l,c=0,p=this.length,f=this,h=p-1,m=e[0],g=k.isFunction(m);if(g||!(p<=1||typeof m!=="string"||k.support.checkClone||!Ot.test(m))){return this.each(function(a){var o=f.eq(a);if(g){e[0]=m.call(this,a,r?o.html():t)}o.domManip(e,r,n)})}if(p){l=k.buildFragment(e,this[0].ownerDocument,false,this);a=l.firstChild;if(l.childNodes.length===1){l=a}if(a){r=r&&k.nodeName(a,"tr");s=k.map(Pt(l,"script"),Mt);i=s.length;for(;c<p;c++){o=l;if(c!==h){o=k.clone(o,true,true);if(i){k.merge(s,Pt(o,"script"))}}n.call(r&&k.nodeName(this[c],"table")?Nt(this[c],"tbody"):this[c],o,c)}if(i){u=s[s.length-1].ownerDocument;k.map(s,Vt);for(c=0;c<i;c++){o=s[c];if(Tt.test(o.type||"")&&!k._data(o,"globalEval")&&k.contains(u,o)){if(o.src){k.ajax({url:o.src,type:"GET",dataType:"script",async:false,global:false,"throws":true})}else{k.globalEval((o.text||o.textContent||o.innerHTML||"").replace(Et,""))}}}}l=a=null}}return this}});function Nt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function Mt(e){var t=e.getAttributeNode("type");e.type=(t&&t.specified)+"/"+e.type;return e}function Vt(e){var t=Ft.exec(e.type);if(t){e.type=t[1]}else{e.removeAttribute("type")}return e}function Wt(e,t){var r,n=0;for(;(r=e[n])!=null;n++){k._data(r,"globalEval",!t||k._data(t[n],"globalEval"))}}function It(e,t){if(t.nodeType!==1||!k.hasData(e)){return}var r,n,a,o=k._data(e),i=k._data(t,o),s=o.events;if(s){delete i.handle;i.events={};for(r in s){for(n=0,a=s[r].length;n<a;n++){k.event.add(t,r,s[r][n])}}}if(i.data){i.data=k.extend({},i.data)}}function Rt(e,t){var r,n,a;if(t.nodeType!==1){return}r=t.nodeName.toLowerCase();if(!k.support.noCloneEvent&&t[k.expando]){a=k._data(t);for(n in a.events){k.removeEvent(t,n,a.handle)}t.removeAttribute(k.expando)}if(r==="script"&&t.text!==e.text){Mt(t).text=e.text;Vt(t)}else if(r==="object"){if(t.parentNode){t.outerHTML=e.outerHTML}if(k.support.html5Clone&&e.innerHTML&&!k.trim(t.innerHTML)){t.innerHTML=e.innerHTML}}else if(r==="input"&&Lt.test(e.type)){t.defaultChecked=t.checked=e.checked;if(t.value!==e.value){t.value=e.value}}else if(r==="option"){t.defaultSelected=t.selected=e.defaultSelected}else if(r==="input"||r==="textarea"){t.defaultValue=e.defaultValue}}k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){k.fn[e]=function(e){var r,n=0,a=[],o=k(e),i=o.length-1;for(;n<=i;n++){r=n===i?this:this.clone(true);k(o[n])[t](r);h.apply(a,r.get())}return this.pushStack(a)}});function Pt(e,r){var n,a,i=0,s=typeof e.getElementsByTagName!==o?e.getElementsByTagName(r||"*"):typeof e.querySelectorAll!==o?e.querySelectorAll(r||"*"):t;if(!s){for(s=[],n=e.childNodes||e;(a=n[i])!=null;i++){if(!r||k.nodeName(a,r)){s.push(a)}else{k.merge(s,Pt(a,r))}}}return r===t||r&&k.nodeName(e,r)?k.merge([e],s):s}function Dt(e){if(Lt.test(e.type)){e.defaultChecked=e.checked}}k.extend({clone:function(e,t,r){var n,a,o,i,s,u=k.contains(e.ownerDocument,e);if(k.support.html5Clone||k.isXMLDoc(e)||!vt.test("<"+e.nodeName+">")){o=e.cloneNode(true)}else{Ct.innerHTML=e.outerHTML;Ct.removeChild(o=Ct.firstChild)}if((!k.support.noCloneEvent||!k.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!k.isXMLDoc(e)){n=Pt(o);s=Pt(e);for(i=0;(a=s[i])!=null;++i){if(n[i]){Rt(a,n[i])}}}if(t){if(r){s=s||Pt(e);n=n||Pt(o);for(i=0;(a=s[i])!=null;i++){It(a,n[i])}}else{It(e,o)}}n=Pt(o,"script");if(n.length>0){Wt(n,!u&&Pt(e,"script"))}n=s=a=null;return o},buildFragment:function(e,t,r,n){var a,o,i,s,u,l,c,p=e.length,f=ht(t),d=[],h=0;for(;h<p;h++){o=e[h];if(o||o===0){if(k.type(o)==="object"){k.merge(d,o.nodeType?[o]:o)}else if(!wt.test(o)){d.push(t.createTextNode(o))}else{s=s||f.appendChild(t.createElement("div"));u=(kt.exec(o)||["",""])[1].toLowerCase();c=At[u]||At._default;s.innerHTML=c[1]+o.replace(bt,"<$1></$2>")+c[2];a=c[0];while(a--){s=s.lastChild}if(!k.support.leadingWhitespace&&yt.test(o)){d.push(t.createTextNode(yt.exec(o)[0]))}if(!k.support.tbody){o=u==="table"&&!xt.test(o)?s.firstChild:c[1]==="<table>"&&!xt.test(o)?s:0;a=o&&o.childNodes.length;while(a--){if(k.nodeName(l=o.childNodes[a],"tbody")&&!l.childNodes.length){o.removeChild(l)}}}k.merge(d,s.childNodes);s.textContent="";while(s.firstChild){s.removeChild(s.firstChild)}s=f.lastChild}}}if(s){f.removeChild(s)}if(!k.support.appendChecked){k.grep(Pt(d,"input"),Dt)}h=0;while(o=d[h++]){if(n&&k.inArray(o,n)!==-1){continue}i=k.contains(o.ownerDocument,o);s=Pt(f.appendChild(o),"script");if(i){Wt(s)}if(r){a=0;while(o=s[a++]){if(Tt.test(o.type||"")){r.push(o)}}}}s=null;return f},cleanData:function(e,t){var r,n,a,i,s=0,u=k.expando,l=k.cache,c=k.support.deleteExpando,f=k.event.special;for(;(r=e[s])!=null;s++){if(t||k.acceptData(r)){a=r[u];i=a&&l[a];if(i){if(i.events){for(n in i.events){if(f[n]){k.event.remove(r,n)}else{k.removeEvent(r,n,i.handle)}}}if(l[a]){delete l[a];if(c){delete r[u]}else if(typeof r.removeAttribute!==o){r.removeAttribute(u)}else{r[u]=null}p.push(a)}}}}}});var jt,qt,zt,Ht=/alpha\([^)]*\)/i,$t=/opacity\s*=\s*([^)]*)/,Bt=/^(top|right|bottom|left)$/,Ut=/^(none|table(?!-c[ea]).+)/,Yt=/^margin/,Kt=new RegExp("^("+x+")(.*)$","i"),Xt=new RegExp("^("+x+")(?!px)[a-z%]+$","i"),Gt=new RegExp("^([+-])=("+x+")","i"),Jt={BODY:"block"},Qt={position:"absolute",visibility:"hidden",display:"block"},Zt={letterSpacing:0,fontWeight:400},er=["Top","Right","Bottom","Left"],tr=["Webkit","O","Moz","ms"];function rr(e,t){if(t in e){return t}var r=t.charAt(0).toUpperCase()+t.slice(1),n=t,a=tr.length;while(a--){t=tr[a]+r;if(t in e){return t}}return n}function nr(e,t){e=t||e;return k.css(e,"display")==="none"||!k.contains(e.ownerDocument,e)}function ar(e,t){var r,n,a,o=[],i=0,s=e.length;for(;i<s;i++){n=e[i];if(!n.style){continue}o[i]=k._data(n,"olddisplay");r=n.style.display;if(t){if(!o[i]&&r==="none"){n.style.display=""}if(n.style.display===""&&nr(n)){o[i]=k._data(n,"olddisplay",ur(n.nodeName))}}else{if(!o[i]){a=nr(n);if(r&&r!=="none"||!a){k._data(n,"olddisplay",a?r:k.css(n,"display"))}}}}for(i=0;i<s;i++){n=e[i];if(!n.style){continue}if(!t||n.style.display==="none"||n.style.display===""){n.style.display=t?o[i]||"":"none"}}return e}k.fn.extend({css:function(e,r){return k.access(this,function(e,r,n){var a,o,i={},s=0;if(k.isArray(r)){o=qt(e);a=r.length;for(;s<a;s++){i[r[s]]=k.css(e,r[s],false,o)}return i}return n!==t?k.style(e,r,n):k.css(e,r)},e,r,arguments.length>1)},show:function(){return ar(this,true)},hide:function(){return ar(this)},toggle:function(e){var t=typeof e==="boolean";return this.each(function(){if(t?e:nr(this)){k(this).show()}else{k(this).hide()}})}});k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=zt(e,"opacity");return r===""?"1":r}}}},cssNumber:{columnCount:true,fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":k.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,r,n,a){if(!e||e.nodeType===3||e.nodeType===8||!e.style){return}var o,i,s,u=k.camelCase(r),l=e.style;r=k.cssProps[u]||(k.cssProps[u]=rr(l,u));s=k.cssHooks[r]||k.cssHooks[u];if(n!==t){i=typeof n;if(i==="string"&&(o=Gt.exec(n))){n=(o[1]+1)*o[2]+parseFloat(k.css(e,r));i="number"}if(n==null||i==="number"&&isNaN(n)){return}if(i==="number"&&!k.cssNumber[u]){n+="px"}if(!k.support.clearCloneStyle&&n===""&&r.indexOf("background")===0){l[r]="inherit"}if(!s||!("set"in s)||(n=s.set(e,n,a))!==t){try{l[r]=n}catch(c){}}}else{if(s&&"get"in s&&(o=s.get(e,false,a))!==t){return o}return l[r]}},css:function(e,r,n,a){var o,i,s,u=k.camelCase(r);r=k.cssProps[u]||(k.cssProps[u]=rr(e.style,u));s=k.cssHooks[r]||k.cssHooks[u];if(s&&"get"in s){i=s.get(e,true,n)}if(i===t){i=zt(e,r,a)}if(i==="normal"&&r in Zt){i=Zt[r]}if(n===""||n){o=parseFloat(i);return n===true||k.isNumeric(o)?o||0:i}return i},swap:function(e,t,r,n){var a,o,i={};for(o in t){i[o]=e.style[o];e.style[o]=t[o]}a=r.apply(e,n||[]);for(o in t){e.style[o]=i[o]}return a}});if(e.getComputedStyle){qt=function(t){return e.getComputedStyle(t,null)};zt=function(e,r,n){var a,o,i,s=n||qt(e),u=s?s.getPropertyValue(r)||s[r]:t,l=e.style;if(s){if(u===""&&!k.contains(e.ownerDocument,e)){u=k.style(e,r)}if(Xt.test(u)&&Yt.test(r)){a=l.width;o=l.minWidth;i=l.maxWidth;l.minWidth=l.maxWidth=l.width=u;u=s.width;l.width=a;l.minWidth=o;l.maxWidth=i}}return u}}else if(i.documentElement.currentStyle){qt=function(e){return e.currentStyle};zt=function(e,r,n){var a,o,i,s=n||qt(e),u=s?s[r]:t,l=e.style;if(u==null&&l&&l[r]){u=l[r]}if(Xt.test(u)&&!Bt.test(r)){a=l.left;o=e.runtimeStyle;i=o&&o.left;if(i){o.left=e.currentStyle.left}l.left=r==="fontSize"?"1em":u;u=l.pixelLeft+"px";l.left=a;if(i){o.left=i}}return u===""?"auto":u}}function or(e,t,r){var n=Kt.exec(t);return n?Math.max(0,n[1]-(r||0))+(n[2]||"px"):t}function ir(e,t,r,n,a){var o=r===(n?"border":"content")?4:t==="width"?1:0,i=0;for(;o<4;o+=2){if(r==="margin"){i+=k.css(e,r+er[o],true,a)}if(n){if(r==="content"){i-=k.css(e,"padding"+er[o],true,a)}if(r!=="margin"){i-=k.css(e,"border"+er[o]+"Width",true,a)}}else{i+=k.css(e,"padding"+er[o],true,a);if(r!=="padding"){i+=k.css(e,"border"+er[o]+"Width",true,a)}}}return i}function sr(e,t,r){var n=true,a=t==="width"?e.offsetWidth:e.offsetHeight,o=qt(e),i=k.support.boxSizing&&k.css(e,"boxSizing",false,o)==="border-box";if(a<=0||a==null){a=zt(e,t,o);if(a<0||a==null){a=e.style[t]}if(Xt.test(a)){return a}n=i&&(k.support.boxSizingReliable||a===e.style[t]);a=parseFloat(a)||0}return a+ir(e,t,r||(i?"border":"content"),n,o)+"px"}function ur(e){var t=i,r=Jt[e];if(!r){r=lr(e,t);if(r==="none"||!r){jt=(jt||k("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement);t=(jt[0].contentWindow||jt[0].contentDocument).document;t.write("<!doctype html><html><body>");t.close();r=lr(e,t);jt.detach()}Jt[e]=r}return r}function lr(e,t){var r=k(t.createElement(e)).appendTo(t.body),n=k.css(r[0],"display");r.remove();return n}k.each(["height","width"],function(e,t){k.cssHooks[t]={get:function(e,r,n){if(r){return e.offsetWidth===0&&Ut.test(k.css(e,"display"))?k.swap(e,Qt,function(){return sr(e,t,n)}):sr(e,t,n)}},set:function(e,r,n){var a=n&&qt(e);return or(e,r,n?ir(e,t,n,k.support.boxSizing&&k.css(e,"boxSizing",false,a)==="border-box",a):0)}}});if(!k.support.opacity){k.cssHooks.opacity={get:function(e,t){return $t.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""
},set:function(e,t){var r=e.style,n=e.currentStyle,a=k.isNumeric(t)?"alpha(opacity="+t*100+")":"",o=n&&n.filter||r.filter||"";r.zoom=1;if((t>=1||t==="")&&k.trim(o.replace(Ht,""))===""&&r.removeAttribute){r.removeAttribute("filter");if(t===""||n&&!n.filter){return}}r.filter=Ht.test(o)?o.replace(Ht,a):o+" "+a}}}k(function(){if(!k.support.reliableMarginRight){k.cssHooks.marginRight={get:function(e,t){if(t){return k.swap(e,{display:"inline-block"},zt,[e,"marginRight"])}}}}if(!k.support.pixelPosition&&k.fn.position){k.each(["top","left"],function(e,t){k.cssHooks[t]={get:function(e,r){if(r){r=zt(e,t);return Xt.test(r)?k(e).position()[t]+"px":r}}}})}});if(k.expr&&k.expr.filters){k.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!k.support.reliableHiddenOffsets&&(e.style&&e.style.display||k.css(e,"display"))==="none"};k.expr.filters.visible=function(e){return!k.expr.filters.hidden(e)}}k.each({margin:"",padding:"",border:"Width"},function(e,t){k.cssHooks[e+t]={expand:function(r){var n=0,a={},o=typeof r==="string"?r.split(" "):[r];for(;n<4;n++){a[e+er[n]+t]=o[n]||o[n-2]||o[0]}return a}};if(!Yt.test(e)){k.cssHooks[e+t].set=or}});var cr=/%20/g,pr=/\[\]$/,fr=/\r?\n/g,dr=/^(?:submit|button|image|reset|file)$/i,hr=/^(?:input|select|textarea|keygen)/i;k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&hr.test(this.nodeName)&&!dr.test(e)&&(this.checked||!Lt.test(e))}).map(function(e,t){var r=k(this).val();return r==null?null:k.isArray(r)?k.map(r,function(e){return{name:t.name,value:e.replace(fr,"\r\n")}}):{name:t.name,value:r.replace(fr,"\r\n")}}).get()}});k.param=function(e,r){var n,a=[],o=function(e,t){t=k.isFunction(t)?t():t==null?"":t;a[a.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(r===t){r=k.ajaxSettings&&k.ajaxSettings.traditional}if(k.isArray(e)||e.jquery&&!k.isPlainObject(e)){k.each(e,function(){o(this.name,this.value)})}else{for(n in e){mr(n,e[n],r,o)}}return a.join("&").replace(cr,"+")};function mr(e,t,r,n){var a;if(k.isArray(t)){k.each(t,function(t,a){if(r||pr.test(e)){n(e,a)}else{mr(e+"["+(typeof a==="object"?t:"")+"]",a,r,n)}})}else if(!r&&k.type(t)==="object"){for(a in t){mr(e+"["+a+"]",t[a],r,n)}}else{n(e,t)}}k.each(("blur focus focusin focusout load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup error contextmenu").split(" "),function(e,t){k.fn[t]=function(e,r){return arguments.length>0?this.on(t,null,e,r):this.trigger(t)}});k.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var gr,vr,yr=k.now(),br=/\?/,kr=/#.*$/,xr=/([?&])_=[^&]*/,wr=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,_r=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Lr=/^(?:GET|HEAD)$/,Or=/^\/\//,Tr=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Fr=k.fn.load,Er={},Ar={},Sr="*/".concat("*");try{vr=s.href}catch(Cr){vr=i.createElement("a");vr.href="";vr=vr.href}gr=Tr.exec(vr.toLowerCase())||[];function Nr(e){return function(t,r){if(typeof t!=="string"){r=t;t="*"}var n,a=0,o=t.toLowerCase().match(w)||[];if(k.isFunction(r)){while(n=o[a++]){if(n[0]==="+"){n=n.slice(1)||"*";(e[n]=e[n]||[]).unshift(r)}else{(e[n]=e[n]||[]).push(r)}}}}}function Mr(e,t,r,n){var a={},o=e===Ar;function i(s){var u;a[s]=true;k.each(e[s]||[],function(e,s){var l=s(t,r,n);if(typeof l==="string"&&!o&&!a[l]){t.dataTypes.unshift(l);i(l);return false}else if(o){return!(u=l)}});return u}return i(t.dataTypes[0])||!a["*"]&&i("*")}function Vr(e,r){var n,a,o=k.ajaxSettings.flatOptions||{};for(a in r){if(r[a]!==t){(o[a]?e:n||(n={}))[a]=r[a]}}if(n){k.extend(true,e,n)}return e}k.fn.load=function(e,r,n){if(typeof e!=="string"&&Fr){return Fr.apply(this,arguments)}var a,o,i,s=this,u=e.indexOf(" ");if(u>=0){a=e.slice(u,e.length);e=e.slice(0,u)}if(k.isFunction(r)){n=r;r=t}else if(r&&typeof r==="object"){i="POST"}if(s.length>0){k.ajax({url:e,type:i,dataType:"html",data:r}).done(function(e){o=arguments;s.html(a?k("<div>").append(k.parseHTML(e)).find(a):e)}).complete(n&&function(e,t){s.each(n,o||[e.responseText,t,e])})}return this};k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){k.fn[t]=function(e){return this.on(t,e)}});k.each(["get","post"],function(e,r){k[r]=function(e,n,a,o){if(k.isFunction(n)){o=o||a;a=n;n=t}return k.ajax({url:e,type:r,dataType:o,data:n,success:a})}});k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:vr,type:"GET",isLocal:_r.test(gr[1]),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Sr,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":true,"text json":k.parseJSON,"text xml":k.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(e,t){return t?Vr(Vr(e,k.ajaxSettings),t):Vr(k.ajaxSettings,e)},ajaxPrefilter:Nr(Er),ajaxTransport:Nr(Ar),ajax:function(e,r){if(typeof e==="object"){r=e;e=t}r=r||{};var n,a,o,i,s,u,l,c,p=k.ajaxSetup({},r),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?k(f):k.event,h=k.Deferred(),m=k.Callbacks("once memory"),g=p.statusCode||{},v={},y={},b=0,x="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(b===2){if(!c){c={};while(t=wr.exec(i)){c[t[1].toLowerCase()]=t[2]}}t=c[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return b===2?i:null},setRequestHeader:function(e,t){var r=e.toLowerCase();if(!b){e=y[r]=y[r]||e;v[e]=t}return this},overrideMimeType:function(e){if(!b){p.mimeType=e}return this},statusCode:function(e){var t;if(e){if(b<2){for(t in e){g[t]=[g[t],e[t]]}}else{_.always(e[_.status])}}return this},abort:function(e){var t=e||x;if(l){l.abort(t)}O(0,t);return this}};h.promise(_).complete=m.add;_.success=_.done;_.error=_.fail;p.url=((e||p.url||vr)+"").replace(kr,"").replace(Or,gr[1]+"//");p.type=r.method||r.type||p.method||p.type;p.dataTypes=k.trim(p.dataType||"*").toLowerCase().match(w)||[""];if(p.crossDomain==null){n=Tr.exec(p.url.toLowerCase());p.crossDomain=!!(n&&(n[1]!==gr[1]||n[2]!==gr[2]||(n[3]||(n[1]==="http:"?80:443))!=(gr[3]||(gr[1]==="http:"?80:443))))}if(p.data&&p.processData&&typeof p.data!=="string"){p.data=k.param(p.data,p.traditional)}Mr(Er,p,r,_);if(b===2){return _}u=p.global;if(u&&k.active++===0){k.event.trigger("ajaxStart")}p.type=p.type.toUpperCase();p.hasContent=!Lr.test(p.type);o=p.url;if(!p.hasContent){if(p.data){o=p.url+=(br.test(o)?"&":"?")+p.data;delete p.data}if(p.cache===false){p.url=xr.test(o)?o.replace(xr,"$1_="+yr++):o+(br.test(o)?"&":"?")+"_="+yr++}}if(p.ifModified){if(k.lastModified[o]){_.setRequestHeader("If-Modified-Since",k.lastModified[o])}if(k.etag[o]){_.setRequestHeader("If-None-Match",k.etag[o])}}if(p.data&&p.hasContent&&p.contentType!==false||r.contentType){_.setRequestHeader("Content-Type",p.contentType)}_.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+(p.dataTypes[0]!=="*"?", "+Sr+"; q=0.01":""):p.accepts["*"]);for(a in p.headers){_.setRequestHeader(a,p.headers[a])}if(p.beforeSend&&(p.beforeSend.call(f,_,p)===false||b===2)){return _.abort()}x="abort";for(a in{success:1,error:1,complete:1}){_[a](p[a])}l=Mr(Ar,p,r,_);if(!l){O(-1,"No Transport")}else{_.readyState=1;if(u){d.trigger("ajaxSend",[_,p])}if(p.async&&p.timeout>0){s=setTimeout(function(){_.abort("timeout")},p.timeout)}try{b=1;l.send(v,O)}catch(L){if(b<2){O(-1,L)}else{throw L}}}function O(e,r,n,a){var c,v,y,x,w,L=r;if(b===2){return}b=2;if(s){clearTimeout(s)}l=t;i=a||"";_.readyState=e>0?4:0;if(n){x=Wr(p,_,n)}if(e>=200&&e<300||e===304){if(p.ifModified){w=_.getResponseHeader("Last-Modified");if(w){k.lastModified[o]=w}w=_.getResponseHeader("etag");if(w){k.etag[o]=w}}if(e===204){c=true;L="nocontent"}else if(e===304){c=true;L="notmodified"}else{c=Ir(p,x);L=c.state;v=c.data;y=c.error;c=!y}}else{y=L;if(e||!L){L="error";if(e<0){e=0}}}_.status=e;_.statusText=(r||L)+"";if(c){h.resolveWith(f,[v,L,_])}else{h.rejectWith(f,[_,L,y])}_.statusCode(g);g=t;if(u){d.trigger(c?"ajaxSuccess":"ajaxError",[_,p,c?v:y])}m.fireWith(f,[_,L]);if(u){d.trigger("ajaxComplete",[_,p]);if(!--k.active){k.event.trigger("ajaxStop")}}}return _},getScript:function(e,r){return k.get(e,t,r,"script")},getJSON:function(e,t,r){return k.get(e,t,r,"json")}});function Wr(e,r,n){var a,o,i,s,u=e.contents,l=e.dataTypes,c=e.responseFields;for(s in c){if(s in n){r[c[s]]=n[s]}}while(l[0]==="*"){l.shift();if(o===t){o=e.mimeType||r.getResponseHeader("Content-Type")}}if(o){for(s in u){if(u[s]&&u[s].test(o)){l.unshift(s);break}}}if(l[0]in n){i=l[0]}else{for(s in n){if(!l[0]||e.converters[s+" "+l[0]]){i=s;break}if(!a){a=s}}i=i||a}if(i){if(i!==l[0]){l.unshift(i)}return n[i]}}function Ir(e,t){var r,n,a,o,i={},s=0,u=e.dataTypes.slice(),l=u[0];if(e.dataFilter){t=e.dataFilter(t,e.dataType)}if(u[1]){for(a in e.converters){i[a.toLowerCase()]=e.converters[a]}}for(;n=u[++s];){if(n!=="*"){if(l!=="*"&&l!==n){a=i[l+" "+n]||i["* "+n];if(!a){for(r in i){o=r.split(" ");if(o[1]===n){a=i[l+" "+o[0]]||i["* "+o[0]];if(a){if(a===true){a=i[r]}else if(i[r]!==true){n=o[0];u.splice(s--,0,n)}break}}}}if(a!==true){if(a&&e["throws"]){t=a(t)}else{try{t=a(t)}catch(c){return{state:"parsererror",error:a?c:"No conversion from "+l+" to "+n}}}}}l=n}}return{state:"success",data:t}}k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){k.globalEval(e);return e}}});k.ajaxPrefilter("script",function(e){if(e.cache===t){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});k.ajaxTransport("script",function(e){if(e.crossDomain){var r,n=i.head||k("head")[0]||i.documentElement;return{send:function(t,a){r=i.createElement("script");r.async=true;if(e.scriptCharset){r.charset=e.scriptCharset}r.src=e.url;r.onload=r.onreadystatechange=function(e,t){if(t||!r.readyState||/loaded|complete/.test(r.readyState)){r.onload=r.onreadystatechange=null;if(r.parentNode){r.parentNode.removeChild(r)}r=null;if(!t){a(200,"success")}}};n.insertBefore(r,n.firstChild)},abort:function(){if(r){r.onload(t,true)}}}}});var Rr=[],Pr=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Rr.pop()||k.expando+"_"+yr++;this[e]=true;return e}});k.ajaxPrefilter("json jsonp",function(r,n,a){var o,i,s,u=r.jsonp!==false&&(Pr.test(r.url)?"url":typeof r.data==="string"&&!(r.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pr.test(r.data)&&"data");if(u||r.dataTypes[0]==="jsonp"){o=r.jsonpCallback=k.isFunction(r.jsonpCallback)?r.jsonpCallback():r.jsonpCallback;if(u){r[u]=r[u].replace(Pr,"$1"+o)}else if(r.jsonp!==false){r.url+=(br.test(r.url)?"&":"?")+r.jsonp+"="+o}r.converters["script json"]=function(){if(!s){k.error(o+" was not called")}return s[0]};r.dataTypes[0]="json";i=e[o];e[o]=function(){s=arguments};a.always(function(){e[o]=i;if(r[o]){r.jsonpCallback=n.jsonpCallback;Rr.push(o)}if(s&&k.isFunction(i)){i(s[0])}s=i=t});return"script"}});var Dr,jr,qr=0,zr=e.ActiveXObject&&function(){var e;for(e in Dr){Dr[e](t,true)}};function Hr(){try{return new e.XMLHttpRequest}catch(t){}}function $r(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}k.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&Hr()||$r()}:Hr;jr=k.ajaxSettings.xhr();k.support.cors=!!jr&&"withCredentials"in jr;jr=k.support.ajax=!!jr;if(jr){k.ajaxTransport(function(r){if(!r.crossDomain||k.support.cors){var n;return{send:function(a,o){var i,s,u=r.xhr();if(r.username){u.open(r.type,r.url,r.async,r.username,r.password)}else{u.open(r.type,r.url,r.async)}if(r.xhrFields){for(s in r.xhrFields){u[s]=r.xhrFields[s]}}if(r.mimeType&&u.overrideMimeType){u.overrideMimeType(r.mimeType)}if(!r.crossDomain&&!a["X-Requested-With"]){a["X-Requested-With"]="XMLHttpRequest"}try{for(s in a){u.setRequestHeader(s,a[s])}}catch(l){}u.send(r.hasContent&&r.data||null);n=function(e,a){var s,l,c,p;try{if(n&&(a||u.readyState===4)){n=t;if(i){u.onreadystatechange=k.noop;if(zr){delete Dr[i]}}if(a){if(u.readyState!==4){u.abort()}}else{p={};s=u.status;l=u.getAllResponseHeaders();if(!l){l="Content-Type: "+u.getResponseHeader("Content-Type")}if(typeof u.responseText==="string"){p.text=u.responseText}try{c=u.statusText}catch(f){c=""}if(!s&&r.isLocal&&!r.crossDomain){s=p.text?200:404}else if(s===1223){s=204}}}}catch(d){if(!a){o(-1,d)}}if(p){o(s,c,p,l)}};if(!r.async){n()}else if(u.readyState===4){setTimeout(n)}else{i=++qr;if(zr){if(!Dr){Dr={};k(e).unload(zr)}Dr[i]=n}u.onreadystatechange=n}},abort:function(){if(n){n(t,true)}}}}})}var Br,Ur,Yr=/^(?:toggle|show|hide)$/,Kr=new RegExp("^(?:([+-])=|)("+x+")([a-z%]*)$","i"),Xr=/queueHooks$/,Gr=[rn],Jr={"*":[function(e,t){var r,n,a=this.createTween(e,t),o=Kr.exec(t),i=a.cur(),s=+i||0,u=1,l=20;if(o){r=+o[2];n=o[3]||(k.cssNumber[e]?"":"px");if(n!=="px"&&s){s=k.css(a.elem,e,true)||r||1;do{u=u||".5";s=s/u;k.style(a.elem,e,s+n)}while(u!==(u=a.cur()/i)&&u!==1&&--l)}a.unit=n;a.start=s;a.end=o[1]?s+(o[1]+1)*r:r}return a}]};function Qr(){setTimeout(function(){Br=t});return Br=k.now()}function Zr(e,t){k.each(t,function(t,r){var n=(Jr[t]||[]).concat(Jr["*"]),a=0,o=n.length;for(;a<o;a++){if(n[a].call(e,t,r)){return}}})}function en(e,t,r){var n,a,o=0,i=Gr.length,s=k.Deferred().always(function(){delete u.elem}),u=function(){if(a){return false}var t=Br||Qr(),r=Math.max(0,l.startTime+l.duration-t),n=r/l.duration||0,o=1-n,i=0,u=l.tweens.length;for(;i<u;i++){l.tweens[i].run(o)}s.notifyWith(e,[l,o,r]);if(o<1&&u){return r}else{s.resolveWith(e,[l]);return false}},l=s.promise({elem:e,props:k.extend({},t),opts:k.extend(true,{specialEasing:{}},r),originalProperties:t,originalOptions:r,startTime:Br||Qr(),duration:r.duration,tweens:[],createTween:function(t,r){var n=k.Tween(e,l.opts,t,r,l.opts.specialEasing[t]||l.opts.easing);l.tweens.push(n);return n},stop:function(t){var r=0,n=t?l.tweens.length:0;if(a){return this}a=true;for(;r<n;r++){l.tweens[r].run(1)}if(t){s.resolveWith(e,[l,t])}else{s.rejectWith(e,[l,t])}return this}}),c=l.props;tn(c,l.opts.specialEasing);for(;o<i;o++){n=Gr[o].call(l,e,c,l.opts);if(n){return n}}Zr(l,c);if(k.isFunction(l.opts.start)){l.opts.start.call(e,l)}k.fx.timer(k.extend(u,{elem:e,anim:l,queue:l.opts.queue}));return l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function tn(e,t){var r,n,a,o,i;for(a in e){n=k.camelCase(a);o=t[n];r=e[a];if(k.isArray(r)){o=r[1];r=e[a]=r[0]}if(a!==n){e[n]=r;delete e[a]}i=k.cssHooks[n];if(i&&"expand"in i){r=i.expand(r);delete e[n];for(a in r){if(!(a in e)){e[a]=r[a];t[a]=o}}}else{t[n]=o}}}k.Animation=k.extend(en,{tweener:function(e,t){if(k.isFunction(e)){t=e;e=["*"]}else{e=e.split(" ")}var r,n=0,a=e.length;for(;n<a;n++){r=e[n];Jr[r]=Jr[r]||[];Jr[r].unshift(t)}},prefilter:function(e,t){if(t){Gr.unshift(e)}else{Gr.push(e)}}});function rn(e,t,r){var n,a,o,i,s,u,l,c,p,f=this,d=e.style,h={},m=[],g=e.nodeType&&nr(e);if(!r.queue){c=k._queueHooks(e,"fx");if(c.unqueued==null){c.unqueued=0;p=c.empty.fire;c.empty.fire=function(){if(!c.unqueued){p()}}}c.unqueued++;f.always(function(){f.always(function(){c.unqueued--;if(!k.queue(e,"fx").length){c.empty.fire()}})})}if(e.nodeType===1&&("height"in t||"width"in t)){r.overflow=[d.overflow,d.overflowX,d.overflowY];if(k.css(e,"display")==="inline"&&k.css(e,"float")==="none"){if(!k.support.inlineBlockNeedsLayout||ur(e.nodeName)==="inline"){d.display="inline-block"}else{d.zoom=1}}}if(r.overflow){d.overflow="hidden";if(!k.support.shrinkWrapBlocks){f.always(function(){d.overflow=r.overflow[0];d.overflowX=r.overflow[1];d.overflowY=r.overflow[2]})}}for(a in t){i=t[a];if(Yr.exec(i)){delete t[a];u=u||i==="toggle";if(i===(g?"hide":"show")){continue}m.push(a)}}o=m.length;if(o){s=k._data(e,"fxshow")||k._data(e,"fxshow",{});if("hidden"in s){g=s.hidden}if(u){s.hidden=!g}if(g){k(e).show()}else{f.done(function(){k(e).hide()})}f.done(function(){var t;k._removeData(e,"fxshow");for(t in h){k.style(e,t,h[t])}});for(a=0;a<o;a++){n=m[a];l=f.createTween(n,g?s[n]:0);h[n]=s[n]||k.style(e,n);if(!(n in s)){s[n]=l.start;if(g){l.end=l.start;l.start=n==="width"||n==="height"?1:0}}}}}function nn(e,t,r,n,a){return new nn.prototype.init(e,t,r,n,a)}k.Tween=nn;nn.prototype={constructor:nn,init:function(e,t,r,n,a,o){this.elem=e;this.prop=r;this.easing=a||"swing";this.options=t;this.start=this.now=this.cur();this.end=n;this.unit=o||(k.cssNumber[r]?"":"px")},cur:function(){var e=nn.propHooks[this.prop];return e&&e.get?e.get(this):nn.propHooks._default.get(this)},run:function(e){var t,r=nn.propHooks[this.prop];if(this.options.duration){this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration)}else{this.pos=t=e}this.now=(this.end-this.start)*t+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(r&&r.set){r.set(this)}else{nn.propHooks._default.set(this)}return this}};nn.prototype.init.prototype=nn.prototype;nn.propHooks={_default:{get:function(e){var t;if(e.elem[e.prop]!=null&&(!e.elem.style||e.elem.style[e.prop]==null)){return e.elem[e.prop]}t=k.css(e.elem,e.prop,"");return!t||t==="auto"?0:t},set:function(e){if(k.fx.step[e.prop]){k.fx.step[e.prop](e)}else if(e.elem.style&&(e.elem.style[k.cssProps[e.prop]]!=null||k.cssHooks[e.prop])){k.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}};nn.propHooks.scrollTop=nn.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};k.each(["toggle","show","hide"],function(e,t){var r=k.fn[t];k.fn[t]=function(e,n,a){return e==null||typeof e==="boolean"?r.apply(this,arguments):this.animate(an(t,true),e,n,a)}});k.fn.extend({fadeTo:function(e,t,r,n){return this.filter(nr).css("opacity",0).show().end().animate({opacity:t},e,r,n)},animate:function(e,t,r,n){var a=k.isEmptyObject(e),o=k.speed(t,r,n),i=function(){var t=en(this,k.extend({},e),o);i.finish=function(){t.stop(true)};if(a||k._data(this,"finish")){t.stop(true)}};i.finish=i;return a||o.queue===false?this.each(i):this.queue(o.queue,i)},stop:function(e,r,n){var a=function(e){var t=e.stop;delete e.stop;t(n)};if(typeof e!=="string"){n=r;r=e;e=t}if(r&&e!==false){this.queue(e||"fx",[])}return this.each(function(){var t=true,r=e!=null&&e+"queueHooks",o=k.timers,i=k._data(this);if(r){if(i[r]&&i[r].stop){a(i[r])}}else{for(r in i){if(i[r]&&i[r].stop&&Xr.test(r)){a(i[r])}}}for(r=o.length;r--;){if(o[r].elem===this&&(e==null||o[r].queue===e)){o[r].anim.stop(n);t=false;o.splice(r,1)}}if(t||!n){k.dequeue(this,e)}})},finish:function(e){if(e!==false){e=e||"fx"}return this.each(function(){var t,r=k._data(this),n=r[e+"queue"],a=r[e+"queueHooks"],o=k.timers,i=n?n.length:0;r.finish=true;k.queue(this,e,[]);if(a&&a.cur&&a.cur.finish){a.cur.finish.call(this)}for(t=o.length;t--;){if(o[t].elem===this&&o[t].queue===e){o[t].anim.stop(true);o.splice(t,1)}}for(t=0;t<i;t++){if(n[t]&&n[t].finish){n[t].finish.call(this)}}delete r.finish})}});function an(e,t){var r,n={height:e},a=0;t=t?1:0;for(;a<4;a+=2-t){r=er[a];n["margin"+r]=n["padding"+r]=e}if(t){n.opacity=n.width=e}return n}k.each({slideDown:an("show"),slideUp:an("hide"),slideToggle:an("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){k.fn[e]=function(e,r,n){return this.animate(t,e,r,n)}});k.speed=function(e,t,r){var n=e&&typeof e==="object"?k.extend({},e):{complete:r||!r&&t||k.isFunction(e)&&e,duration:e,easing:r&&t||t&&!k.isFunction(t)&&t};n.duration=k.fx.off?0:typeof n.duration==="number"?n.duration:n.duration in k.fx.speeds?k.fx.speeds[n.duration]:k.fx.speeds._default;if(n.queue==null||n.queue===true){n.queue="fx"}n.old=n.complete;n.complete=function(){if(k.isFunction(n.old)){n.old.call(this)}if(n.queue){k.dequeue(this,n.queue)}};return n};k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}};k.timers=[];k.fx=nn.prototype.init;k.fx.tick=function(){var e,r=k.timers,n=0;Br=k.now();for(;n<r.length;n++){e=r[n];if(!e()&&r[n]===e){r.splice(n--,1)}}if(!r.length){k.fx.stop()}Br=t};k.fx.timer=function(e){if(e()&&k.timers.push(e)){k.fx.start()}};k.fx.interval=13;k.fx.start=function(){if(!Ur){Ur=setInterval(k.fx.tick,k.fx.interval)}};k.fx.stop=function(){clearInterval(Ur);Ur=null};k.fx.speeds={slow:600,fast:200,_default:400};k.fx.step={};if(k.expr&&k.expr.filters){k.expr.filters.animated=function(e){return k.grep(k.timers,function(t){return e===t.elem}).length}}k.fn.offset=function(e){if(arguments.length){return e===t?this:this.each(function(t){k.offset.setOffset(this,e,t)})}var r,n,a={top:0,left:0},i=this[0],s=i&&i.ownerDocument;if(!s){return}r=s.documentElement;if(!k.contains(r,i)){return a}if(typeof i.getBoundingClientRect!==o){a=i.getBoundingClientRect()}n=on(s);return{top:a.top+(n.pageYOffset||r.scrollTop)-(r.clientTop||0),left:a.left+(n.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}};k.offset={setOffset:function(e,t,r){var n=k.css(e,"position");if(n==="static"){e.style.position="relative"}var a=k(e),o=a.offset(),i=k.css(e,"top"),s=k.css(e,"left"),u=(n==="absolute"||n==="fixed")&&k.inArray("auto",[i,s])>-1,l={},c={},p,f;if(u){c=a.position();p=c.top;f=c.left}else{p=parseFloat(i)||0;f=parseFloat(s)||0}if(k.isFunction(t)){t=t.call(e,r,o)}if(t.top!=null){l.top=t.top-o.top+p}if(t.left!=null){l.left=t.left-o.left+f}if("using"in t){t.using.call(e,l)}else{a.css(l)}}};k.fn.extend({position:function(){if(!this[0]){return}var e,t,r={top:0,left:0},n=this[0];if(k.css(n,"position")==="fixed"){t=n.getBoundingClientRect()}else{e=this.offsetParent();t=this.offset();if(!k.nodeName(e[0],"html")){r=e.offset()}r.top+=k.css(e[0],"borderTopWidth",true);r.left+=k.css(e[0],"borderLeftWidth",true)}return{top:t.top-r.top-k.css(n,"marginTop",true),left:t.left-r.left-k.css(n,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||i.documentElement;while(e&&!k.nodeName(e,"html")&&k.css(e,"position")==="static"){e=e.offsetParent}return e||i.documentElement})}});k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var n=/Y/.test(r);k.fn[e]=function(a){return k.access(this,function(e,a,o){var i=on(e);if(o===t){return i?r in i?i[r]:i.document.documentElement[a]:e[a]}if(i){i.scrollTo(!n?o:k(i).scrollLeft(),n?o:k(i).scrollTop())}else{e[a]=o}},e,a,arguments.length,null)}});function on(e){return k.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false}k.each({Height:"height",Width:"width"},function(e,r){k.each({padding:"inner"+e,content:r,"":"outer"+e},function(n,a){k.fn[a]=function(a,o){var i=arguments.length&&(n||typeof a!=="boolean"),s=n||(a===true||o===true?"margin":"border");return k.access(this,function(r,n,a){var o;if(k.isWindow(r)){return r.document.documentElement["client"+e]}if(r.nodeType===9){o=r.documentElement;return Math.max(r.body["scroll"+e],o["scroll"+e],r.body["offset"+e],o["offset"+e],o["client"+e])}return a===t?k.css(r,n,s):k.style(r,n,a,s)},r,i?a:t,i,null)}})});e.jQuery=e.$=k;if(typeof a==="function"&&a.amd&&a.amd.jQuery){a("jquery",[],function(){return k})}})(e);a("nunjucks.compat",["nunjucks"],function(e){console.log("Loading nunjucks compat...");var r=e.require("runtime");var n=e.require("lib");var a=r.contextOrFrameLookup;r.contextOrFrameLookup=function(e,r,n){var o=a.apply(this,arguments);if(o===t){switch(n){case"True":return true;case"False":return false;case"None":return null}}return o};var o=r.memberLookup;r.memberLookup=function(e,r,a){e=e||{};if(n.isArray(e)){switch(r){case"pop":return function(r){if(r===t){return e.pop()}if(r>=e.length||r<0){throw new Error("KeyError")}return e.splice(r,1)};case"remove":return function(t){for(var r=0;r<e.length;r++){if(e[r]==t){return e.splice(r,1)}}throw new Error("ValueError")};case"count":return function(t){var r=0;for(var n=0;n<e.length;n++){if(e[n]==t){r++}}return r};case"index":return function(t){var r;if((r=e.indexOf(t))==-1){throw new Error("ValueError")}return r};case"find":return function(t){return e.indexOf(t)};case"insert":return function(t,r){return e.splice(t,0,r)}}}if(n.isObject(e)){switch(r){case"items":case"iteritems":return function(){var t=[];for(var r in e){t.push([r,e[r]])}return t};case"values":case"itervalues":return function(){var t=[];for(var r in e){t.push(e[r])}return t};case"keys":case"iterkeys":return function(){var t=[];for(var r in e){t.push(r)}return t};case"get":return function(r,n){var a=e[r];if(a===t){a=n}return a};case"has_key":return function(t){return t in e};case"pop":return function(r,n){var a=e[r];if(a===t&&n!==t){a=n}else if(a===t){throw new Error("KeyError")}else{delete e[r]}return a};case"popitem":return function(){for(var t in e){var r=e[t];delete e[t];return[t,r]}throw new Error("KeyError")};case"setdefault":return function(r,n){if(r in e){return e[r]}if(n===t){n=null}return e[r]=n};case"update":return function(t){for(var r in t){e[r]=t[r]}return null}}}return o.apply(this,arguments)}});(function(){var r={};(function(){function e(t,r,n){var a=Object.create(t.prototype);var o=/xyz/.test(function(){xyz})?/\bparent\b/:/.*/;n=n||{};for(var i in n){var s=n[i];var u=a[i];if(typeof u=="function"&&typeof s=="function"&&o.test(s)){a[i]=function(e,t){return function(){var r=this.parent;this.parent=t;var n=e.apply(this,arguments);this.parent=r;return n}}(s,u)}else{a[i]=s}}a.typename=r;var l=function(){if(a.init){a.init.apply(this,arguments)}};l.prototype=a;l.prototype.constructor=l;l.extend=function(t,r){if(typeof t=="object"){r=t;t="anonymous"}return e(l,t,r)};return l}r["object"]=e(Object,"Object",{})})();(function(){var e=Array.prototype;var t=Object.prototype;var n={"&":"&amp;",'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;"};var a=function(e){return n[e]};var o=r["lib"]={};o.withPrettyErrors=function(e,t,r){try{return r()}catch(n){if(!n.Update){n=new o.TemplateError(n)}n.Update(e);if(!t){var a=n;n=new Error(a.message);n.name=a.name}throw n}};o.TemplateError=function(e,t,r){var n=this;if(e instanceof Error){n=e;e=e.name+": "+e.message}else{Error.captureStackTrace(n)}n.name="Template render error";n.message=e;n.lineno=t;n.colno=r;n.firstUpdate=true;n.Update=function(e){var t="("+(e||"unknown path")+")";if(this.firstUpdate){if(this.lineno&&this.colno){t+=" [Line "+this.lineno+", Column "+this.colno+"]"}else if(this.lineno){t+=" [Line "+this.lineno+"]"}}t+="\n ";if(this.firstUpdate){t+=" "}this.message=t+(this.message||"");this.firstUpdate=false;return this};return n};o.TemplateError.prototype=Error.prototype;o.escape=function(e){return e.replace(/[&"'<>]/g,a)};o.isFunction=function(e){return t.toString.call(e)=="[object Function]"};o.isArray=Array.isArray||function(e){return t.toString.call(e)=="[object Array]"};o.isString=function(e){return t.toString.call(e)=="[object String]"};o.isObject=function(e){return e===Object(e)};o.groupBy=function(e,t){var r={};var n=o.isFunction(t)?t:function(e){return e[t]};for(var a=0;a<e.length;a++){var i=e[a];var s=n(i,a);(r[s]||(r[s]=[])).push(i)}return r};o.toArray=function(e){return Array.prototype.slice.call(e)};o.without=function(e){var t=[];if(!e){return t}var r=-1,n=e.length,a=o.toArray(arguments).slice(1);while(++r<n){if(a.indexOf(e[r])===-1){t.push(e[r])}}return t};o.extend=function(e,t){for(var r in t){e[r]=t[r]}return e};o.repeat=function(e,t){var r="";for(var n=0;n<t;n++){r+=e}return r};o.each=function(t,r,n){if(t==null){return}if(e.each&&t.each==e.each){t.forEach(r,n)}else if(t.length===+t.length){for(var a=0,o=t.length;a<o;a++){r.call(n,t[a],a,t)}}};o.map=function(t,r){var n=[];if(t==null){return n}if(e.map&&t.map===e.map){return t.map(r)}for(var a=0;a<t.length;a++){n[n.length]=r(t[a],a)}if(t.length===+t.length){n.length=t.length}return n}})();(function(){var e=r["lib"];var n=r["object"];var a=n.extend({init:function(e){this.variables={};this.parent=e},set:function(e,t){var r=e.split(".");var n=this.variables;for(var a=0;a<r.length-1;a++){var o=r[a];if(!n[o]){n[o]={}}n=n[o]}n[r[r.length-1]]=t},lookup:function(e){var r=this.parent;var n=this.variables[e];if(n!==t&&n!==null){return n}return r&&r.lookup(e)},push:function(){return new a(this)},pop:function(){return this.parent}});function o(e,t,r){return function(){var n=u(arguments);var a;var o=s(arguments);if(n>e.length){a=Array.prototype.slice.call(arguments,0,e.length);var i=Array.prototype.slice.call(arguments,a.length,n);for(var l=0;l<i.length;l++){if(l<t.length){o[t[l]]=i[l]}}a.push(o)}else if(n<e.length){a=Array.prototype.slice.call(arguments,0,n);for(var l=n;l<e.length;l++){var c=e[l];a.push(o[c]);delete o[c]}a.push(o)}else{a=arguments}return r.apply(this,a)}}function i(e){e.__keywords=true;return e}function s(e){if(e.length&&e[e.length-1].__keywords){return e[e.length-1]}return{}}function u(e){if(e.length===0){return 0}else if(e[e.length-1].__keywords){return e.length-1}else{return e.length}}function l(e){if(typeof e!="string"){return e}this.toString=function(){return e};this.length=e.length;var t=["charAt","charCodeAt","concat","contains","endsWith","fromCharCode","indexOf","lastIndexOf","length","localeCompare","match","quote","replace","search","slice","split","startsWith","substr","substring","toLocaleLowerCase","toLocaleUpperCase","toLowerCase","toUpperCase","trim","trimLeft","trimRight"];for(var r=0;r<t.length;r++){this[t[r]]=p(e[t[r]])}}function c(e,t){if(e instanceof l){return new l(t)}return t.toString()}function p(e){return function(){var t=e.apply(this,arguments);if(typeof t=="string"){return new l(t)}return t}}function f(r,n){r=r!==t&&r!==null?r:"";if(n&&typeof r==="string"){r=e.escape(r)}return r}function d(e,t,r){e=e||{};if(typeof e[t]==="function"){return function(){return e[t].apply(e,arguments)}}return f(e[t])}function h(e,t,r){if(!e){throw new Error("Unable to call `"+t+"`, which is undefined or falsey")}else if(typeof e!=="function"){throw new Error("Unable to call `"+t+"`, which is not a function")}return e.apply(this,r)}function m(e,r,n){var a=e.lookup(n);return a!==t&&a!==null?a:r.lookup(n)}function g(t,r,n){if(t.lineno){throw t}else{throw new e.TemplateError(t,r,n)}}r["runtime"]={Frame:a,makeMacro:o,makeKeywordArgs:i,numArgs:u,suppressValue:f,memberLookup:d,contextOrFrameLookup:m,callWrap:h,handleError:g,isArray:e.isArray,SafeString:l,copySafeness:c}})();(function(){var e=r["lib"];var n=r["runtime"];var a={abs:function(e){return Math.abs(e)},batch:function(e,t,r){var n=[];var a=[];for(var o=0;o<e.length;o++){if(o%t===0&&a.length){n.push(a);a=[]}a.push(e[o])}if(a.length){if(r){for(var o=a.length;o<t;o++){a.push(r)}}n.push(a)}return n},capitalize:function(e){var t=e.toLowerCase();return n.copySafeness(e,t[0].toUpperCase()+t.slice(1))},center:function(t,r){r=r||80;if(t.length>=r){return t}var a=r-t.length;var o=e.repeat(" ",a/2-a%2);var i=e.repeat(" ",a/2);return n.copySafeness(t,o+t+i)},"default":function(e,t){return e?e:t},dictsort:function(r,n,a){if(!e.isObject(r)){throw new e.TemplateError("dictsort filter: val must be an object")}var o=[];for(var i in r){o.push([i,r[i]])}var s;if(a===t||a==="key"){s=0}else if(a==="value"){s=1}else{throw new e.TemplateError("dictsort filter: You can only sort by either key or value")}o.sort(function(t,r){var a=t[s];var o=r[s];if(!n){if(e.isString(a)){a=a.toUpperCase()}if(e.isString(o)){o=o.toUpperCase()}}return a>o?1:a==o?0:-1});return o},escape:function(t){if(typeof t=="string"||t instanceof n.SafeString){return e.escape(t)}return t},safe:function(e){return new n.SafeString(e)},first:function(e){return e[0]},groupby:function(t,r){return e.groupBy(t,r)},indent:function(t,r,a){r=r||4;var o="";var i=t.split("\n");var s=e.repeat(" ",r);for(var u=0;u<i.length;u++){if(u==0&&!a){o+=i[u]+"\n"}else{o+=s+i[u]+"\n"}}return n.copySafeness(t,o)},join:function(t,r,n){r=r||"";if(n){t=e.map(t,function(e){return e[n]})}return t.join(r)},last:function(e){return e[e.length-1]
},length:function(e){return e.length},list:function(t){if(e.isString(t)){return t.split("")}else if(e.isObject(t)){var r=[];if(Object.keys){r=Object.keys(t)}else{for(var n in t){r.push(n)}}return e.map(r,function(e){return{key:e,value:t[e]}})}else{throw new e.TemplateError("list filter: type not iterable")}},lower:function(e){return e.toLowerCase()},random:function(e){var t=Math.floor(Math.random()*e.length);if(t==e.length){t--}return e[t]},replace:function(e,t,r,a){var o=e;var i=o;var s=1;o=o.replace(t,r);while(i!=o){if(s>=a){break}i=o;o=o.replace(t,r);s++}return n.copySafeness(e,o)},reverse:function(t){var r;if(e.isString(t)){r=a.list(t)}else{r=e.map(t,function(e){return e})}r.reverse();if(e.isString(t)){return n.copySafeness(t,r.join(""))}return r},round:function(e,t,r){t=t||0;var n=Math.pow(10,t);var a;if(r=="ceil"){a=Math.ceil}else if(r=="floor"){a=Math.floor}else{a=Math.round}return a(e*n)/n},slice:function(e,t,r){var n=Math.floor(e.length/t);var a=e.length%t;var o=0;var i=[];for(var s=0;s<t;s++){var u=o+s*n;if(s<a){o++}var l=o+(s+1)*n;var c=e.slice(u,l);if(r&&s>=a){c.push(r)}i.push(c)}return i},sort:function(t,r,n,a){t=e.map(t,function(e){return e});t.sort(function(t,o){var i,s;if(a){i=t[a];s=o[a]}else{i=t;s=o}if(!n&&e.isString(i)&&e.isString(s)){i=i.toLowerCase();s=s.toLowerCase()}if(i<s){return r?1:-1}else if(i>s){return r?-1:1}else{return 0}});return t},string:function(e){return n.copySafeness(e,e)},title:function(e){var t=e.split(" ");for(var r=0;r<t.length;r++){t[r]=a.capitalize(t[r])}return n.copySafeness(e,t.join(" "))},trim:function(e){return n.copySafeness(e,e.replace(/^\s*|\s*$/g,""))},truncate:function(e,r,a,o){var i=e;r=r||255;if(e.length<=r)return e;if(a){e=e.substring(0,r)}else{e=e.substring(0,e.lastIndexOf(" ",r))}e+=o!==t&&o!==null?o:"...";return n.copySafeness(i,e)},upper:function(e){return e.toUpperCase()},wordcount:function(e){return e.match(/\w+/g).length},"float":function(e,t){var r=parseFloat(e);return isNaN(r)?t:r},"int":function(e,t){var r=parseInt(e,10);return isNaN(r)?t:r}};a.d=a["default"];a.e=a.escape;r["filters"]=a})();(function(){var e=r["lib"];var t=r["object"];var n=r["lexer"];var a=r["compiler"];var o=r["filters"];var i=r["loaders"];var s=r["runtime"];var u=s.Frame;var l=t.extend({init:function(t,r){r=r||{};this.dev=!!r.dev;this.autoesc=!!r.autoescape;if(!t){if(i.FileSystemLoader){this.loaders=[new i.FileSystemLoader]}else{this.loaders=[new i.HttpLoader("/views")]}}else{this.loaders=e.isArray(t)?t:[t]}if(r.tags){n.setTags(r.tags)}this.filters=o;this.cache={};this.extensions={};this.extensionsList=[]},addExtension:function(e,t){t._name=e;this.extensions[e]=t;this.extensionsList.push(t)},getExtension:function(e){return this.extensions[e]},addFilter:function(e,t){this.filters[e]=t},getFilter:function(e){if(!this.filters[e]){throw new Error("filter not found: "+e)}return this.filters[e]},getTemplate:function(e,t){if(e&&e.raw){e=e.raw}var r=null;var n=this.cache[e];var a;if(typeof e!=="string"){throw new Error("template names must be a string: "+e)}if(!n||!n.isUpToDate()){for(var o=0;o<this.loaders.length;o++){if(r=this.loaders[o].getSource(e)){break}}if(!r){throw new Error("template not found: "+e)}this.cache[e]=new p(r.src,this,r.path,r.upToDate,t)}return this.cache[e]},registerPrecompiled:function(e){for(var t in e){this.cache[t]=new p({type:"code",obj:e[t]},this,t,function(){return true},true)}},express:function(t){var n=this;if(t.render){t.render=function(t,r,a){var o={};if(e.isFunction(r)){a=r;r={}}o=e.extend(o,this.locals);if(r._locals){o=e.extend(o,r._locals)}o=e.extend(o,r);var i=n.render(t,o);a(null,i)}}else{var a=r["http"];var o=a.ServerResponse.prototype;o._render=function(t,r,a){var o=this.app;var i={};if(this._locals){i=e.extend(i,this._locals)}if(r){i=e.extend(i,r);if(r.locals){i=e.extend(i,r.locals)}}i=e.extend(i,o._locals);var s=n.render(t,i);if(a){a(null,s)}else{this.send(s)}}}},render:function(e,t){return this.getTemplate(e).render(t)}});var c=t.extend({init:function(e,t){this.ctx=e;this.blocks={};this.exported=[];for(var r in t){this.addBlock(r,t[r])}},lookup:function(e){return this.ctx[e]},setVariable:function(e,t){this.ctx[e]=t},getVariables:function(){return this.ctx},addBlock:function(e,t){this.blocks[e]=this.blocks[e]||[];this.blocks[e].push(t)},getBlock:function(e){if(!this.blocks[e]){throw new Error('unknown block "'+e+'"')}return this.blocks[e][0]},getSuper:function(e,t,r,n,a){var o=(this.blocks[t]||[]).indexOf(r);var i=this.blocks[t][o+1];var s=this;return function(){if(o==-1||!i){throw new Error('no super block available for "'+t+'"')}return i(e,s,n,a)}},addExport:function(e){this.exported.push(e)},getExported:function(){var e={};for(var t=0;t<this.exported.length;t++){var r=this.exported[t];e[r]=this.ctx[r]}return e}});var p=t.extend({init:function(t,r,n,a,o){this.env=r||new l;if(e.isObject(t)){switch(t.type){case"code":this.tmplProps=t.obj;break;case"string":this.tmplStr=t.obj;break}}else if(e.isString(t)){this.tmplStr=t}else{throw new Error("src must be a string or an object describing "+"the source")}this.path=n;this.upToDate=a||function(){return false};if(o){var i=this;e.withPrettyErrors(this.path,this.env.dev,function(){i._compile()})}else{this.compiled=false}},render:function(t,r){var n=this;var a=function(){if(!n.compiled){n._compile()}var e=new c(t||{},n.blocks);return n.rootRenderFunc(n.env,e,r||new u,s)};return e.withPrettyErrors(this.path,this.env.dev,a)},isUpToDate:function(){return this.upToDate()},getExported:function(){if(!this.compiled){this._compile()}var e=new c({},this.blocks);this.rootRenderFunc(this.env,e,new u,s);return e.getExported()},_compile:function(){var e;if(this.tmplProps){e=this.tmplProps}else{var t=a.compile(this.tmplStr,this.env.extensionsList,this.path);var r=new Function(t);e=r()}this.blocks=this._getBlocks(e);this.rootRenderFunc=e.root;this.compiled=true},_getBlocks:function(e){var t={};for(var r in e){if(r.slice(0,2)=="b_"){t[r.slice(2)]=e[r]}}return t}});r["environment"]={Environment:l,Template:p}})();var n;var o=r["environment"];var i=r["compiler"];var s=r["parser"];var u=r["lexer"];var l=r["loaders"];n={};n.Environment=o.Environment;n.Template=o.Template;if(l){if(l.FileSystemLoader){n.FileSystemLoader=l.FileSystemLoader}else{n.HttpLoader=l.HttpLoader}}n.compiler=i;n.parser=s;n.lexer=u;n.require=function(e){return r[e]};if(typeof a==="function"&&a.amd){a("nunjucks",function(){return n})}else{e.nunjucks=n}})();(function(){var e=this;var t=e._;var r={};var n=Array.prototype,o=Object.prototype,i=Function.prototype;var s=n.push,u=n.slice,l=n.concat,c=o.toString,p=o.hasOwnProperty;var f=n.forEach,d=n.map,h=n.reduce,m=n.reduceRight,g=n.filter,v=n.every,y=n.some,b=n.indexOf,k=n.lastIndexOf,x=Array.isArray,w=Object.keys,_=i.bind;var L=function(e){if(e instanceof L)return e;if(!(this instanceof L))return new L(e);this._wrapped=e};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=L}exports._=L}else{e._=L}L.VERSION="1.4.4";var O=L.each=L.forEach=function(e,t,n){if(e==null)return;if(f&&e.forEach===f){e.forEach(t,n)}else if(e.length===+e.length){for(var a=0,o=e.length;a<o;a++){if(t.call(n,e[a],a,e)===r)return}}else{for(var i in e){if(L.has(e,i)){if(t.call(n,e[i],i,e)===r)return}}}};L.map=L.collect=function(e,t,r){var n=[];if(e==null)return n;if(d&&e.map===d)return e.map(t,r);O(e,function(e,a,o){n[n.length]=t.call(r,e,a,o)});return n};var T="Reduce of empty array with no initial value";L.reduce=L.foldl=L.inject=function(e,t,r,n){var a=arguments.length>2;if(e==null)e=[];if(h&&e.reduce===h){if(n)t=L.bind(t,n);return a?e.reduce(t,r):e.reduce(t)}O(e,function(e,o,i){if(!a){r=e;a=true}else{r=t.call(n,r,e,o,i)}});if(!a)throw new TypeError(T);return r};L.reduceRight=L.foldr=function(e,t,r,n){var a=arguments.length>2;if(e==null)e=[];if(m&&e.reduceRight===m){if(n)t=L.bind(t,n);return a?e.reduceRight(t,r):e.reduceRight(t)}var o=e.length;if(o!==+o){var i=L.keys(e);o=i.length}O(e,function(s,u,l){u=i?i[--o]:--o;if(!a){r=e[u];a=true}else{r=t.call(n,r,e[u],u,l)}});if(!a)throw new TypeError(T);return r};L.find=L.detect=function(e,t,r){var n;F(e,function(e,a,o){if(t.call(r,e,a,o)){n=e;return true}});return n};L.filter=L.select=function(e,t,r){var n=[];if(e==null)return n;if(g&&e.filter===g)return e.filter(t,r);O(e,function(e,a,o){if(t.call(r,e,a,o))n[n.length]=e});return n};L.reject=function(e,t,r){return L.filter(e,function(e,n,a){return!t.call(r,e,n,a)},r)};L.every=L.all=function(e,t,n){t||(t=L.identity);var a=true;if(e==null)return a;if(v&&e.every===v)return e.every(t,n);O(e,function(e,o,i){if(!(a=a&&t.call(n,e,o,i)))return r});return!!a};var F=L.some=L.any=function(e,t,n){t||(t=L.identity);var a=false;if(e==null)return a;if(y&&e.some===y)return e.some(t,n);O(e,function(e,o,i){if(a||(a=t.call(n,e,o,i)))return r});return!!a};L.contains=L.include=function(e,t){if(e==null)return false;if(b&&e.indexOf===b)return e.indexOf(t)!=-1;return F(e,function(e){return e===t})};L.invoke=function(e,t){var r=u.call(arguments,2);var n=L.isFunction(t);return L.map(e,function(e){return(n?t:e[t]).apply(e,r)})};L.pluck=function(e,t){return L.map(e,function(e){return e[t]})};L.where=function(e,t,r){if(L.isEmpty(t))return r?null:[];return L[r?"find":"filter"](e,function(e){for(var r in t){if(t[r]!==e[r])return false}return true})};L.findWhere=function(e,t){return L.where(e,t,true)};L.max=function(e,t,r){if(!t&&L.isArray(e)&&e[0]===+e[0]&&e.length<65535){return Math.max.apply(Math,e)}if(!t&&L.isEmpty(e))return-Infinity;var n={computed:-Infinity,value:-Infinity};O(e,function(e,a,o){var i=t?t.call(r,e,a,o):e;i>=n.computed&&(n={value:e,computed:i})});return n.value};L.min=function(e,t,r){if(!t&&L.isArray(e)&&e[0]===+e[0]&&e.length<65535){return Math.min.apply(Math,e)}if(!t&&L.isEmpty(e))return Infinity;var n={computed:Infinity,value:Infinity};O(e,function(e,a,o){var i=t?t.call(r,e,a,o):e;i<n.computed&&(n={value:e,computed:i})});return n.value};L.shuffle=function(e){var t;var r=0;var n=[];O(e,function(e){t=L.random(r++);n[r-1]=n[t];n[t]=e});return n};var E=function(e){return L.isFunction(e)?e:function(t){return t[e]}};L.sortBy=function(e,t,r){var n=E(t);return L.pluck(L.map(e,function(e,t,a){return{value:e,index:t,criteria:n.call(r,e,t,a)}}).sort(function(e,t){var r=e.criteria;var n=t.criteria;if(r!==n){if(r>n||r===void 0)return 1;if(r<n||n===void 0)return-1}return e.index<t.index?-1:1}),"value")};var A=function(e,t,r,n){var a={};var o=E(t||L.identity);O(e,function(t,i){var s=o.call(r,t,i,e);n(a,s,t)});return a};L.groupBy=function(e,t,r){return A(e,t,r,function(e,t,r){(L.has(e,t)?e[t]:e[t]=[]).push(r)})};L.countBy=function(e,t,r){return A(e,t,r,function(e,t){if(!L.has(e,t))e[t]=0;e[t]++})};L.sortedIndex=function(e,t,r,n){r=r==null?L.identity:E(r);var a=r.call(n,t);var o=0,i=e.length;while(o<i){var s=o+i>>>1;r.call(n,e[s])<a?o=s+1:i=s}return o};L.toArray=function(e){if(!e)return[];if(L.isArray(e))return u.call(e);if(e.length===+e.length)return L.map(e,L.identity);return L.values(e)};L.size=function(e){if(e==null)return 0;return e.length===+e.length?e.length:L.keys(e).length};L.first=L.head=L.take=function(e,t,r){if(e==null)return void 0;return t!=null&&!r?u.call(e,0,t):e[0]};L.initial=function(e,t,r){return u.call(e,0,e.length-(t==null||r?1:t))};L.last=function(e,t,r){if(e==null)return void 0;if(t!=null&&!r){return u.call(e,Math.max(e.length-t,0))}else{return e[e.length-1]}};L.rest=L.tail=L.drop=function(e,t,r){return u.call(e,t==null||r?1:t)};L.compact=function(e){return L.filter(e,L.identity)};var S=function(e,t,r){O(e,function(e){if(L.isArray(e)){t?s.apply(r,e):S(e,t,r)}else{r.push(e)}});return r};L.flatten=function(e,t){return S(e,t,[])};L.without=function(e){return L.difference(e,u.call(arguments,1))};L.uniq=L.unique=function(e,t,r,n){if(L.isFunction(t)){n=r;r=t;t=false}var a=r?L.map(e,r,n):e;var o=[];var i=[];O(a,function(r,n){if(t?!n||i[i.length-1]!==r:!L.contains(i,r)){i.push(r);o.push(e[n])}});return o};L.union=function(){return L.uniq(l.apply(n,arguments))};L.intersection=function(e){var t=u.call(arguments,1);return L.filter(L.uniq(e),function(e){return L.every(t,function(t){return L.indexOf(t,e)>=0})})};L.difference=function(e){var t=l.apply(n,u.call(arguments,1));return L.filter(e,function(e){return!L.contains(t,e)})};L.zip=function(){var e=u.call(arguments);var t=L.max(L.pluck(e,"length"));var r=new Array(t);for(var n=0;n<t;n++){r[n]=L.pluck(e,""+n)}return r};L.object=function(e,t){if(e==null)return{};var r={};for(var n=0,a=e.length;n<a;n++){if(t){r[e[n]]=t[n]}else{r[e[n][0]]=e[n][1]}}return r};L.indexOf=function(e,t,r){if(e==null)return-1;var n=0,a=e.length;if(r){if(typeof r=="number"){n=r<0?Math.max(0,a+r):r}else{n=L.sortedIndex(e,t);return e[n]===t?n:-1}}if(b&&e.indexOf===b)return e.indexOf(t,r);for(;n<a;n++)if(e[n]===t)return n;return-1};L.lastIndexOf=function(e,t,r){if(e==null)return-1;var n=r!=null;if(k&&e.lastIndexOf===k){return n?e.lastIndexOf(t,r):e.lastIndexOf(t)}var a=n?r:e.length;while(a--)if(e[a]===t)return a;return-1};L.range=function(e,t,r){if(arguments.length<=1){t=e||0;e=0}r=arguments[2]||1;var n=Math.max(Math.ceil((t-e)/r),0);var a=0;var o=new Array(n);while(a<n){o[a++]=e;e+=r}return o};L.bind=function(e,t){if(e.bind===_&&_)return _.apply(e,u.call(arguments,1));var r=u.call(arguments,2);return function(){return e.apply(t,r.concat(u.call(arguments)))}};L.partial=function(e){var t=u.call(arguments,1);return function(){return e.apply(this,t.concat(u.call(arguments)))}};L.bindAll=function(e){var t=u.call(arguments,1);if(t.length===0)t=L.functions(e);O(t,function(t){e[t]=L.bind(e[t],e)});return e};L.memoize=function(e,t){var r={};t||(t=L.identity);return function(){var n=t.apply(this,arguments);return L.has(r,n)?r[n]:r[n]=e.apply(this,arguments)}};L.delay=function(e,t){var r=u.call(arguments,2);return setTimeout(function(){return e.apply(null,r)},t)};L.defer=function(e){return L.delay.apply(L,[e,1].concat(u.call(arguments,1)))};L.throttle=function(e,t){var r,n,a,o;var i=0;var s=function(){i=new Date;a=null;o=e.apply(r,n)};return function(){var u=new Date;var l=t-(u-i);r=this;n=arguments;if(l<=0){clearTimeout(a);a=null;i=u;o=e.apply(r,n)}else if(!a){a=setTimeout(s,l)}return o}};L.debounce=function(e,t,r){var n,a;return function(){var o=this,i=arguments;var s=function(){n=null;if(!r)a=e.apply(o,i)};var u=r&&!n;clearTimeout(n);n=setTimeout(s,t);if(u)a=e.apply(o,i);return a}};L.once=function(e){var t=false,r;return function(){if(t)return r;t=true;r=e.apply(this,arguments);e=null;return r}};L.wrap=function(e,t){return function(){var r=[e];s.apply(r,arguments);return t.apply(this,r)}};L.compose=function(){var e=arguments;return function(){var t=arguments;for(var r=e.length-1;r>=0;r--){t=[e[r].apply(this,t)]}return t[0]}};L.after=function(e,t){if(e<=0)return t();return function(){if(--e<1){return t.apply(this,arguments)}}};L.keys=w||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var r in e)if(L.has(e,r))t[t.length]=r;return t};L.values=function(e){var t=[];for(var r in e)if(L.has(e,r))t.push(e[r]);return t};L.pairs=function(e){var t=[];for(var r in e)if(L.has(e,r))t.push([r,e[r]]);return t};L.invert=function(e){var t={};for(var r in e)if(L.has(e,r))t[e[r]]=r;return t};L.functions=L.methods=function(e){var t=[];for(var r in e){if(L.isFunction(e[r]))t.push(r)}return t.sort()};L.extend=function(e){O(u.call(arguments,1),function(t){if(t){for(var r in t){e[r]=t[r]}}});return e};L.pick=function(e){var t={};var r=l.apply(n,u.call(arguments,1));O(r,function(r){if(r in e)t[r]=e[r]});return t};L.omit=function(e){var t={};var r=l.apply(n,u.call(arguments,1));for(var a in e){if(!L.contains(r,a))t[a]=e[a]}return t};L.defaults=function(e){O(u.call(arguments,1),function(t){if(t){for(var r in t){if(e[r]==null)e[r]=t[r]}}});return e};L.clone=function(e){if(!L.isObject(e))return e;return L.isArray(e)?e.slice():L.extend({},e)};L.tap=function(e,t){t(e);return e};var C=function(e,t,r,n){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;if(e instanceof L)e=e._wrapped;if(t instanceof L)t=t._wrapped;var a=c.call(e);if(a!=c.call(t))return false;switch(a){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return false;var o=r.length;while(o--){if(r[o]==e)return n[o]==t}r.push(e);n.push(t);var i=0,s=true;if(a=="[object Array]"){i=e.length;s=i==t.length;if(s){while(i--){if(!(s=C(e[i],t[i],r,n)))break}}}else{var u=e.constructor,l=t.constructor;if(u!==l&&!(L.isFunction(u)&&u instanceof u&&L.isFunction(l)&&l instanceof l)){return false}for(var p in e){if(L.has(e,p)){i++;if(!(s=L.has(t,p)&&C(e[p],t[p],r,n)))break}}if(s){for(p in t){if(L.has(t,p)&&!i--)break}s=!i}}r.pop();n.pop();return s};L.isEqual=function(e,t){return C(e,t,[],[])};L.isEmpty=function(e){if(e==null)return true;if(L.isArray(e)||L.isString(e))return e.length===0;for(var t in e)if(L.has(e,t))return false;return true};L.isElement=function(e){return!!(e&&e.nodeType===1)};L.isArray=x||function(e){return c.call(e)=="[object Array]"};L.isObject=function(e){return e===Object(e)};O(["Arguments","Function","String","Number","Date","RegExp"],function(e){L["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}});if(!L.isArguments(arguments)){L.isArguments=function(e){return!!(e&&L.has(e,"callee"))}}if(typeof/./!=="function"){L.isFunction=function(e){return typeof e==="function"}}L.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))};L.isNaN=function(e){return L.isNumber(e)&&e!=+e};L.isBoolean=function(e){return e===true||e===false||c.call(e)=="[object Boolean]"};L.isNull=function(e){return e===null};L.isUndefined=function(e){return e===void 0};L.has=function(e,t){return p.call(e,t)};L.noConflict=function(){e._=t;return this};L.identity=function(e){return e};L.times=function(e,t,r){var n=Array(e);for(var a=0;a<e;a++)n[a]=t.call(r,a);return n};L.random=function(e,t){if(t==null){t=e;e=0}return e+Math.floor(Math.random()*(t-e+1))};var N={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};N.unescape=L.invert(N.escape);var M={escape:new RegExp("["+L.keys(N.escape).join("")+"]","g"),unescape:new RegExp("("+L.keys(N.unescape).join("|")+")","g")};L.each(["escape","unescape"],function(e){L[e]=function(t){if(t==null)return"";return(""+t).replace(M[e],function(t){return N[e][t]})}});L.result=function(e,t){if(e==null)return null;var r=e[t];return L.isFunction(r)?r.call(e):r};L.mixin=function(e){O(L.functions(e),function(t){var r=L[t]=e[t];L.prototype[t]=function(){var e=[this._wrapped];s.apply(e,arguments);return P.call(this,r.apply(L,e))}})};var V=0;L.uniqueId=function(e){var t=++V+"";return e?e+t:t};L.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var W=/(.)^/;var I={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"};var R=/\\|'|\r|\n|\t|\u2028|\u2029/g;L.template=function(e,t,r){var n;r=L.defaults({},r,L.templateSettings);var a=new RegExp([(r.escape||W).source,(r.interpolate||W).source,(r.evaluate||W).source].join("|")+"|$","g");var o=0;var i="__p+='";e.replace(a,function(t,r,n,a,s){i+=e.slice(o,s).replace(R,function(e){return"\\"+I[e]});if(r){i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"}if(n){i+="'+\n((__t=("+n+"))==null?'':__t)+\n'"}if(a){i+="';\n"+a+"\n__p+='"}o=s+t.length;return t});i+="';\n";if(!r.variable)i="with(obj||{}){\n"+i+"}\n";i="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{n=new Function(r.variable||"obj","_",i)}catch(s){s.source=i;throw s}if(t)return n(t,L);var u=function(e){return n.call(this,e,L)};u.source="function("+(r.variable||"obj")+"){\n"+i+"}";return u};L.chain=function(e){return L(e).chain()};var P=function(e){return this._chain?L(e).chain():e};L.mixin(L);O(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];L.prototype[e]=function(){var r=this._wrapped;t.apply(r,arguments);if((e=="shift"||e=="splice")&&r.length===0)delete r[0];return P.call(this,r)}});O(["concat","join","slice"],function(e){var t=n[e];L.prototype[e]=function(){return P.call(this,t.apply(this._wrapped,arguments))}});L.extend(L.prototype,{chain:function(){this._chain=true;return this},value:function(){return this._wrapped}});a("underscore",[],function(){return L})}).call(this);var u={},l={extend:function(e,t){for(var r in t){e[r]=t[r]}}};var c;(function(){var t=e.top;if(t.opener){t=t.opener}$(".purchase").click(function(e){$(this).addClass("purchasing").html($(this).data("purchasing-label"))});$("#setup-preauth").click(function(t){t.preventDefault();if(c){c.close()}c=e.open($(this).attr("href"));e.addEventListener("message",function(t){var r=t.data;if(r=="complete"||r=="cancel"){c.close();e.location.reload()}},false)});$(".close").click(function(){if($("body").hasClass("success")){t.postMessage("moz-pay-success","*")}else{t.postMessage("moz-pay-cancel","*")}})})();a("payments/payments",["capabilities","notification","requests"],function(t,r,n){var a,o,i=$("body").data("simulate-nav-pay");var s;var u=false;function l(t,r,a,o){if(u){return}var i=arguments;var c=e.setTimeout(function(){l.apply(this,i)},2e3);if(!s){s=e.setTimeout(function(){u=true;t.reject(null,r,"MKT_INSTALL_ERROR")},6e4)}n.get(o).done(function(n){if(n.status=="complete"){e.clearTimeout(c);e.clearTimeout(s);t.resolve(r)}}).fail(function(){t.reject(null,r,"MKT_SERVER_ERROR")})}if(i&&!t.navPay){navigator.mozPay=function(t){var r={onsuccess:function(){console.warning("handler did not define request.onsuccess")},onerror:function(){console.warning("handler did not define request.onerror")}};console.log("STUB navigator.mozPay received",t);console.log("calling onsuccess() in 3 seconds...");e.setTimeout(function(){console.log("calling onsuccess()");r.onsuccess()},3e3);return r};console.log("stubbed out navigator.mozPay()")}function c(e,t,n,a){var o=navigator.mozPay([n]);o.onsuccess=function(){console.log("navigator.mozPay success");l(e,t,n,a)};o.onerror=function(){if(this.error.name!=="cancelled"){console.log("navigator.mozPay error:",this.error.name);r({classes:"error",message:gettext("Payment failed. Try again later."),timeout:5e3})}e.reject(null,t,"MKT_CANCELLED")}}function p(e){if(!e)return;if(o&&o.state()=="pending"){o.reject(null,a,"collision");return}o=$.Deferred();a=e;if(t.navPay||i){n.post(a.prepareNavPay,{}).done(function(e){c(o,a,e.webpayJWT,e.contribStatusURL)}).fail(function(){o.reject(null,a,"MKT_SERVER_ERROR")})}else{o.reject(null,a,"MKT_CANCELLED")}return o.promise()}return{purchase:p}});a("views/abuse",["l10n","notification","requests","urls","z"],function(e,t,r,n,a){"use strict";var o=e.gettext;var i=t.notification;a.page.on("submit",".abuse-form",function(e){e.preventDefault();var t=$(this);r.post(t.data("action"),t.serialize()).done(function(e){console.log("submitted abuse report");i({message:o("Abuse reported")});t.find("textarea").val("")}).fail(function(){i({message:o("Error while submitting report")})})});return function(e,t){e.start("detail/abuse.html",{slug:t[0]});e.z("type","leaf");e.z("title",o("Report Abuse"))}});a("views/app",["l10n","utils","requests","urls","z","templates","overflow"],function(t,r,n,a,o,i,s){"use strict";o.page.on("click","#product-rating-status .toggle",r._pd(function(){$(this).closest(".toggle").siblings("div").toggleClass("hidden")})).on("click",".show-toggle",r._pd(function(){var e=$(this),t=e.attr("data-toggle-text");e.attr("data-toggle-text",e.text());e.text(t);e.closest(".blurbs").find(".collapsed").toggle()})).on("click",".approval-pitch",r._pd(function(){$("#preapproval-shortcut").submit()})).on("click",".product-details .icon",r._pd(function(t){e.location.hash="id="+$(".product").data("product")["id"];t.stopPropagation()}));return function(e,t){e.start("detail/main.html",{slug:t[0]});e.z("type","leaf");e.z("reload_on_login",true);e.z("title",gettext("Loading..."));e.z("pagetitle",gettext("App Details"));e.onload("app-data",function(){e.z("title",e.results["app-data"].name);s.init()}).onload("ratings",function(){var e=$(".detail .reviews li");if(e.length<3)return;for(var t=0;t<e.length-2;t+=2){var r=Math.max(e.eq(t).find(".review-inner").height(),e.eq(t+1).find(".review-inner").height());e.eq(t).find(".review-inner").height(r);e.eq(t+1).find(".review-inner").height(r)}})}});a("views/category",["capabilities","models","underscore","urls","utils","z"],function(e,t,r,n,a,o){"use strict";var i=t("category");return function(e,t,r){var a=t[0];r=r||{};var o=i.lookup(a);e.z("type","root");e.z("title",o&&o.name||a);e.z("show_cats",true);e.z("cat",a);e.start("category/main.html",{category:a,category_name:a,endpoint:n.api.url("category",[a],r),sort:r.sort}).done(setTrays)}});a("views/debug",["buckets","cache","capabilities","notification","utils","z"],function(e,t,r,n,a,o){"use strict";var i=localStorage.getItem("debug-enabled");var s=$(document.getElementById("debug-status"));o.doc.on("click","#toggle-debug",function(){i=localStorage.getItem("debug-enabled");if(i==="yes"){n.notification({message:"debug mode disabled",timeout:1e3});localStorage.setItem("debug-enabled","no");s.text("no")}else{n.notification({message:"debug mode enabled",timeout:1e3});localStorage.setItem("debug-enabled","yes");s.text("yes")}}).on("click",".cache-menu a",function(e){e.preventDefault();var r=t.get($(this).data("url"));r=JSON.stringify(r,null,"  ");$("#cache-inspector").html(a.escape_(r))});return function u(n,a){n.start("debug.html",{cache:t.raw,capabilities:r,dbg:i||"no",profile:e.get_profile()});n.z("type","leaf")}});a("views/featured",["urls","z"],function(e,r){return function(r,n,a,o){var i=n[0]||"";o=o||{};if(i==="all"||i===t){i=""}r.z("type","search");r.z("search",o.name||i);r.z("title",o.name||i);r.start("featured.html",{category:i,endpoint:e.api.url("category",[i])}).done(setTrays)}});a("views/homepage",["l10n","underscore","urls"],function(e,t,r){"use strict";var n=e.gettext;return function(e,t,a){a=a||{};e.z("title","");e.z("type","root");e.z("search",a.name);e.z("title",a.name);e.z("cat","all");e.z("show_cats",true);e.start("category/main.html",{endpoint:r.api.url("category",[""],a),category_name:n("All Categories"),sort:a.sort}).done(setTrays)}});a("views/not_found",["l10n"],function(e){var t=e.gettext;return function(e){e.start("not_found.html");e.z("type","leaf");e.z("title",t("Not Found"))}});a("views/privacy",["l10n"],function(e){"use strict";var t=e.gettext;return function(e){e.start("privacy.html");e.z("type","leaf");e.z("title",t("Privacy Policy"))}});a("views/purchases",["l10n","urls","z"],function(e,t,r){"use strict";var n=e.gettext;return function(e,t){e.start("user/purchases.html");e.z("type","root");e.z("reload_on_login",true);e.z("title",n("My Apps"))}});a("views/search",["capabilities","l10n","underscore","utils","z"],function(r,n,a,o,i){var s=o._pd;var u=n.gettext;var l=n.ngettext;$("#site-header").on("click",".header-button.cancel",s(function(){$("#site-search-suggestions").trigger("dismiss");$("#search-q").val("")})).on("click",".header-button, .search-clear",s(function(e){var t=$(this),r=$(".header-button");if(t.hasClass("search-clear")){$("#search-q").val("").focus()}}));var c=r.widescreen;if("expand-listings"in localStorage){c=localStorage["expand-listings"]==="true"}function p(e){if(e!==t){c=e}$("ol.listing").toggleClass("expanded",e);$(".expand-toggle").toggleClass("active",c);localStorage.setItem("expand-listings",e);if(e){i.page.trigger("populatetray")}}e.setTrays=p;i.body.on("click",".expand-toggle",s(function(){p(c=!c)}));i.page.on("loaded",function(){var e=$("#search-q");e.attr("placeholder",i.context.search||e.data("placeholder-default"));e.val(i.context.search);if(i.context.search){e.attr("data-context","")}else{e.removeAttr("data-context")}p(c)}).on("reloaded_chrome",function(){p(c)}).on("loaded_more",function(){i.page.trigger("populatetray")});return function(e,t,r){if("sort"in r&&r.sort=="relevancy"){delete r.sort}e.z("type","search");e.z("search",r.q);e.z("title",r.q||u("Search Results"));e.start("search/main.html",{params:a.extend({},r)}).done(p)}});a("views/settings",["l10n","notification","requests","urls","user","utils","z"],function(e,t,r,n,a,o,i){var s=o._pd;var u=e.gettext;var l=t.notification;function c(){var e=$(".account-settings");if(!e.length){return}e.find("[name=display_name]").val(a.get_setting("display_name"));e.find("[name=email]").val(a.get_setting("email"));e.find("[name=region]").val(a.get_setting("region"))}i.page.on("submit","form.account-settings",s(function(e){e.stopPropagation();var t=$.Deferred();t.done(function(){c();l({message:u("Settings saved")})}).fail(function(){l({message:u("Settings could not be saved")})});if(!a.logged_in()){a.update_settings({region:$("[name=region]").val()});t.resolve();return}var i=o.getVars($(this).serialize());a.update_settings(i);r.patch(n.api.url("settings"),i).done(t.resolve).fail(t.reject)})).on("logged_in",c);return function(e){e.start("settings/main.html");e.z("type","root settings");e.z("title",u("Account Settings"));e.done()}});a("views/terms",["l10n"],function(e){"use strict";var t=e.gettext;return function(e){e.start("terms.html");e.z("type","leaf");e.z("title",t("Terms of Use"))}});a("views/tests",["assert"],function(){return function(t){var r=0;var n=0;var a=0;function o(){var e=n+a;var t=$("progress");t.attr("value",e/r);if(e===r){console.log("Tests completed.");$("<b>Completed "+e+" tests.</b>").insertAfter(t)}}e.test=function(e,t){r++;o();setTimeout(function(){var r=$("<li><b>"+e+"</b> <span>Running...</span></li>");$("ol.tests").append(r);var i=function(){n++;$("#c_passed").text(n);r.find("span").text("Passed").css("background-color","lime");o()};var s=function(t){console.error(e,t);a++;r.find("span").html("Failed<br>"+t).css("background-color","pink");$("#c_failed").text(a)};try{console.log("Starting "+e);r.find("span").text("Started").css("background-color","goldenrod");t(i,s)}catch(u){s(u.message)}},0);$("#c_started").text(r)};t.start("tests.html");t.z("type","leaf");t.z("title","Unit Tests")}});a("views/app/abuse",["l10n"],function(e){var t=e.gettext;return function(e,r){e.start("detail/abuse.html",{slug:r[0]});e.z("type","leaf");e.z("title",t("Report Abuse"))}});a("views/app/privacy",["l10n"],function(e){var t=e.gettext;return function(e,r){e.start("detail/privacy.html",{slug:r[0]});e.z("type","leaf");e.z("title",t("Privacy Policy"))}});a("views/app/ratings",["l10n"],function(e){var t=e.gettext;return function(e,r){var n=r[0];e.start("ratings/main.html",{slug:n});e.z("type","leaf");e.z("reload_on_login",true);e.z("title",t("Reviews"))}});a("views/app/ratings/add",["login","l10n","user","z"],function(e,t,r,n){var a=t.gettext;return function(t,o){var i=o[0];if(!r.logged_in()){n.page.trigger("navigate",urls.reverse("app",[i]));setTimeout(function(){e.login().done(function(){$("#add-review").click()})},0);return}t.start("ratings/write.html",{slug:i});t.z("type","leaf");t.z("title",a("Write a Review"))}});a("views/app/ratings/edit",["l10n","notification","ratings","requests","settings","urls","user","utils","z"],function(e,t,r,n,a,i,s,u,l){var c=e.gettext;var p=t.notification;var f=o("forms");l.page.on("submit",".edit-review-form",function(e){e.preventDefault();var t=$(this);var o=t.data("uri");var s=t.data("slug");var d=u.getVars(t.serialize());f.toggleReviewFormState(t);n.put(a.api_url+i.api.sign(o),d).done(function(){p({message:c("Review updated successfully")});r._rewriter(s,function(e){for(var t=0;t<e.objects.length;t++){if(e.objects[t].resource_uri===o){e.objects[t].body=d.body;e.objects[t].rating=d.rating}}return e});l.page.trigger("navigate",i.reverse("app",[s]))}).fail(function(){f.toggleReviewFormState(t,true);p({message:c("There was a problem updating your review")})})});return function(e,t){var r=t[0];if(!s.logged_in()){l.page.trigger("navigate",i.reverse("app",[r]));
return}e.start("ratings/edit.html",{slug:r});e.onload("main",function(e){if(e.meta.total_count===0){l.page.trigger("divert",i.reverse("app/ratings/add",[r]))}});e.z("type","leaf");e.z("reload_on_login",true);e.z("title",c("Edit Review"))}});a("views/user/abuse",["l10n"],function(e){var t=e.gettext;return function(e,r){e.start("user/abuse.html",{id:r[0]});e.z("type","leaf");e.z("title",t("Report Abuse"))}});(function(){var e={};e["_macros/emaillink.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{i+="\n\n";var s=n.makeMacro(["email"],["title","class"],function(a,o){r=r.push();o=o||{};r.set("email",a);r.set("title",o.hasOwnProperty("title")?o["title"]:n.contextOrFrameLookup(t,r,"None"));r.set("class",o.hasOwnProperty("class")?o["class"]:n.contextOrFrameLookup(t,r,"None"));var i="";i+="\n  <a";if(n.contextOrFrameLookup(t,r,"class")){i+=' class="';i+=n.suppressValue(n.contextOrFrameLookup(t,r,"class"),e.autoesc);i+='"'}i+=' href="mailto:';i+=n.suppressValue(a,e.autoesc);i+='">';i+=n.suppressValue(n.contextOrFrameLookup(t,r,"title"),e.autoesc);i+="</a>\n";r=r.pop();return new n.SafeString(i)});t.addExport("emaillink");t.setVariable("emaillink",s);i+="\n";return i}catch(u){n.handleError(u,a,o)}}return{root:e}}();e["_macros/forms.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{var s=n.makeMacro(["url","type","id"],[],function(i,s,u,l){r=r.push();l=l||{};r.set("url",i);r.set("type",s);r.set("id",u);var c="";c+='\n  <form method="post" class="abuse-form" data-action="';c+=n.suppressValue(i,e.autoesc);c+='">\n    <p class="brform simple-field c">\n      <textarea rows="10" cols="40" name="text" required></textarea>\n    </p>\n    <p class="form-footer">\n      ';c+=n.suppressValue((a=6,o=21,n.callWrap(n.contextOrFrameLookup(t,r,"potato_captcha"),"potato_captcha",[])),e.autoesc);c+='\n      <input type="hidden" name="';c+=n.suppressValue(s,e.autoesc);c+='" value="';c+=n.suppressValue(u,e.autoesc);c+='">\n      <button type="submit">';c+=n.suppressValue((a=8,o=30,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Send Report"])),e.autoesc);c+="</button>\n    </p>\n  </form>\n";r=r.pop();return new n.SafeString(c)});t.addExport("abuse_form");t.setVariable("abuse_form",s);i+="\n\n";var u=n.makeMacro([],[],function(e){r=r.push();e=e||{};var t="";t+='\n  <input type="text" name="sprout" value="potato" class="potato-captcha">\n  <input type="text" name="tuber" class="potato-captcha">\n';r=r.pop();return new n.SafeString(t)});t.addExport("potato_captcha");t.setVariable("potato_captcha",u);i+="\n";return i}catch(l){n.handleError(l,a,o)}}return{root:e}}();e["_macros/market_button.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{var s=n.makeMacro(["app","classes","data_attrs"],[],function(i,s,u,l){r=r.push();l=l||{};r.set("app",i);r.set("classes",s);r.set("data_attrs",u);var c="";c+="\n  ";var p=n.memberLookup(i,"price",e.autoesc)?n.memberLookup(i,"price",e.autoesc):(a=1,o=44,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Free"]));r.set("price",p);if(!r.parent){t.setVariable("price",p);t.addExport("price")}c+="\n  ";var f=s||[];r.set("classes",f);if(!r.parent){t.setVariable("classes",f);t.addExport("classes")}c+='\n  <button class="button product install ';c+=n.suppressValue(e.getFilter("join")(f," "),e.autoesc);c+='" ';c+=n.suppressValue(e.getFilter("make_data_attrs")(u),e.autoesc);c+=">\n    ";c+=n.suppressValue(n.memberLookup(n.memberLookup(i,"user",e.autoesc),"owns",e.autoesc)?(a=4,o=6,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Install"])):p,e.autoesc);c+="\n  </button>\n";r=r.pop();return new n.SafeString(c)});t.addExport("market_button");t.setVariable("market_button",s);i+="\n";return i}catch(u){n.handleError(u,a,o)}}return{root:e}}();e["_macros/market_tile.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{var s=e.getTemplate("_macros/stars.html");i+=s.render(t.getVariables(),r.push());i+="\n";var s=e.getTemplate("_macros/market_button.html");i+=s.render(t.getVariables(),r.push());i+="\n\n";var u=n.makeMacro(["app"],["link","src","classes","data_attrs","force_button"],function(i,s){r=r.push();s=s||{};r.set("app",i);r.set("link",s.hasOwnProperty("link")?s["link"]:n.contextOrFrameLookup(t,r,"False"));r.set("src",s.hasOwnProperty("src")?s["src"]:n.contextOrFrameLookup(t,r,"None"));r.set("classes",s.hasOwnProperty("classes")?s["classes"]:n.contextOrFrameLookup(t,r,"None"));r.set("data_attrs",s.hasOwnProperty("data_attrs")?s["data_attrs"]:n.contextOrFrameLookup(t,r,"None"));r.set("force_button",s.hasOwnProperty("force_button")?s["force_button"]:n.contextOrFrameLookup(t,r,"False"));var u="";u+="\n  ";var l=n.contextOrFrameLookup(t,r,"link")?"a":"div";r.set("tag",l);if(!r.parent){t.setVariable("tag",l);t.addExport("tag")}u+="\n  ";var c=n.contextOrFrameLookup(t,r,"classes")||[];r.set("classes",c);if(!r.parent){t.setVariable("classes",c);t.addExport("classes")}u+="\n  <";u+=n.suppressValue(l,e.autoesc);u+=' class="product mkt-tile ';u+=n.suppressValue(e.getFilter("join")(c," "),e.autoesc);u+='"\n    ';if(n.contextOrFrameLookup(t,r,"link")){u+=' href="';u+=n.suppressValue(e.getFilter("urlparams")((a=7,o=24,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",["app",[n.memberLookup(i,"slug",e.autoesc)]])),n.makeKeywordArgs({src:n.contextOrFrameLookup(t,r,"src")})),e.autoesc);u+='"'}u+="\n    ";u+=n.suppressValue(e.getFilter("make_data_attrs")(n.contextOrFrameLookup(t,r,"data_attrs")),e.autoesc);u+="\n    ";u+=n.suppressValue(e.getFilter("dataproduct")(i),e.autoesc);u+='>\n    <img class="icon" alt="" src="';u+=n.suppressValue(n.memberLookup(n.memberLookup(i,"icons",e.autoesc),64,e.autoesc),e.autoesc);u+='" height="64" width="64">\n    <div class="info">\n      <h3>';u+=n.suppressValue(n.memberLookup(i,"name",e.autoesc),e.autoesc);u+="</h3>\n      ";if(n.contextOrFrameLookup(t,r,"force_button")||n.memberLookup(i,"current_version",e.autoesc)&&!n.contextOrFrameLookup(t,r,"link")){u+="\n        ";u+=n.suppressValue((a=14,o=22,n.callWrap(n.contextOrFrameLookup(t,r,"market_button"),"market_button",[i,n.makeKeywordArgs({classes:c,data_attrs:{manifest_url:n.memberLookup(i,"manifest_url",e.autoesc)}})])),e.autoesc);u+="\n      "}u+="\n      ";if(n.memberLookup(i,"listed_authors",e.autoesc)){u+='\n        <div class="author lineclamp vital">';u+=n.suppressValue(n.memberLookup(n.memberLookup(n.memberLookup(i,"listed_authors",e.autoesc),0,e.autoesc),"name",e.autoesc),e.autoesc);u+="</div>\n      "}u+='\n      <div class="price vital">';u+=n.suppressValue(n.memberLookup(i,"price",e.autoesc)?n.memberLookup(i,"price",e.autoesc):(a=20,o=61,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Free"])),e.autoesc);u+='</div>\n      <div class="rating vital';u+=n.suppressValue(!n.memberLookup(n.memberLookup(i,"ratings",e.autoesc),"count",e.autoesc)?" unrated":"",e.autoesc);u+='">\n        ';if(!n.contextOrFrameLookup(t,r,"link")){u+='\n          <a href="';u+=n.suppressValue((a=23,o=23,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",["app/ratings",[n.memberLookup(i,"slug",e.autoesc)]])),e.autoesc);u+='" class="rating_link">\n        '}u+="\n        ";u+=n.suppressValue((a=25,o=14,n.callWrap(n.contextOrFrameLookup(t,r,"stars"),"stars",[n.memberLookup(n.memberLookup(i,"ratings",e.autoesc),"average",e.autoesc)])),e.autoesc);u+="\n        ";if(n.memberLookup(n.memberLookup(i,"ratings",e.autoesc),"count",e.autoesc)){u+='\n          <span class="cnt">\n            ';u+=n.suppressValue((a=28,o=20,n.callWrap(n.contextOrFrameLookup(t,r,"_plural"),"_plural",["{n} Review","{n} Reviews",n.makeKeywordArgs({n:n.memberLookup(n.memberLookup(i,"ratings",e.autoesc),"count",e.autoesc)})])),e.autoesc);u+="\n          </span>\n       "}u+="\n       ";if(!n.contextOrFrameLookup(t,r,"link")){u+="</a>"}u+="\n      </div>\n    </div>\n    ";r=r.push();var p=n.memberLookup(i,"notices",e.autoesc);for(var f=0;f<p.length;f++){var d=p[f];r.set("notice",d);u+='\n      <div class="bad-app">';u+=n.suppressValue(d,e.autoesc);u+="</div>\n    "}r=r.pop();u+="\n  </";u+=n.suppressValue(l,e.autoesc);u+='>\n  <div class="tray previews full"></div>\n';r=r.pop();return new n.SafeString(u)});t.addExport("market_tile");t.setVariable("market_tile",u);i+="\n";return i}catch(l){n.handleError(l,a,o)}}return{root:e}}();e["_macros/more_button.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{var s=n.makeMacro(["next_page_url"],[],function(i,s){r=r.push();s=s||{};r.set("next_page_url",i);var u="";u+='\n<li class="loadmore">\n  <button data-url="';u+=n.suppressValue(e.getFilter("safe")(n.memberLookup(n.contextOrFrameLookup(t,r,"settings"),"api_url",e.autoesc)+i),e.autoesc);u+='">';u+=n.suppressValue((a=2,o=65,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["More"])),e.autoesc);u+="</button>\n</li>\n";r=r.pop();return new n.SafeString(u)});t.addExport("more_button");t.setVariable("more_button",s);i+="\n";return i}catch(u){n.handleError(u,a,o)}}return{root:e}}();e["_macros/rating.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{var s=e.getTemplate("_macros/stars.html");i+=s.render(t.getVariables(),r.push());i+="\n\n";var u=n.makeMacro(["this"],["detailpage"],function(i,s){r=r.push();s=s||{};r.set("this",i);r.set("detailpage",s.hasOwnProperty("detailpage")?s["detailpage"]:false);var u="";u+='\n<li data-report-uri="';u+=n.suppressValue(n.memberLookup(i,"report_spam",e.autoesc),e.autoesc);u+='" data-rating="';u+=n.suppressValue(n.memberLookup(i,"rating",e.autoesc),e.autoesc);u+='"\n    class="review';u+=n.suppressValue(n.memberLookup(i,"is_flagged",e.autoesc)?" flagged":"",e.autoesc);u+=' c">\n  <div class="review-inner">\n    ';u+=n.suppressValue((a=6,o=10,n.callWrap(n.contextOrFrameLookup(t,r,"stars"),"stars",[n.memberLookup(i,"rating",e.autoesc),n.makeKeywordArgs({detailpage:n.contextOrFrameLookup(t,r,"detailpage")})])),e.autoesc);u+='\n    <span class="byline">\n      ';u+=n.suppressValue((a=8,o=8,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["by <strong>{author}</strong>",n.makeKeywordArgs({author:(a=8,o=54,n.callWrap(n.contextOrFrameLookup(t,r,"escape"),"escape",[n.memberLookup(n.memberLookup(i,"user",e.autoesc),"display_name",e.autoesc)]))})])),e.autoesc);u+="\n      ";if(n.memberLookup(i,"version",e.autoesc)&&!n.memberLookup(n.memberLookup(i,"version",e.autoesc),"latest",e.autoesc)){u+="\n        ";u+=n.suppressValue((a=10,o=10,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["for previous version {version}",n.makeKeywordArgs({version:n.memberLookup(n.memberLookup(i,"version",e.autoesc),"name",e.autoesc)})])),e.autoesc);u+="\n      "}u+='\n    </span>\n    <div class="body">\n      ';u+=n.suppressValue(e.getFilter("nl2br")(e.getFilter("escape")(n.memberLookup(i,"body",e.autoesc))),e.autoesc);u+="\n    </div>\n    ";if(!n.contextOrFrameLookup(t,r,"detailpage")){u+='\n      <ul class="actions only-if-logged-in">\n        ';if(n.memberLookup(i,"is_flagged",e.autoesc)){u+='\n          <li class="flagged">';u+=n.suppressValue((a=19,o=32,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Flagged for review"])),e.autoesc);u+="</li>\n        "}u+="\n        ";if(n.memberLookup(i,"is_author",e.autoesc)){u+='\n          <li><a class="edit"\n                 href="';u+=n.suppressValue((a=23,o=27,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",["app/ratings/edit",[n.contextOrFrameLookup(t,r,"slug")]])),e.autoesc);u+='">';u+=n.suppressValue((a=23,o=60,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Edit"])),e.autoesc);u+='</a></li>\n          <li>\n            <a class="delete post" data-action="delete" href="#"\n               data-href="';u+=n.suppressValue(n.memberLookup(i,"resource_uri",e.autoesc),e.autoesc);u+='"\n               data-app="';u+=n.suppressValue(n.contextOrFrameLookup(t,r,"slug"),e.autoesc);u+='">';u+=n.suppressValue((a=27,o=35,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Delete"])),e.autoesc);u+="</a></li>\n        "}else{u+='\n          <li><a class="flag post" data-action="report" href="#">';u+=n.suppressValue((a=29,o=67,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Report"])),e.autoesc);u+="</a></li>\n        "}u+="\n      </ul>\n      <time>";u+=n.suppressValue(n.memberLookup(i,"posted",e.autoesc),e.autoesc);u+="</time>\n    "}u+="\n  </div>\n</li>\n";r=r.pop();return new n.SafeString(u)});t.addExport("rating");t.setVariable("rating",u);i+="\n";return i}catch(l){n.handleError(l,a,o)}}return{root:e}}();e["_macros/stars.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{var s=n.makeMacro(["rating"],["detailpage"],function(i,s){r=r.push();s=s||{};r.set("rating",i);r.set("detailpage",s.hasOwnProperty("detailpage")?s["detailpage"]:false);var u="";u+="\n  ";var l=e.getFilter("round")(i);r.set("rating",l);if(!r.parent){t.setVariable("rating",l);t.addExport("rating")}u+='\n  <span class="stars';u+=n.suppressValue(n.contextOrFrameLookup(t,r,"detailpage")?" large":"",e.autoesc);u+=" large stars-";u+=n.suppressValue(l,e.autoesc);u+='" title="';u+=n.suppressValue(n.contextOrFrameLookup(t,r,"title"),e.autoesc);u+='">\n    ';u+=n.suppressValue((a=3,o=6,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Rated {stars} out of 5 stars",n.makeKeywordArgs({stars:l})])),e.autoesc);u+="\n  </span>\n";r=r.pop();return new n.SafeString(u)});t.addExport("stars");t.setVariable("stars",s);i+="\n";return i}catch(u){n.handleError(u,a,o)}}return{root:e}}();e["cat_dropdown.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{i+='<div class="dropdown secondary-header">\n  <a class="cat-all cat-icon" data-cat-slug="all" href="#">';i+=n.suppressValue((a=1,o=61,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["All Categories"])),e.autoesc);i+="</a>\n</div>\n";return i}catch(s){n.handleError(s,a,o)}}return{root:e}}();e["cat_list.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{i+='<menu class="cat-menu cat-icons hidden c">\n  <li>\n    <a class="cat-all" data-cat-slug="all"\n       href="';i+=n.suppressValue((a=3,o=17,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",["homepage"])),e.autoesc);i+='">';i+=n.suppressValue((a=3,o=34,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["All Categories"])),e.autoesc);i+="</a>\n  </li>\n";r=r.push();var s=n.contextOrFrameLookup(t,r,"categories");for(var u=0;u<s.length;u++){var l=s[u];r.set("cat",l);i+='\n  <li>\n      <a class="cat-';i+=n.suppressValue(n.memberLookup(l,"slug",e.autoesc),e.autoesc);i+='" data-cat-slug="';i+=n.suppressValue(n.memberLookup(l,"slug",e.autoesc),e.autoesc);i+='"\n         href="';i+=n.suppressValue((a=8,o=19,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",["category",[n.memberLookup(l,"slug",e.autoesc)]])),e.autoesc);i+='">';i+=n.suppressValue(n.memberLookup(l,"name",e.autoesc),e.autoesc);i+="</a>\n  </li>\n"}r=r.pop();i+="\n</menu>\n";return i}catch(c){n.handleError(c,a,o)}}return{root:e}}();e["category/main.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{var s=e.getTemplate("_macros/market_tile.html");i+=s.render(t.getVariables(),r.push());i+="\n";var s=e.getTemplate("_macros/more_button.html");i+=s.render(t.getVariables(),r.push());i+="\n\n";var u=(a=3,o=23,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",["featured",[n.contextOrFrameLookup(t,r,"category")||"all"]]));r.set("featured_url",u);if(!r.parent){t.setVariable("featured_url",u);t.addExport("featured_url")}i+="\n";var l=e.getFilter("urlparams")(u,n.makeKeywordArgs({src:"category-featured"}));r.set("featured_url",l);if(!r.parent){t.setVariable("featured_url",l);t.addExport("featured_url")}i+="\n\n";var c=n.contextOrFrameLookup(t,r,"category")?(a=6,o=23,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",["category",[n.contextOrFrameLookup(t,r,"category")]])):(a=6,o=68,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",["homepage"]));r.set("category_url",c);if(!r.parent){t.setVariable("category_url",c);t.addExport("category_url")}i+="\n\n";var p=e.getFilter("urlparams")(c,n.makeKeywordArgs({src:"category-popular"}))+"#gallery";r.set("popular_url",p);if(!r.parent){t.setVariable("popular_url",p);t.addExport("popular_url")}i+="\n";var f=e.getFilter("urlparams")(c,n.makeKeywordArgs({sort:"created",src:"category-new"}))+"#gallery";r.set("new_url",f);if(!r.parent){t.setVariable("new_url",f);t.addExport("new_url")}i+="\n\n";var d=n.contextOrFrameLookup(t,r,"category")?e.getFilter("urlparams")((a=11,o=21,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",["search"])),n.makeKeywordArgs({cat:n.contextOrFrameLookup(t,r,"category")})):(a=11,o=76,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",["search"]));r.set("search_url",d);if(!r.parent){t.setVariable("search_url",d);t.addExport("search_url")}i+="\n";var h=n.contextOrFrameLookup(t,r,"sort")=="created"?e.getFilter("urlparams")(d,n.makeKeywordArgs({sort:n.contextOrFrameLookup(t,r,"sort")})):d;r.set("search_url",h);if(!r.parent){t.setVariable("search_url",h);t.addExport("search_url")}i+="\n\n";i+=n.suppressValue(e.getExtension("defer")["run"](t,n.makeKeywordArgs({url:n.contextOrFrameLookup(t,r,"endpoint"),pluck:"featured"}),function(){var i="";i+='\n  <section id="featured" class="main category featured full c">\n    <header class="featured-header c">\n      <h3>';i+=n.suppressValue((a=17,o=12,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Featured Apps"])),e.autoesc);i+='</h3>\n      <a href="';i+=n.suppressValue(l,e.autoesc);i+='" class="view-all">';i+=n.suppressValue((a=18,o=50,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["View All"])),e.autoesc);i+='</a>\n    </header>\n    <ol class="grid c">\n      ';r=r.push();var s=n.contextOrFrameLookup(t,r,"this");for(var u=0;u<s.length;u++){var c=s[u];r.set("result",c);i+="\n        <li>";i+=n.suppressValue((a=22,o=24,n.callWrap(n.contextOrFrameLookup(t,r,"market_tile"),"market_tile",[c,n.makeKeywordArgs({link:true,src:"featured"})])),e.autoesc);i+="</li>\n      "}r=r.pop();i+="\n    </ol>\n  </section>\n";return i},function(){var e="";e+="\n";e+="\n";return e},function(){var e="";e+="\n";return e},null),e.autoesc);i+="\n\n";i+=n.suppressValue(e.getExtension("defer")["run"](t,n.makeKeywordArgs({url:n.contextOrFrameLookup(t,r,"endpoint"),pluck:"objects",as:"app",paginate:"ol.listing"}),function(){var i="";i+='\n  <section id="gallery" class="main category gallery full c">\n    ';if(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"response"),"meta",e.autoesc),"total_count",e.autoesc)>n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"response"),"meta",e.autoesc),"limit",e.autoesc)){i+='\n      <header class="featured-header c">\n        <nav class="tabs">\n          <a';if(!n.contextOrFrameLookup(t,r,"sort")){i+=' class="active"'}i+=' href="';i+=n.suppressValue(p,e.autoesc);i+='">';i+=n.suppressValue((a=37,o=71,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Popular"])),e.autoesc);i+="</a>\n          <a";if(n.contextOrFrameLookup(t,r,"sort")=="created"){i+=' class="active"'}i+=' href="';i+=n.suppressValue(f,e.autoesc);i+='">';i+=n.suppressValue((a=38,o=76,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["New"])),e.autoesc);i+='</a>\n        </nav>\n        <a href="';i+=n.suppressValue(h,e.autoesc);i+='" class="view-all">';i+=n.suppressValue((a=40,o=50,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["View All"])),e.autoesc);i+="</a>\n      </header>\n    "}i+='\n    <ol class="container listing grid-if-desktop c">\n      ';r=r.push();var s=n.contextOrFrameLookup(t,r,"this");for(var u=0;u<s.length;u++){var l=s[u];r.set("result",l);i+='\n        <li class="item result app c">\n          ';i+=n.suppressValue((a=46,o=22,n.callWrap(n.contextOrFrameLookup(t,r,"market_tile"),"market_tile",[l,n.makeKeywordArgs({link:true,force_button:true,src:n.contextOrFrameLookup(t,r,"sort")})])),e.autoesc);i+="\n        </li>\n      "}r=r.pop();i+="\n\n      ";i+="\n      ";if(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"response"),"meta",e.autoesc),"next",e.autoesc)){i+="\n        ";i+=n.suppressValue((a=52,o=20,n.callWrap(n.contextOrFrameLookup(t,r,"more_button"),"more_button",[n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"response"),"meta",e.autoesc),"next",e.autoesc)])),e.autoesc);i+="\n      "}i+="\n    </ol>\n  </section>\n";return i},function(){var e="";e+='\n  <p class="spinner spaced alt"></p>\n';return e},function(){var i="";i+='\n  <p class="no-results">\n    ';i+=n.suppressValue((a=60,o=6,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["No apps in this category"])),e.autoesc);i+="\n  </p>\n";return i},null),e.autoesc);i+="\n";return i}catch(m){n.handleError(m,a,o)}}return{root:e}}();e["debug.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{i+='<section class="main infobox">\n  <div>\n    <style>\n      dt {\n        clear: left;\n        float: left;\n      }\n      dd {\n        float: left;\n      }\n    </style>\n    <h2>Debug</h2>\n    <p>\n      <button id="toggle-debug">Debug Mode: <b id="debug-status">';i+=n.suppressValue(n.contextOrFrameLookup(t,r,"dbg"),e.autoesc);i+='</b></button>\n    </p>\n\n    <dl class="c">\n      ';r=r.push();var s=(a=17,o=36,n.callWrap(n.memberLookup(n.contextOrFrameLookup(t,r,"capabilities"),"items",e.autoesc),'capabilities["items"]',[]));for(var u=0;u<s.length;u++){var l=s[u];r.set("cap",l);i+="\n        <dt>";i+=n.suppressValue(n.memberLookup(l,0,e.autoesc),e.autoesc);i+="</dt>\n        <dd>";i+=n.suppressValue(n.memberLookup(l,1,e.autoesc),e.autoesc);i+="</dd>\n      "}r=r.pop();i+="\n      <dt>Feature Profile</dt>\n      <dd>";i+=n.suppressValue(n.contextOrFrameLookup(t,r,"profile"),e.autoesc);i+='</dd>\n    </dl>\n\n    <h3>Cache</h3>\n\n    <pre id="cache-inspector"></pre>\n\n    <ul class="cache-menu">\n      ';r=r.push();var c=(a=30,o=26,n.callWrap(n.memberLookup(n.contextOrFrameLookup(t,r,"cache"),"keys",e.autoesc),'cache["keys"]',[]));for(var p=0;p<c.length;p++){var f=c[p];r.set("k",f);i+='\n        <li><a href="#" data-url="';i+=n.suppressValue(f,e.autoesc);i+='">';i+=n.suppressValue(e.getFilter("urlparams")(f,n.makeKeywordArgs({_user:"REDACTED"})),e.autoesc);i+="</a></li>\n      "}r=r.pop();i+="\n    </ul>\n  </div>\n</section>\n";return i}catch(d){n.handleError(d,a,o)}}return{root:e}}();e["detail/abuse.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{var s=e.getTemplate("_macros/forms.html");i+=s.render(t.getVariables(),r.push());i+='\n\n<div class="main report-abuse infobox c">\n  <div>\n    <h1>';i+=n.suppressValue((a=4,o=10,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Report Abuse"])),e.autoesc);i+="</h1>\n    ";i+=n.suppressValue((a=5,o=15,n.callWrap(n.contextOrFrameLookup(t,r,"abuse_form"),"abuse_form",[(a=5,o=19,n.callWrap(n.contextOrFrameLookup(t,r,"api"),"api",["app_abuse"])),"app",n.contextOrFrameLookup(t,r,"slug")])),e.autoesc);i+="\n  </div>\n</div>\n";return i}catch(u){n.handleError(u,a,o)}}return{root:e}}();e["detail/main.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{var s=e.getTemplate("_macros/emaillink.html");i+=s.render(t.getVariables(),r.push());i+="\n";var s=e.getTemplate("_macros/market_tile.html");i+=s.render(t.getVariables(),r.push());i+="\n";var s=e.getTemplate("_macros/rating.html");i+=s.render(t.getVariables(),r.push());i+="\n";var s=e.getTemplate("_macros/stars.html");i+=s.render(t.getVariables(),r.push());i+="\n\n";var u=(a=5,o=19,n.callWrap(n.contextOrFrameLookup(t,r,"api"),"api",["app",[n.contextOrFrameLookup(t,r,"slug")]]));r.set("endpoint",u);if(!r.parent){t.setVariable("endpoint",u);t.addExport("endpoint")}i+='\n\n<div class="detail">\n<section class="main product-details listing expanded c">\n  ';i+=n.suppressValue(e.getExtension("defer")["run"](t,n.makeKeywordArgs({url:u,as:"app",key:n.contextOrFrameLookup(t,r,"slug"),id:"app-data"}),function(){var i="";i+="\n    ";i+=n.suppressValue((a=10,o=16,n.callWrap(n.contextOrFrameLookup(t,r,"market_tile"),"market_tile",[n.contextOrFrameLookup(t,r,"this")])),e.autoesc);i+="\n  ";return i},function(){var i="";i+='\n    <div class="product mkt-tile">\n      <div class="info">\n        <h3>';i+=n.suppressValue((a=14,o=14,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Loading..."])),e.autoesc);i+='</h3>\n        <div class="price vital">';i+=n.suppressValue((a=15,o=35,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Loading..."])),e.autoesc);i+='</div>\n        <div class="rating vital unrated">\n          ';i+=n.suppressValue((a=17,o=16,n.callWrap(n.contextOrFrameLookup(t,r,"stars"),"stars",[0])),e.autoesc);i+='\n        </div>\n      </div>\n    </div>\n    <div class="tray previews full"></div>\n  ';return i},null,null),e.autoesc);i+='\n</section>\n\n<section class="main" id="installed">\n  <div>\n    <p>\n      ';i+=n.suppressValue((a=28,o=8,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Installed!"])),e.autoesc);i+='\n    </p>\n    <p class="how mac">\n      ';i+=n.suppressValue((a=31,o=8,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Launch this app from your <b>Applications</b> directory."])),e.autoesc);i+='\n    </p>\n    <p class="how windows">\n      ';i+=n.suppressValue((a=34,o=8,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Launch this app from your <b>Windows desktop</b> or <b>Start &#9658; All Programs</b>."])),e.autoesc);i+='\n    </p>\n    <p class="how linux">\n      ';i+=n.suppressValue((a=37,o=8,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Launch this app from your <b>dash</b>, <b>Application picker</b>, or <b>Applications menu</b>."])),e.autoesc);i+='\n    </p>\n  </div>\n</section>\n<div id="purchased-message"></div>\n\n<section class="main blurbs infobox">\n  <div>\n    ';i+=n.suppressValue(e.getExtension("defer")["run"](t,n.makeKeywordArgs({url:u,as:"app",key:n.contextOrFrameLookup(t,r,"slug")}),function(){var i="";i+="\n      ";var s=n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"summary",e.autoesc),"length",e.autoesc)+n.memberLookup(n.contextOrFrameLookup(t,r,"description"),"length",e.autoesc)>700;r.set("super_long",s);if(!r.parent){t.setVariable("super_long",s);t.addExport("super_long")}i+='\n      <p class="summary">\n        ';i+=n.suppressValue(e.getFilter("nl2br")(n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"summary",e.autoesc)),e.autoesc);i+="\n        ";if(s){i+='\n          <a href="#" class="show-toggle" data-toggle-text="';i+=n.suppressValue((a=50,o=62,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Less&hellip;"])),e.autoesc);i+='">';i+=n.suppressValue((a=50,o=83,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["More&hellip;"])),e.autoesc);i+="</a>\n        "}i+="\n      </p>\n\n      ";if(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"description",e.autoesc),"length",e.autoesc)||n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"is_packaged",e.autoesc)){i+="\n        <div";if(s){i+=' class="collapsed"'}i+=">\n          ";if(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"description",e.autoesc),"length",e.autoesc)){i+="\n            <h3>";i+=n.suppressValue((a=57,o=18,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Description"])),e.autoesc);i+='</h3>\n            <div class="description">';i+=n.suppressValue(e.getFilter("nl2br")(n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"description",e.autoesc)),e.autoesc);i+="</div>\n          "}i+="\n          ";if(n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"is_packaged",e.autoesc)){i+="\n            <h3>";i+=n.suppressValue((a=61,o=18,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Version"])),e.autoesc);i+='</h3>\n            <div class="package-version">\n              ';i+=n.suppressValue((a=63,o=16,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Latest version: {version}",n.makeKeywordArgs({version:n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"current_version",e.autoesc)})])),e.autoesc);i+='\n            </div>\n            <div class="release-notes">\n              ';i+=n.suppressValue(e.getFilter("nl2br")(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"current_version",e.autoesc),"releasenotes",e.autoesc)),e.autoesc);i+="\n            </div>\n          "}i+="\n        </div>\n      "}i+="\n    ";return i},function(){var e="";e+='\n      <p class="spinner alt"></p>\n    ';return e},null,null),e.autoesc);i+='\n  </div>\n</section>\n\n<section class="main reviews c">\n  <div id="reviews-detail">\n    ';i+=n.suppressValue(e.getExtension("defer")["run"](t,n.makeKeywordArgs({url:(a=80,o=25,n.callWrap(n.contextOrFrameLookup(t,r,"apiParams"),"apiParams",["reviews",{app:n.contextOrFrameLookup(t,r,"slug")}])),id:"ratings"}),function(){var i="";i+="\n      <h3>";i+=n.suppressValue((a=81,o=12,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Reviews"])),e.autoesc);i+="</h3>\n      ";if(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"meta",e.autoesc),"total_count",e.autoesc)){i+='\n        <ul class="c ratings-placeholder-inner">\n          ';r=r.push();var s=(a=84,o=40,n.callWrap(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"objects",e.autoesc),"slice",e.autoesc),'this["objects"]["slice"]',[0,2]));for(var u=0;u<s.length;u++){var l=s[u];r.set("rat",l);i+="\n            ";i+=n.suppressValue((a=85,o=19,n.callWrap(n.contextOrFrameLookup(t,r,"rating"),"rating",[l,n.makeKeywordArgs({detailpage:true})])),e.autoesc);i+="\n          "}r=r.pop();i+='\n        </ul>\n        <div class="';i+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"user",e.autoesc),"can_rate",e.autoesc)?"split":"full",e.autoesc);i+='">\n          <a class="button alt average-rating" href="';i+=n.suppressValue((a=89,o=57,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",["app/ratings",[n.contextOrFrameLookup(t,r,"slug")]])),e.autoesc);i+='">\n            <span>\n              ';i+=n.suppressValue((a=91,o=22,n.callWrap(n.contextOrFrameLookup(t,r,"_plural"),"_plural",["{n} Review","{n} Reviews",n.makeKeywordArgs({n:n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"meta",e.autoesc),"total_count",e.autoesc)})])),e.autoesc);i+="\n            </span>\n            ";i+=n.suppressValue((a=94,o=18,n.callWrap(n.contextOrFrameLookup(t,r,"stars"),"stars",[n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"info",e.autoesc),"average",e.autoesc),n.makeKeywordArgs({detailpage:true})])),e.autoesc);i+="\n          </a>\n        </div>\n      "}else{i+='\n        <p class="not-rated">\n          ';i+=n.suppressValue((a=99,o=12,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["App not yet rated"])),e.autoesc);i+="\n        </p>\n      "}i+="\n      ";if(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"user",e.autoesc),"can_rate",e.autoesc)){i+='\n        <div class="only-if-logged-in';i+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"objects",e.autoesc),"length",e.autoesc)?" split":" full",e.autoesc);i+='">\n          ';if(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"user",e.autoesc),"has_rated",e.autoesc)){i+='\n            <a class="button alt" id="edit-review" href="';i+=n.suppressValue((a=105,o=61,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",["app/ratings/edit",[n.contextOrFrameLookup(t,r,"slug")]])),e.autoesc);i+='">\n              ';i+=n.suppressValue((a=106,o=16,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Edit Your Review"])),e.autoesc);i+="</a>\n          "}else{i+='\n            <a class="button alt" id="add-review" href="#"\n               data-action="add"\n               data-app="';i+=n.suppressValue(n.contextOrFrameLookup(t,r,"slug"),e.autoesc);i+='">\n              ';i+=n.suppressValue((a=111,o=16,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Write a Review"])),e.autoesc);i+="</a>\n          "}i+="\n        </div>\n      "}i+="\n\n    ";return i},function(){var e="";e+='\n      <p class="spinner alt"></p>\n    ';return e},null,null),e.autoesc);i+='\n  </div>\n</section>\n\n<section class="main infobox support c">\n  <div>\n    ';i+=n.suppressValue(e.getExtension("defer")["run"](t,n.makeKeywordArgs({url:u,as:"app",key:n.contextOrFrameLookup(t,r,"slug")}),function(){var i="";
i+='\n      <ul class="c">\n        ';if(n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"support_email",e.autoesc)){i+='\n          <li class="support-email">\n            ';i+=n.suppressValue((a=128,o=22,n.callWrap(n.contextOrFrameLookup(t,r,"emaillink"),"emaillink",[n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"support_email",e.autoesc),(a=128,o=44,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Support Email"])),n.makeKeywordArgs({"class":"button alt"})])),e.autoesc);i+="\n          </li>\n        "}i+="\n        ";if(n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"support_url",e.autoesc)){i+='\n          <li class="support-url">\n            <a class="button alt" rel="external" ';i+=n.suppressValue(e.getFilter("external_href")(n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"support_url",e.autoesc)),e.autoesc);i+=">\n              ";i+=n.suppressValue((a=134,o=16,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Support Site"])),e.autoesc);i+="</a>\n          </li>\n        "}i+="\n        ";if(n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"homepage",e.autoesc)){i+='\n          <li class="homepage">\n            <a class="button alt" rel="external" ';i+=n.suppressValue(e.getFilter("external_href")(n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"homepage",e.autoesc)),e.autoesc);i+=">";i+=n.suppressValue((a=139,o=81,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Homepage"])),e.autoesc);i+="</a>\n          </li>\n        "}i+="\n        ";if(n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"privacy_policy",e.autoesc)){i+='\n          <li><a class="button alt" href="';i+=n.suppressValue((a=143,o=46,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",["app/privacy",[n.contextOrFrameLookup(t,r,"slug")]])),e.autoesc);i+='">\n            ';i+=n.suppressValue((a=144,o=14,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Privacy Policy"])),e.autoesc);i+="</a></li>\n        "}i+="\n        ";if(n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"public_stats",e.autoesc)){i+='\n          <li><a class="button alt view-stats" rel="external" href="/statistics/app/';i+=n.suppressValue(n.contextOrFrameLookup(t,r,"slug"),e.autoesc);i+='/">\n            ';i+=n.suppressValue((a=148,o=14,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Statistics"])),e.autoesc);i+="</a></li>\n        "}i+='\n        <li><a class="button alt" href="';i+=n.suppressValue((a=150,o=44,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",["app/abuse",[n.contextOrFrameLookup(t,r,"slug")]])),e.autoesc);i+='">\n          ';i+=n.suppressValue((a=151,o=12,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Report Abuse"])),e.autoesc);i+="</a></li>\n      </ul>\n      ";if(n.memberLookup(n.contextOrFrameLookup(t,r,"settings"),"payment_enabled",e.autoesc)){i+="\n        ";if(n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"upsell",e.autoesc)){i+='\n          <a id="upsell" class="button alt"\n             href="';i+=n.suppressValue(e.getFilter("urlparams")(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"upsell",e.autoesc),"url",e.autoesc),n.makeKeywordArgs({src:"mkt-detail-upsell"})),e.autoesc);i+='">\n             <span class="avail">';i+=n.suppressValue((a=157,o=35,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Premium version available"])),e.autoesc);i+='</span>\n             <img class="icon" src="';i+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"upsell"),"icons",e.autoesc),16,e.autoesc),e.autoesc);i+='">\n             <span class="name">';i+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"upsell",e.autoesc),"name",e.autoesc),e.autoesc);i+="</span>\n          </a>\n        "}i+="\n      "}i+="\n    ";return i},null,null,null),e.autoesc);i+='\n  </div>\n</section>\n\n<div class="content_ratings">\n  ';i+=n.suppressValue(e.getExtension("defer")["run"](t,n.makeKeywordArgs({url:u,as:"app",key:n.contextOrFrameLookup(t,r,"slug")}),function(){var i="";i+="\n    ";if(n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"content_ratings",e.autoesc)){i+='\n      <div class="main content-ratings infobox c">\n        <div>\n          <h3>\n            ';i+=n.suppressValue((a=173,o=14,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",['Rating by the <a href="{dejus_url}" title="{dejus}">DEJUS</a>',n.makeKeywordArgs({dejus_url:n.memberLookup(n.contextOrFrameLookup(t,r,"settings"),"DEJUS_URL",e.autoesc),dejus:n.memberLookup(n.contextOrFrameLookup(t,r,"settings"),"DEJUS",e.autoesc)})])),e.autoesc);i+="\n          </h3>\n          ";r=r.push();var s=(a=177,o=52,n.callWrap(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"content_ratings",e.autoesc),"values",e.autoesc),'this["content_ra"]["values"]',[]));for(var u=0;u<s.length;u++){var l=s[u];r.set("rating",l);i+='\n            <div class="content-rating c">\n              <div class="icon icon-';i+=n.suppressValue(n.memberLookup(l,"name",e.autoesc),e.autoesc);i+='" title="';i+=n.suppressValue(n.memberLookup(l,"name",e.autoesc),e.autoesc);i+='">';i+=n.suppressValue(n.memberLookup(l,"name",e.autoesc),e.autoesc);i+='</div>\n              <p class="description">';i+=n.suppressValue(n.memberLookup(l,"description",e.autoesc),e.autoesc);i+="</p>\n            </div>\n          "}r=r.pop();i+="\n        </div>\n      </div>\n    "}i+="\n  ";return i},null,null,null),e.autoesc);i+="\n</div>\n</div>\n";return i}catch(l){n.handleError(l,a,o)}}return{root:e}}();e["detail/preview_tray.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{i+='<div class="slider shots">\n  <ul class="content">';i+=n.suppressValue(e.getFilter("safe")(n.contextOrFrameLookup(t,r,"previews")),e.autoesc);i+='</ul>\n</div>\n<div class="dots">';i+=n.suppressValue(e.getFilter("safe")(n.contextOrFrameLookup(t,r,"dots")),e.autoesc);i+="</div>\n";return i}catch(s){n.handleError(s,a,o)}}return{root:e}}();e["detail/privacy.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{i+='<div class="main privacy-policy infobox c">\n  <div>\n    <h3>';i+=n.suppressValue((a=2,o=10,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Privacy Policy"])),e.autoesc);i+="</h3>\n    ";i+=n.suppressValue(e.getExtension("defer")["run"](t,n.makeKeywordArgs({url:(a=3,o=19,n.callWrap(n.contextOrFrameLookup(t,r,"api"),"api",["app",[n.contextOrFrameLookup(t,r,"slug")]])),as:"app",key:n.contextOrFrameLookup(t,r,"slug"),pluck:"privacy_policy"}),function(){var a="";a+="\n      <p>";a+=n.suppressValue(e.getFilter("nl2br")(n.contextOrFrameLookup(t,r,"this")),e.autoesc);a+="</p>\n\n    ";return a},function(){var i="";i+="\n      <p>";i+=n.suppressValue((a=7,o=11,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Loading privacy policy..."])),e.autoesc);i+="</p>\n    ";return i},null,null),e.autoesc);i+="\n  </div>\n</div>\n";return i}catch(s){n.handleError(s,a,o)}}return{root:e}}();e["detail/single_preview.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{i+='<li>\n<a class="screenshot thumbnail ';i+=n.suppressValue(n.contextOrFrameLookup(t,r,"typeclass"),e.autoesc);i+='"\n   href="';i+=n.suppressValue(n.contextOrFrameLookup(t,r,"image_url"),e.autoesc);i+='" title="';i+=n.suppressValue(n.contextOrFrameLookup(t,r,"caption"),e.autoesc);i+='">\n  <img alt="';i+=n.suppressValue(n.contextOrFrameLookup(t,r,"caption"),e.autoesc);i+='" src="';i+=n.suppressValue(n.contextOrFrameLookup(t,r,"thumbnail_url"),e.autoesc);i+='" draggable="false">\n</a>\n</li>\n';return i}catch(s){n.handleError(s,a,o)}}return{root:e}}();e["errors/fragment.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{i+='<span class="fragment-error">\n<b>';i+=n.suppressValue((a=1,o=5,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Oh no!"])),e.autoesc);i+="</b><br>\n";i+=n.suppressValue((a=2,o=2,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["An error occurred."])),e.autoesc);i+="\n</span>\n";return i}catch(s){n.handleError(s,a,o)}}return{root:e}}();e["featured.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{var s=e.getTemplate("_macros/market_tile.html");i+=s.render(t.getVariables(),r.push());i+='\n\n<section id="search-results" class="main full c">\n  ';i+=n.suppressValue(e.getExtension("defer")["run"](t,n.makeKeywordArgs({url:n.contextOrFrameLookup(t,r,"endpoint"),pluck:"featured",as:"app"}),function(){var i="";i+='\n    <header class="secondary-header c">\n      <h2>';i+=n.suppressValue((a=5,o=12,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Featured"])),e.autoesc);i+='</h2>\n      <a href="#" class="expand-toggle" title="';i+=n.suppressValue((a=6,o=49,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Expand"])),e.autoesc);i+='"></a>\n    </header>\n    <ol class="container listing c">\n      ';r=r.push();var s=n.contextOrFrameLookup(t,r,"this");for(var u=0;u<s.length;u++){var l=s[u];r.set("result",l);i+='\n        <li class="item result app c">\n          ';i+=n.suppressValue((a=11,o=22,n.callWrap(n.contextOrFrameLookup(t,r,"market_tile"),"market_tile",[l,n.makeKeywordArgs({link:true,force_button:true,src:"featured"})])),e.autoesc);i+="\n        </li>\n      "}r=r.pop();i+="\n    </ol>\n  ";return i},function(){var e="";e+='\n    <p class="spinner alt"></p>\n  ';return e},function(){var i="";i+='\n    <p class="no-results">\n      ';i+=n.suppressValue((a=19,o=8,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["No featured apps found"])),e.autoesc);i+="\n    </p>\n  ";return i},null),e.autoesc);i+="\n</section>\n";return i}catch(u){n.handleError(u,a,o)}}return{root:e}}();e["feedback.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{var s=e.getTemplate("_macros/forms.html");i+=s.render(t.getVariables(),r.push());i+='\n\n<section class="bare">\n  <header class="header">\n    <h1 class="title">';i+=n.suppressValue((a=4,o=24,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Feedback"])),e.autoesc);i+='</h1>\n    <a href="#" class="header-button icon cancel dismiss">';i+=n.suppressValue((a=5,o=60,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Cancel"])),e.autoesc);i+='</a>\n  </header>\n  <form class="container form-grid feedback-form" method="post">\n    <div class="brform simple-field c">\n      <textarea rows="4" cols="40" name="feedback" required></textarea>\n    </div>\n    ';i+=n.suppressValue((a=11,o=19,n.callWrap(n.contextOrFrameLookup(t,r,"potato_captcha"),"potato_captcha",[])),e.autoesc);i+='\n    <footer class="form-footer c">\n      <button type="submit">';i+=n.suppressValue((a=13,o=30,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Send"])),e.autoesc);i+="</button>\n    </footer>\n  </form>\n</section>\n";return i}catch(u){n.handleError(u,a,o)}}return{root:e}}();e["footer.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{i+='<div id="directory-footer" class="main full c">\n  <div class="group">\n    <a class="button alt devhub" href="https://marketplace.firefox.com/developers/">';i+=n.suppressValue((a=2,o=86,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Develop Apps"])),e.autoesc);i+='</a>\n  </div>\n  <div class="group links">\n    <a href="https://marketplace.firefox.com/developers/">';i+=n.suppressValue((a=5,o=60,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Developer Hub"])),e.autoesc);i+='</a>\n    <a href="#" class="submit-feedback">';i+=n.suppressValue((a=6,o=42,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Feedback"])),e.autoesc);i+='</a>\n    <a href="https://support.mozilla.org/products/marketplace">';i+=n.suppressValue((a=7,o=65,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Support"])),e.autoesc);i+="</a>\n  </div>\n  ";if(!(a=9,o=24,n.callWrap(n.memberLookup(n.contextOrFrameLookup(t,r,"user"),"logged_in",e.autoesc),'user["logged_in"]',[]))||!n.contextOrFrameLookup(t,r,"footer_links")){i+='\n    <div class="language group links">\n      <a href="';i+=n.suppressValue((a=11,o=19,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",["settings"])),e.autoesc);i+='" class="region region-';i+=n.suppressValue((a=11,o=72,n.callWrap(n.memberLookup(n.contextOrFrameLookup(t,r,"user"),"get_setting",e.autoesc),'user["get_settin"]',["region"])),e.autoesc);i+='">\n        ';i+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,r,"REGIONS"),(a=12,o=33,n.callWrap(n.memberLookup(n.contextOrFrameLookup(t,r,"user"),"get_setting",e.autoesc),'user["get_settin"]',["region"])),e.autoesc),e.autoesc);i+="</a>\n    </div>\n  "}i+='\n</div>\n<div id="footer">\n  <div class="pad">\n    <h1 id="footzilla"><a href="https://www.mozilla.org/">mozilla</a></h1>\n    <p>\n      ';i+=n.suppressValue((a=20,o=8,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",['Except where otherwise <a href="{legal_url}">noted</a>, content on this site is licensed under the <a href="{cc_url}">Creative Commons Attribution Share-Alike License v3.0</a> or any later version.',n.makeKeywordArgs({legal_url:"http://www.mozilla.org/about/legal.html#site",cc_url:"http://creativecommons.org/licenses/by-sa/3.0/"})])),e.autoesc);i+='\n    </p>\n    <ul>\n      <li><a href="';i+=n.suppressValue((a=25,o=23,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",["privacy"])),e.autoesc);i+='">';i+=n.suppressValue((a=25,o=39,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Privacy Policy"])),e.autoesc);i+='</a></li>\n      <li><a href="';i+=n.suppressValue((a=26,o=23,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",["terms"])),e.autoesc);i+='">';i+=n.suppressValue((a=26,o=37,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Terms of Use"])),e.autoesc);i+='</a></li>\n      <li><a href="http://mozilla.com/legal/fraud-report/index.html">\n        ';i+=n.suppressValue((a=28,o=10,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Report Trademark Abuse"])),e.autoesc);i+="</a></li>\n    </ul>\n  </div>\n</div>\n";return i}catch(s){n.handleError(s,a,o)}}return{root:e}}();e["header.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{i+='<nav role="navigation">\n  <a href="#" id="nav-back" class="header-button icon back" title="';i+=n.suppressValue((a=1,o=69,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Back"])),e.autoesc);i+='"><b>';i+=n.suppressValue((a=1,o=85,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Back"])),e.autoesc);i+='</b></a>\n  <h1 class="site"><a href="';i+=n.suppressValue((a=2,o=32,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",["homepage"])),e.autoesc);i+='"><span class="wordmark">Firefox Marketplace</span></a></h1>\n  <span class="flex-shift"></span>\n  <form novalidate method="GET" id="search" class="search" action="';i+=n.suppressValue((a=4,o=71,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",["search"])),e.autoesc);i+='">\n    <label for="search-q">';i+=n.suppressValue((a=5,o=28,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Search"])),e.autoesc);i+='</label>\n    <div id="site-search-suggestions" data-src=""></div>\n    <input id="search-q" class="query-input" type="search" name="q" title=""\n         autocomplete="off" placeholder="';i+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"z"),"context",e.autoesc),"search",e.autoesc)||(a=8,o=63,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Search"])),e.autoesc);i+='" required\n         ';if(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"z"),"context",e.autoesc),"search",e.autoesc)){i+="data-context"}i+='\n         data-placeholder-default="';i+=n.suppressValue((a=10,o=37,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Search"])),e.autoesc);i+='">\n    <a href="#" class="search-clear" title="';i+=n.suppressValue((a=11,o=46,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Clear"])),e.autoesc);i+='">';i+=n.suppressValue((a=11,o=60,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Clear"])),e.autoesc);i+='</a>\n  </form>\n  <span class="flex-span"></span>\n  <div class="act-tray">\n    <a href="';i+=n.suppressValue((a=15,o=17,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",["settings"])),e.autoesc);i+='" class="header-button icon settings" title="';i+=n.suppressValue((a=15,o=77,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Settings"])),e.autoesc);i+='"></a>\n    <div class="account-links only-logged-in">\n      <ul>\n        <li>\n          <a href="';i+=n.suppressValue((a=19,o=23,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",["settings"])),e.autoesc);i+='">\n            <b>';i+=n.suppressValue((a=20,o=32,n.callWrap(n.memberLookup(n.contextOrFrameLookup(t,r,"user"),"get_setting",e.autoesc),'user["get_settin"]',["email"])),e.autoesc);i+="</b>\n            ";i+=n.suppressValue((a=21,o=14,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Edit Account Settings"])),e.autoesc);i+='</a>\n        </li>\n        <li><a href="';i+=n.suppressValue((a=23,o=25,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",["purchases"])),e.autoesc);i+='">';i+=n.suppressValue((a=23,o=43,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["My Apps"])),e.autoesc);i+='</a></li>\n        <li><a class="submit-feedback" href="#">';i+=n.suppressValue((a=24,o=50,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Feedback"])),e.autoesc);i+='</a></li>\n        <li><a href="#" class="logout">';i+=n.suppressValue((a=25,o=41,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Sign Out"])),e.autoesc);i+='</a></li>\n      </ul>\n    </div>\n  </div>\n  <a href="#" class="header-button persona">';i+=n.suppressValue((a=29,o=46,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Sign In"])),e.autoesc);i+="</a>\n</nav>\n";return i}catch(s){n.handleError(s,a,o)}}return{root:e}}();e["home/main.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{var s=e.getTemplate("_macros/market_tile.html");i+=s.render(t.getVariables(),r.push());i+="\n";var u=(a=1,o=19,n.callWrap(n.contextOrFrameLookup(t,r,"api"),"api",["homepage"]));r.set("endpoint",u);if(!r.parent){t.setVariable("endpoint",u);t.addExport("endpoint")}i+='\n\n<section id="featured-home" class="featured full">\n  ';i+=n.suppressValue(e.getExtension("defer")["run"](t,n.makeKeywordArgs({url:u,pluck:"featured",as:"app"}),function(){var i="";i+='\n    <ul class="grid c">\n      ';r=r.push();var s=n.contextOrFrameLookup(t,r,"this");for(var u=0;u<s.length;u++){var l=s[u];r.set("app",l);i+="\n        <li>";i+=n.suppressValue((a=7,o=24,n.callWrap(n.contextOrFrameLookup(t,r,"market_tile"),"market_tile",[l,n.makeKeywordArgs({link:true,src:"mkt-home"})])),e.autoesc);i+="</li>\n      "}r=r.pop();i+="\n    </ul>\n  ";return i},function(){var e="";e+='\n    <p class="spinner spaced"></p>\n  ';return e},null,null),e.autoesc);i+='\n</section>\n<section class="main categories">\n  <h2>';i+=n.suppressValue((a=15,o=8,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Categories"])),e.autoesc);i+="</h2>\n  ";i+=n.suppressValue(e.getExtension("defer")["run"](t,n.makeKeywordArgs({url:u,pluck:"categories"}),function(){var i="";i+='\n    <ul class="grid">\n      ';r=r.push();var s=n.contextOrFrameLookup(t,r,"this");for(var u=0;u<s.length;u++){var l=s[u];r.set("category",l);i+='\n        <li>\n          <a class="mkt-tile category"\n             href="';i+=n.suppressValue((a=21,o=23,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",["category",[n.memberLookup(l,"slug",e.autoesc)]])),e.autoesc);i+='"\n             data-params="';i+=n.suppressValue(e.getFilter("escape")(e.getFilter("stringify")({name:n.memberLookup(l,"name",e.autoesc)})),e.autoesc);i+='">\n            <div class="icon cat-';i+=n.suppressValue(n.memberLookup(l,"slug",e.autoesc),e.autoesc);i+='"></div>\n            <h3 class="linefit">';i+=n.suppressValue(n.memberLookup(l,"name",e.autoesc),e.autoesc);i+="</h3>\n          </a>\n        </li>\n      "}r=r.pop();i+="\n    </ul>\n  ";return i},function(){var e="";e+='\n    <p class="spinner alt spaced"></p>\n  ';return e},null,null),e.autoesc);i+="\n</section>\n";return i}catch(l){n.handleError(l,a,o)}}return{root:e}}();e["not_found.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{i+='<section class="main infobox">\n    <div>\n        <h2>';i+=n.suppressValue((a=2,o=14,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Oh no!"])),e.autoesc);i+="</h2>\n        <p>";i+=n.suppressValue((a=3,o=13,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["The page you were looking for was not found."])),e.autoesc);i+="</p>\n    </div>\n</section>\n";return i}catch(s){n.handleError(s,a,o)}}return{root:e}}();e["privacy.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{i+='<div class="main privacy infobox c">\n  <section id="privacy-policy" class="main primary prose">\n    <h1>';i+=n.suppressValue((a=2,o=10,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Privacy Policy"])),e.autoesc);i+='</h1>\n\n    <p>Note: The proposed full version of the Privacy Policy for the Firefox Marketplace is currently under review and comment on our <a target="_blank" href="http://groups.google.com/group/mozilla.governance/topics">governance mailing list</a>.</p>\n    <p>When the Firefox Marketplace is fully launched, we will ask for your consent to the final Privacy Policy.</p>\n\n    <h2>Firefox Marketplace Privacy Policy</h2>\n    <p>February 23, 2012</p>\n\n    <p>The Firefox Marketplace is a publicly available market maintained by Mozilla that allows developers to distribute their Apps (applications written using open web technologies that can run on multiple platforms) or Add-ons (extensions and themes that allow you to extend the functionality of the Firefox browser) to users for use on any device that can access the open web. &nbsp;This policy describes how Mozilla deals with any info we get with respect to the Firefox Marketplace. We have separate privacy policies for our other products and services.</p>\n\n    <h3>What we consider to be personal information</h3>\n    <p>We consider &quot;personal information&quot; to mean either information which identifies you, like your name or email address; or a combination of several pieces of information which couldn&#39;t identify you on their own, but which could become identifiable to you when put together.</p>\n    <p>Also, if we store personal information with other information that is not personal, we consider the combination to be personal information.</p>\n\n    <h3>How we collect information about you</h3>\n    <p>There are four ways we collect information about you:</p>\n    <ol>\n      <li>You give it to us directly, perhaps through a form (like when you sign up to receive our Marketplace email newsletter updates or when you purchase an App or Add-on);</li>\n      <li>We collect it automatically (like your IP address when your browser makes requests to our web servers);</li>\n      <li>Someone else tells us something about you (like when a payment provider shares your email address after you make a purchase); or</li>\n      <li>We try and understand more about you based on information you&#39;ve already given us (like suggesting what Apps you might be interested in based on your purchase history).</li>\n    </ol>\n\n    <blockquote>\n      <h4>Some specifics</h4>\n      <p>The Firefox Marketplace uses cookies to help Mozilla identify and track visitors, their usage of Firefox Marketplace, and their website access preferences across multiple requests and visits to the Firefox Marketplace in order for us to understand how users use the Firefox Marketplace and to make your experience better. You can opt-out of this practice by following the instructions <a href="http://www.mozilla.org/en-US/opt-out.html">here</a>.</p>\n      <p>When you log in with BrowserID to the Firefox Marketplace, the BrowserID service sends us your email address. You can browse the Firefox Marketplace without logging in to BrowserID, however, you cannot install an App or purchase an Add-on without logging into the Firefox Marketplace with BrowserID. If you have an existing Mozilla Add-ons account, you will be prompted to sign in with a BrowserID account before you can install an App or purchase an Add-on.</p>\n      <p>Firefox sends daily messages to Mozilla with metadata that helps ensure that you have the latest updates when you install an Add-on. Please see the <a href="http://www.mozilla.org/en-US/legal/privacy/firefox.html">Firefox Privacy Policy</a> for more information on our Automated Update Service. You can opt out of these messages by following the instructions <a href="https://blog.mozilla.com/addons/how-to-opt-out-of-add-on-metadata-updates/">here</a>.</p>\n      <p>We collect the search terms you enter to find Apps or Add-ons and your interactions with the various parts of the Marketplace to better understand, in the aggregate, how users interact with the Firefox Marketplace. We don&rsquo;t tie this information to your BrowserID account.</p>\n    </blockquote>\n\n    <h3>What we will do with your info</h3>\n    <p>We use your information to help us provide better products and services to you. When you give us personal information, we will use it in the manner to which you consent.</p>\n\n    <blockquote>\n      <h4>Some specifics</h4>\n      <p>We may use your email address to inform you of transactional messages from the Firefox Marketplace, and you may elect to receive additional communications from us. If you signed up to receive but no longer wish to receive electronic marketing communications from Mozilla about the Firefox Marketplace, you can opt-out from receiving these communications by following the &ldquo;unsubscribe&rdquo; instructions in any such communication you receive. You can manage the email and notification settings for Mozilla-sent email in your Marketplace Profile.</p>\n      <p>If you write App or Add-on reviews, create a collection, or create other content in the Firefox Marketplace, your display name or username will be displayed publicly.</p>\n      <p>You may optionally fill in details of your public user profile, such as a homepage or profile picture, which will be displayed publicly.</p>\n      <p>If you purchase an App, we sign your receipt with the Persona user name (usually an email address) that you registered with the Firefox Marketplace through Persona. Apps you have installed may periodically communicate with Mozilla or an App developer for purposes of receipt/ownership verification, usage information, or other reasons as described in the individual App&rsquo;s privacy policy. You should check an App&rsquo;s privacy policy to make sure you are okay with their information handling practices before installing or using an App.</p>\n      <p>When you purchase an App or Add-on from a developer, they may receive information about you from your selected payment provider, as described in that payment provider&rsquo;s privacy policy.</p>\n      <p>We help you maintain a history of your transactional activity (like which Apps you have purchased). No financial information (such as credit card info that you have used to make purchases in the Firefox Marketplace) is collected, retained or used by Mozilla.</p>\n      <p>For an enhanced Marketplace experience, you may opt in to link your Marketplace account with your accounts on social networks. This is entirely optional and your accounts may be un-linked by you at any time. Once your account is un-linked, we do not continue to store or use information about your social graph or contacts from the social network you had linked. Individual Apps or Add-ons may allow you to link to your social network accounts and you should check the privacy policy of each App or Add-on to understand how they use your info.</p>\n      <p>If you ask us to send an App or Add-on to your phone, we will ask for your phone number and, with your permission, save it for future convenience. You may remove it by editing your Marketplace Profile.</p>\n      <p>If you are a developer who submits an App or Add-on to the Firefox Marketplace, we will ask for detailed information about your product that may be displayed publicly, unless otherwise noted. If you wish to use payments in your product, we will ask for your real legal name and address in order to validate your identity and manage the Firefox Marketplace.</p>\n      <p>Add-ons installed in Firefox and other Mozilla products may check for new versions of those Add-ons with the Firefox Marketplace each day. Additionally, Firefox may check for updates to other metadata related to Add-ons (e.g., updated descriptions, ratings, etc.) as described in the <a href="http://www.mozilla.org/en-US/legal/privacy/firefox.html">Firefox Privacy Policy</a>. &nbsp;In aggregate, these update checks are used by Mozilla to determine the number of active users of an Add-on or App. You may opt out of the metadata transfer as described <a href="http://blog.mozilla.com/addons/how-to-opt-out-of-add-on-metadata-updates/">here</a>, and Add-on updates as described <a href="http://blog.mozilla.com/addons/how-to-turn-off-add-on-updates/">here</a>.</p>\n      <p>The Get Add-ons page of the Add-ons Manager in Firefox may include the Add-ons you have installed in order to provide relevant recommendations of other Add-ons to install, as described in the <a href="http://www.mozilla.org/en-US/legal/privacy/firefox.html">Firefox Privacy Policy</a>. You may opt out of this as described <a href="http://blog.mozilla.com/addons/how-to-opt-out-of-add-on-metadata-updates/">here</a>.</p>\n    </blockquote>\n\n    <h3>When we share your info</h3>\n    <p>Mozilla is an open organization, and we publish information that we think will make our products better or help foster an open web. Whenever we publish information about our users, we&#39;ll remove anything that we believe can identify you.</p>\n    <p>If we share your personal information, we only share it with employees, contractors and service providers who have contractually promised to handle or use the data in ways that are approved by Mozilla. If our corporate structure or status changes (e.g., if we restructure, are acquired, or go bankrupt) we&#39;ll pass on your information to a successor or affiliate.</p>\n\n    <blockquote>\n      <h4>Some specifics</h4>\n      <p>When you install a paid or free App, we send a digital receipt of that App to the developer of the App. This is to facilitate interactions between you and that developer as well as allow the developer to electronically authorize uses of the App. The digital receipt contains your Persona username (usually your email address) as well as other information. You can find a more detailed description of receipts and the information they contain <a href="https://wiki.mozilla.org/Apps/WebApplicationReceipt">here</a>. &nbsp;Additionally, if you request support or a refund for an App or Add-on through the Marketplace, we give the developer your email address so they can reply to you. A developer&rsquo;s use of your email address or digital receipt is subject to their privacy policy. You should check an App&rsquo;s privacy policy to make sure you are okay with their information handling practices before installing or using an App.</p>\n      <p>We share non-personal aggregated statistics with developers on the usage of their software, such as platform (Windows, Android, etc.) and browser version information. We provide the information as a distribution of numbers and not tied to an email address, unique ID or other identifiable piece of information.</p>\n      <p>Mozilla does not currently process payments on its users behalf. When you make a purchase in the Marketplace, the information that you give to your selected payment provider is governed by that provider&rsquo;s privacy policy. &nbsp;A list of third-party vendors that are authorized payment processors for the Marketplace are available here.[Link TBD] &nbsp;Developers may also use their own payment providers &ndash; please check the privacy policy of any payment provider you use to make sure you are comfortable with their privacy practices.</p>\n      <p>A list of third party vendors that process information on Mozilla&rsquo;s behalf related to the Firefox Marketplace can be found here.[Link TBD]</p>\n    </blockquote>\n\n    <h3>How we store and protect your info</h3>\n    <p>We work hard to protect your information. We take steps to make sure that anyone (like an authorized employee or contractor) who sees your personal information has a good reason and is only allowed to do Mozilla-approved things with it.</p>\n    <p>Despite our efforts, we can&#39;t guarantee that malicious agents can&#39;t break in and access your data. If we find out about a security breach, we&#39;ll try hard to let you know so that you can take appropriate protective steps. We only keep information as long as we need to do the thing we collected it for. Once we don&#39;t need it any more, we&#39;ll destroy it unless we are forced by law to keep it longer.</p>\n\n    <h3>International Privacy</h3>\n    <p>Privacy laws and expectations vary from country to country. We&#39;re a global company and our computers are in several different places around the world. We also use service providers whose computers may also be in various countries. This means that any information we have about you might end up on one of those computers in another country, and that country may have a different level of data protection regulation than yours.</p>\n\n    <h3>Legal Process</h3>\n    <p>When a government agency or civil litigant asks for your personal info, we&#39;ll only give it to them if we have a good faith belief that:</p>\n    <ul>\n      <li>the law requires us to or,</li>\n      <li>it is reasonably necessary to do so to prevent harm to someone.</li>\n    </ul>\n    <p>We follow the law whenever we receive requests about you and we&#39;ll notify you any time we are asked to hand over your personal info like this unless we&#39;re legally prohibited from doing so, or circumstances require otherwise.</p>\n\n    <h3>Children</h3>\n    <p>Unless specifically stated otherwise, our services are not directed to individuals under the age of 13. If you are under 13, please do not provide us with your personally identifiable information. If you are the parent and believe that your child who is under 13 has provided us with personally identifiable information, please contact us here.</p>\n\n    <h3>Changes to this Policy and our Contact Information</h3>\n    <p>Sometimes, we change our privacy policies. When we do, we&#39;ll post a notice about the change on the Firefox Marketplace.</p>\n    <p>If you want to make a correction to your information, or you have any questions about our privacy policies, please get in touch with:</p>\n    <p>\n      <address>\n        Mozilla Corporation<br>\n        Attn: Legal Notices &mdash; Privacy<br>\n        650 Castro Street, Suite 300<br>\n        Mountain View, CA 94041-2072<br>\n        Phone: +1-650-903-0800<br>\n        <a href="http://mozilla.org/privacy/#contactus">Send us an email</a>\n      </address>\n    </p>\n  </section>\n</div>\n';
return i}catch(s){n.handleError(s,a,o)}}return{root:e}}();e["ratings/edit.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{i+=n.suppressValue(e.getExtension("defer")["run"](t,n.makeKeywordArgs({url:(a=0,o=21,n.callWrap(n.contextOrFrameLookup(t,r,"apiParams"),"apiParams",["reviews",n.makeKeywordArgs({app:n.contextOrFrameLookup(t,r,"slug"),user:"mine"})])),id:"main"}),function(){var i="";i+="\n  ";var s=n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"this"),"objects",e.autoesc),0,e.autoesc);r.set("this",s);if(!r.parent){t.setVariable("this",s);t.addExport("this")}i+='\n  <form class="friendly main c edit-review-form" data-uri="';i+=n.suppressValue(n.memberLookup(s,"resource_uri",e.autoesc),e.autoesc);i+='" data-slug="';i+=n.suppressValue(n.contextOrFrameLookup(t,r,"slug"),e.autoesc);i+='">\n    <p class="brform simple-field rating c">\n      <label for="id_rating">';i+=n.suppressValue((a=4,o=31,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Rate:"])),e.autoesc);i+='</label>\n      <select name="rating" id="id_rating" required>\n        ';r=r.push();var u=(a=6,o=23,n.callWrap(n.contextOrFrameLookup(t,r,"range"),"range",[1,6]));for(var l=0;l<u.length;l++){var c=u[l];r.set("i",c);i+='\n          <option value="';i+=n.suppressValue(c,e.autoesc);i+='"';i+=n.suppressValue(c==n.memberLookup(s,"rating",e.autoesc)?" selected":"",e.autoesc);i+=">";i+=n.suppressValue(c,e.autoesc);i+="</option>\n        "}r=r.pop();i+='\n      </select>\n    </p>\n    <p class="brform simple-field c">\n      <textarea id="id_body" rows="2" cols="40" name="body" required maxlength="150">';i+=n.suppressValue(n.memberLookup(s,"body",e.autoesc),e.autoesc);i+='</textarea>\n    </p>\n    <footer class="form-footer c only-logged-in">\n      <button type="submit">';i+=n.suppressValue((a=15,o=30,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Save Changes"])),e.autoesc);i+='</button>\n      <div class="char-count" data-for="id_body"></div>\n    </footer>\n    <footer class="form-footer c only-logged-out">\n      <p>';i+=n.suppressValue((a=19,o=11,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Only logged in users may edit reviews."])),e.autoesc);i+="</p>\n    </footer>\n  </form>\n";return i},function(){var e="";e+='\n  <p class="spinner alt"></p>\n';return e},null,null),e.autoesc);i+="\n";return i}catch(s){n.handleError(s,a,o)}}return{root:e}}();e["ratings/main.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{var s=e.getTemplate("_macros/market_tile.html");i+=s.render(t.getVariables(),r.push());i+="\n";var s=e.getTemplate("_macros/more_button.html");i+=s.render(t.getVariables(),r.push());i+="\n";var s=e.getTemplate("_macros/rating.html");i+=s.render(t.getVariables(),r.push());i+='\n\n<section class="main c" id="reviews">\n  ';i+=n.suppressValue(e.getExtension("defer")["run"](t,n.makeKeywordArgs({url:(a=5,o=23,n.callWrap(n.contextOrFrameLookup(t,r,"apiParams"),"apiParams",["reviews",{app:n.contextOrFrameLookup(t,r,"slug")}])),pluck:"objects",id:"ratings",paginate:"#review-list"}),function(){var i="";i+='\n    <p id="add-review" class="only-logged-in">\n      ';if(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"response"),"user",e.autoesc),"has_rated",e.autoesc)){i+='\n        <a class="button" id="write-review" href="';i+=n.suppressValue((a=8,o=54,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",["app/ratings/edit",[n.contextOrFrameLookup(t,r,"slug")]])),e.autoesc);i+='">';i+=n.suppressValue((a=8,o=87,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Edit Review"])),e.autoesc);i+="</a>\n      "}else{i+='\n        <a class="button" id="write-review" href="';i+=n.suppressValue((a=10,o=54,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",["app/ratings/add",[n.contextOrFrameLookup(t,r,"slug")]])),e.autoesc);i+='">';i+=n.suppressValue((a=10,o=86,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Write a Review"])),e.autoesc);i+="</a>\n      "}i+='\n    </p>\n\n    <ul id="review-list">\n      ';r=r.push();var s=n.contextOrFrameLookup(t,r,"this");for(var u=0;u<s.length;u++){var l=s[u];r.set("rat",l);i+="\n        ";i+=n.suppressValue((a=16,o=15,n.callWrap(n.contextOrFrameLookup(t,r,"rating"),"rating",[l])),e.autoesc);i+="\n      "}r=r.pop();i+="\n\n      ";i+="\n      ";if(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"response"),"meta",e.autoesc),"next",e.autoesc)){i+="\n        ";i+=n.suppressValue((a=21,o=20,n.callWrap(n.contextOrFrameLookup(t,r,"more_button"),"more_button",[n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"response"),"meta",e.autoesc),"next",e.autoesc)])),e.autoesc);i+="\n      "}i+="\n    </ul>\n  ";return i},null,function(){var i="";i+='\n    <p class="no-results">\n      ';i+=n.suppressValue((a=26,o=8,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["No results found"])),e.autoesc);i+="\n    </p>\n  ";return i},null),e.autoesc);i+="\n</section>\n";return i}catch(u){n.handleError(u,a,o)}}return{root:e}}();e["ratings/report.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{i+="<section>\n  <h3>";i+=n.suppressValue((a=1,o=8,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Please select a reason:"])),e.autoesc);i+='</h3>\n  <ul class="menu alt">\n    <li>\n      <a class="button alt" href="#review_flag_reason_spam">\n        ';i+=n.suppressValue((a=5,o=10,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Spam or otherwise non-review content"])),e.autoesc);i+='\n      </a>\n    </li>\n    <li>\n      <a class="button alt" href="#review_flag_reason_language">\n        ';i+=n.suppressValue((a=10,o=10,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Inappropriate language/dialog"])),e.autoesc);i+='\n      </a>\n    </li>\n    <li>\n      <a class="button alt" href="#review_flag_reason_bug_support">\n        ';i+=n.suppressValue((a=15,o=10,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Misplaced bug report or support request"])),e.autoesc);i+='\n      </a>\n    </li>\n  </ul>\n  <footer>\n    <button class="button cancel fat">';i+=n.suppressValue((a=20,o=40,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Cancel"])),e.autoesc);i+="</button>\n  </footer>\n</section>\n";return i}catch(s){n.handleError(s,a,o)}}return{root:e}}();e["ratings/write-overlay.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{i+='<section class="bare">\n  <header class="header">\n    <h1 class="title">';i+=n.suppressValue((a=2,o=24,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Write a Review"])),e.autoesc);i+='</h1>\n    <a href="#" class="header-button icon cancel dismiss">';i+=n.suppressValue((a=3,o=60,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Cancel"])),e.autoesc);i+="</a>\n  </header>\n  ";var s=e.getTemplate("ratings/write.html");i+=s.render(t.getVariables(),r.push());i+="\n</section>\n";return i}catch(u){n.handleError(u,a,o)}}return{root:e}}();e["ratings/write.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{i+='<form class="friendly main add-review-form" data-app="';i+=n.suppressValue(n.contextOrFrameLookup(t,r,"slug"),e.autoesc);i+='">\n  <p class="brform simple-field rating c">\n    <label for="id_rating">';i+=n.suppressValue((a=2,o=29,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Rate:"])),e.autoesc);i+='</label>\n    <select name="rating" id="id_rating" required>\n        ';r=r.push();var s=(a=4,o=23,n.callWrap(n.contextOrFrameLookup(t,r,"range"),"range",[1,6]));for(var u=0;u<s.length;u++){var l=s[u];r.set("i",l);i+='\n          <option value="';i+=n.suppressValue(l,e.autoesc);i+='">';i+=n.suppressValue(l,e.autoesc);i+="</option>\n        "}r=r.pop();i+='\n    </select>\n  </p>\n  <p class="brform simple-field c">\n    <textarea id="id_body" rows="2" cols="40" name="body" required maxlength="150"></textarea>\n  </p>\n  <footer class="form-footer c only-logged-in">\n    <button type="submit">';i+=n.suppressValue((a=13,o=28,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Submit"])),e.autoesc);i+='</button>\n    <div class="char-count" data-for="id_body"></div>\n  </footer>\n  <footer class="form-footer c only-logged-out">\n    <p>';i+=n.suppressValue((a=17,o=9,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Only logged in users may edit reviews."])),e.autoesc);i+="</p>\n  </footer>\n</form>";return i}catch(c){n.handleError(c,a,o)}}return{root:e}}();e["search/main.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{var s=e.getTemplate("_macros/market_tile.html");i+=s.render(t.getVariables(),r.push());i+="\n";var s=e.getTemplate("_macros/more_button.html");i+=s.render(t.getVariables(),r.push());i+='\n\n<section id="search-results" class="main full c">\n  ';i+=n.suppressValue(e.getExtension("defer")["run"](t,n.makeKeywordArgs({url:(a=4,o=23,n.callWrap(n.contextOrFrameLookup(t,r,"apiParams"),"apiParams",["search",n.contextOrFrameLookup(t,r,"params")])),pluck:"objects",as:"app",paginate:"ol.listing"}),function(){var i="";i+='\n    <header class="secondary-header c">\n      <h2>';i+=n.suppressValue((a=6,o=18,n.callWrap(n.contextOrFrameLookup(t,r,"_plural"),"_plural",["<b>{n}</b> Result","<b>{n}</b> Results",n.makeKeywordArgs({n:n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"response"),"meta",e.autoesc),"total_count",e.autoesc)})])),e.autoesc);i+='</h2>\n      <a href="#" class="expand-toggle" title="';i+=n.suppressValue((a=7,o=49,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Expand"])),e.autoesc);i+='"></a>\n    </header>\n    <ol class="container listing c">\n      ';r=r.push();var s=n.contextOrFrameLookup(t,r,"this");for(var u=0;u<s.length;u++){var l=s[u];r.set("result",l);i+='\n        <li class="item result app c">\n          ';i+=n.suppressValue((a=12,o=22,n.callWrap(n.contextOrFrameLookup(t,r,"market_tile"),"market_tile",[l,n.makeKeywordArgs({link:true,force_button:true,src:"search"})])),e.autoesc);i+="\n        </li>\n      "}r=r.pop();i+="\n\n      ";i+="\n      ";if(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"response"),"meta",e.autoesc),"next",e.autoesc)){i+="\n        ";i+=n.suppressValue((a=18,o=20,n.callWrap(n.contextOrFrameLookup(t,r,"more_button"),"more_button",[n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"response"),"meta",e.autoesc),"next",e.autoesc)])),e.autoesc);i+="\n      "}i+="\n    </ol>\n  ";return i},function(){var e="";e+='\n    <p class="spinner spaced alt"></p>\n  ';return e},function(){var i="";i+='\n    <p class="no-results">\n      ';i+=n.suppressValue((a=25,o=8,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["No results found"])),e.autoesc);i+="\n    </p>\n  ";return i},null),e.autoesc);i+="\n</section>\n";return i}catch(u){n.handleError(u,a,o)}}return{root:e}}();e["settings/main.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{i+='<section class="main account" id="account-settings">\n  <header class="secondary-header hide-on-mobile c">\n    <h2>';i+=n.suppressValue((a=2,o=10,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Account Settings"])),e.autoesc);i+="</h2>\n  </header>\n\n  ";var s="settings";r.set("current_page",s);if(!r.parent){t.setVariable("current_page",s);t.addExport("current_page")}i+="\n  ";var u=e.getTemplate("settings/nav.html");i+=u.render(t.getVariables(),r.push());i+='\n\n  <form class="form-grid account-settings">\n    <div class="simple-field c only-logged-in">\n      <div class="form-label label">\n        <label for="email">';i+=n.suppressValue((a=11,o=29,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Email"])),e.autoesc);i+='</label>\n      </div>\n      <div class="form-col">\n        <input type="email" name="email" id="email" readonly value="';i+=n.suppressValue((a=14,o=85,n.callWrap(n.memberLookup(n.contextOrFrameLookup(t,r,"user"),"get_setting",e.autoesc),'user["get_settin"]',["email"])),e.autoesc);i+='">\n      </div>\n    </div>\n\n    <div class="brform simple-field c only-logged-in">\n      <div class="form-label">\n        <label for="display_name">';i+=n.suppressValue((a=20,o=36,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Display Name"])),e.autoesc);i+='</label>\n      </div>\n      <div class="form-col">\n        <input name="display_name" id="display_name" value="';i+=n.suppressValue((a=23,o=77,n.callWrap(n.memberLookup(n.contextOrFrameLookup(t,r,"user"),"get_setting",e.autoesc),'user["get_settin"]',["display_name"])),e.autoesc);i+='" maxlength="50" type="text" required>\n      </div>\n    </div>\n\n    <div class="simple-field c">\n      <div class="form-label">\n        <label for="region">';i+=n.suppressValue((a=29,o=30,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Region"])),e.autoesc);i+='</label>\n      </div>\n      <div class="form-col">\n        <div class="pretty-select">\n          <select name="region" id="region">\n            ';var l=(a=34,o=47,n.callWrap(n.memberLookup(n.contextOrFrameLookup(t,r,"user"),"get_setting",e.autoesc),'user["get_settin"]',["region"]));r.set("user_region",l);if(!r.parent){t.setVariable("user_region",l);t.addExport("user_region")}i+="\n            ";r=r.push();var c=(a=35,o=67,n.callWrap(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"settings"),"REGION_CHOICES_SLUG",e.autoesc),"items",e.autoesc),'settings["REGION_CHO"]["items"]',[]));var p;if(n.isArray(c)){for(p=0;p<c.length;p++){var f=c[p][0];r.set("code",c[p][0]);var d=c[p][1];r.set("region",c[p][1]);i+='\n              <option value="';i+=n.suppressValue(f,e.autoesc);i+='"';i+=n.suppressValue(f==l?" selected":"",e.autoesc);i+=">\n                ";i+=n.suppressValue(d,e.autoesc);i+="</option>\n            "}}else{p=-1;for(var h in c){p++;var m=c[h];r.set("code",h);r.set("region",m);i+='\n              <option value="';i+=n.suppressValue(h,e.autoesc);i+='"';i+=n.suppressValue(h==l?" selected":"",e.autoesc);i+=">\n                ";i+=n.suppressValue(m,e.autoesc);i+="</option>\n            "}}r=r.pop();i+='\n          </select>\n        </div>\n      </div>\n    </div>\n\n    <footer>\n      <p><button type="submit">';i+=n.suppressValue((a=45,o=33,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Save Changes"])),e.autoesc);i+='</button></p>\n      <p class="extras">\n        <button class="alt logout only-logged-in">';i+=n.suppressValue((a=47,o=52,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Sign Out"])),e.autoesc);i+='</button>\n        <button class="alt persona only-logged-out">';i+=n.suppressValue((a=48,o=54,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Sign In / Sign Up"])),e.autoesc);i+="</button>\n      </p>\n    </footer>\n  </form>\n\n</section>\n";return i}catch(g){n.handleError(g,a,o)}}return{root:e}}();e["settings/nav.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{var s=n.makeMacro(["view_name","title"],[],function(i,s,u){r=r.push();u=u||{};r.set("view_name",i);r.set("title",s);var l="";l+="\n<li><a";if(n.contextOrFrameLookup(t,r,"current_page")==i){l+=' class="sel"'}l+=' href="';l+=n.suppressValue((a=1,o=66,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",[i])),e.autoesc);l+='">\n  ';l+=n.suppressValue(s,e.autoesc);l+="</a></li>\n";r=r.pop();return new n.SafeString(l)});t.setVariable("_url",s);i+='\n\n<menu class="secondary-header toggles c">\n  ';i+=n.suppressValue((a=6,o=7,n.callWrap(s,"_url",["settings",(a=6,o=21,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Account"]))])),e.autoesc);i+="\n  ";i+=n.suppressValue((a=7,o=7,n.callWrap(s,"_url",["purchases",(a=7,o=22,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["My Apps"]))])),e.autoesc);i+='\n  <li><a class="submit-feedback" href="#">';i+=n.suppressValue((a=8,o=44,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Feedback"])),e.autoesc);i+="</a></li>\n</menu>\n";return i}catch(u){n.handleError(u,a,o)}}return{root:e}}();e["terms.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{i+='<div class="main terms-of-use infobox c">\n  <section id="terms-of-use" class="main primary prose">\n    <div class="container prose">\n    <h1>';i+=n.suppressValue((a=3,o=10,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Terms of Use"])),e.autoesc);i+='</h1>\n    <p>Note: The proposed full version of the Terms of Use for the Firefox Marketplace is currently under review and comment on our <a href="http://groups.google.com/group/mozilla.governance/topics">governance mailing list</a>. &nbsp;When the Firefox Marketplace is fully launched, we will ask for your consent to the final Terms of Use.</p>\n\n    <p>February 23, 2012</p>\n\n    <h2>Summary</h2>\n    <p>This top section is a summary of the terms below. It is provided as an aid to your understanding - but be sure to read the entire document, because when you agree to it, you are indicating you accept all of it, not just this summary:</p>\n    <ul>\n      <li>You must be at least 18 years old to have an account on the Marketplace or have your parent consent and supervise your use of the Marketplace. &nbsp;Regardless, you have to be at least 13 years old.</li>\n      <li>Our use of your data will be in accordance with our <a href="';i+=n.suppressValue((a=12,o=75,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",["privacy"])),e.autoesc);i+='">privacy policy</a>.</li>\n      <li>Developers (not Mozilla) are solely responsible for each App or Add-on, including providing you with support or refunds. We require Developers to provide at least an initial automatic refund period, after which the Developer may approve or deny a refund request, at their discretion.</li>\n      <li>You should make sure you understand the Privacy Policy for each App or Add-on. If you believe any App or Add-on does not comply with our Privacy Guidelines, let us know through the &ldquo;Report Abuse&rdquo; link on the listing page for the App or Add-on and we will take action as we think appropriate.</li>\n      <li>Don&rsquo;t do anything illegal or that could hurt us or others.</li>\n      <li>We&rsquo;re not responsible for your use of the Firefox Marketplace or the actions of other users, including Developers.</li>\n      <li>You&rsquo;ll be responsible for your use or misuse of the Firefox Marketplace, Apps or Add-ons.</li>\n    </ul>\n\n    <h2>Introduction</h2>\n    <p>Mozilla Corporation (&ldquo;Mozilla&rdquo;, &ldquo;us&rdquo; or &ldquo;we&rdquo;) is committed to promoting choice and innovation on the web. &nbsp;That&rsquo;s why Mozilla created the Firefox Marketplace &ndash; a publicly available market that allowing developers to distribute their Apps or Add-ons to users for use on any device that can access the open web.</p>\n    <p>Your use of the Firefox Marketplace is subject to the terms and conditions of this Terms of Use as well as the related Firefox Marketplace policies referred to in these Terms or in the Firefox Marketplace (we will refer to these collectively as the &ldquo;Terms&rdquo;).</p>\n\n    <h2>Eligibility</h2>\n    <p>By using the Firefox Marketplace, you agree that: <strong>(i)</strong> you are at least 18 years old or are acting with the consent and supervision of your parent; and <strong>(ii)</strong> you have full power, capacity, and authority to accept these Terms on behalf of yourself, or if applicable, your employer or other entity that you represent. In any case, you represent that you are at least 13 years of age as the Firefox Marketplace is not available to users under the age of 13.</p>\n\n    <h2>Modifications to the Terms</h2>\n    <p>We reserve the right to change these Terms in our sole discretion and if we do make changes, we will post a notice on the Firefox Marketplace describing the changes that were made, so make sure to check back periodically. &nbsp;We may also notify you through email or on the Marketplace itself. If you have any questions about these Terms or the Firefox Marketplace, please contact us.\n\n    <h2>Definitions</h2>\n    <p>&ldquo;Developers&rdquo; are third party developers who make their Marketplace Content available through the Firefox Marketplace.</p>\n    <p>You can install Add-ons or Apps (together, &ldquo;Marketplace Content&rdquo;) through the Firefox Marketplace:</p>\n    <ul>\n      <li>&ldquo;Add-ons&rdquo; are extensions, themes, search providers, dictionaries, and language packs that allow you to extend the functionality of the Firefox browser.</li>\n      <li>&ldquo;Apps&rdquo; are applications written using open web technologies that can run on multiple platforms.</li>\n      <li>Some Apps and Add-ons may be purchased from developers through the Firefox Marketplace (each, a &ldquo;Purchased&rdquo; App or Add-on and together, &ldquo;Purchased Content&rdquo;).</li>\n    </ul>\n\n    <h2>Marketplace Content</h2>\n    <p>Each individual Developer is the merchant of record for their Marketplace Content. This means that each Developer, not Mozilla (except where we develop our own Apps or Add-ons), is solely responsible for their Add-ons and Apps.</p>\n\n    <h2>Purchased Content</h2>\n    <p>Purchased Content is tied to your BrowserID account through authentication, a system designed to let you access the content from all of your supported devices. You won&rsquo;t be able to use most Purchased Content without logging in with your BrowserID account. By purchasing Purchased Content, you agree not to breach these terms, including by intentionally circumventing any authentication mechanism. We may stop providing access to the Firefox Marketplace or suspend your access to Purchased Content if we believe that you have violated these terms. Developers may sell products and services that require you to log in or authenticate using additional credentials aside from BrowserID.</p>\n\n    <h2>Refunds &amp; Support</h2>\n    <p>Unless otherwise noted, the Marketplace Content listed in the Firefox Marketplace is developed and sold by third-party Developers, not Mozilla. Accordingly, support requests related to Marketplace Content must be made to the Developer of that Marketplace Content, and technical questions related to the operation of the Firefox Marketplace should be made to Mozilla. To request support for Marketplace Content you have purchased, please visit the Account History area of the Firefox Marketplace and select &ldquo;Request Support&rdquo;.</p>\n    <p>If you are unhappy with your Purchased Content, you may request a refund from the Developer by requesting support, as described above. We require Developers to provide at least an initial automatic refund period, after which the Developer may approve or deny your request, at their discretion. For more information about refunds, please see our <a href="https://developer.mozilla.org/en-US/docs/Apps/Marketplace_Payments">Refund and Support policy</a>.</p>\n\n    <h2>Disputes about Marketplace Content</h2>\n    <p>We aren&rsquo;t responsible for any disputes arising from your purchases on the Firefox Marketplace from any Developer and all such disputes, including billing disputes should be submitted, as applicable, to the Developer in question, the payment processor or your credit card company.</p>\n\n    <h2>Additional Terms regarding Marketplace Content</h2>\n    <p>To the extent some of the content on the Firefox Marketplace are covered by separate terms (such as an end user license agreement, an open source license and/or a terms of use for Marketplace Content from a Developer), you agree to comply with such terms. &nbsp;You can find the terms under which Marketplace Content is being distributed on the information page of that Marketplace Content.</p>\n\n    <h2>Privacy</h2>\n    <p>You will be required to provide information about yourself (such as identification or contact details) as part of your registration for and use of the Firefox Marketplace. You agree that any payment information provided to payment providers will always be accurate, correct and up to date. Mozilla will use your information in conjunction with our operation of the Firefox Marketplace in accordance with the information handling practices in the Firefox Marketplace <a href="';i+=n.suppressValue((a=56,o=486,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",["privacy"])),e.autoesc);i+='">Privacy Policy</a>.</p>\n    <p>If you purchase an App from a Developer, Mozilla sends that Developer some of your information, including your Persona username (frequently you email address). Please see our <a href="';i+=n.suppressValue((a=57,o=195,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",["privacy"])),e.autoesc);i+='">Privacy Policy</a> for more detail.</p>\n    <p>While the Firefox Marketplace <a href="';i+=n.suppressValue((a=58,o=50,n.callWrap(n.contextOrFrameLookup(t,r,"url"),"url",["site.privacy"])),e.autoesc);i+='">Privacy Policy</a> applies to the Firefox Marketplace, it does not cover any Marketplace Content. You should check the privacy policy of a piece of Marketplace Content to discover the privacy practices concerning such Marketplace Content and be comfortable with them before purchasing, installing or using that Marketplace Content.</p>\n    <p>We contractually require our developers to adhere to certain privacy and other guidelines in our <a href="https://marketplace.firefox.com/developers/docs/policies/agreement">Developer Agreement</a>. If you believe that a developer is not adhering to contractual terms or guidelines, please let us know through the &ldquo;Report Abuse&rdquo; link for the relevant Market Content and we will investigate your request and take action, as we think appropriate.</p>\n\n    <h2>Your Submissions</h2>\n    <p>You may upload comments, profile pictures and other content as a part of the features of the Firefox Marketplace (&ldquo;Your Submissions&rdquo;). For clarity, &ldquo;Your Submissions&rdquo; won&rsquo;t include any Apps or Add-ons that you upload to the Firefox Marketplace. By uploading Your Submissions, you hereby grant us a non-exclusive, worldwide, royalty free license to use Your Submissions in connection with the provision and promotion of the Firefox Marketplace. You represent and warrant that Your Submissions will not infringe the rights of any third party and will comply with our Content Guidelines.</p>\n\n    <h2>Digital Millennium Copyright Act Notice</h2>\n    <p>If you are a copyright owner or an agent of a copyright owner and believe that content available by means of one of Mozilla&rsquo;s websites infringes one or more of your copyrights, please immediately notify Mozilla&#39;s Copyright Agent by means of emailed, mailed, or faxed notice (&quot;DMCA Notice&quot;) and include the information described below. You can review 17 U.S.C. &sect; 512(c)(3) of the Digital Millennium Copyright Act for authoritative detail, or consult your own attorney if you need assistance. If Mozilla takes action in response to a DMCA Notice, it will make a good faith attempt to contact the party that made such content available by means of the most recent email address, if any, provided by such party to Mozilla. You may be held liable for damages based on certain material misrepresentations contained in a DMCA Notice. Thus, if you are not sure content located on or linked to by the website infringes your copyright, you should consider first contacting an attorney.</p>\n    <p>All DMCA Notices should include the following:</p>\n    <ol>\n      <li>A signature, electronic or physical, of the owner, or a person authorized to act on behalf of the owner, of an exclusive copyright right that is being infringed;</li>\n      <li>An identification of the copyrighted work or works that you claim have been infringed;</li>\n      <li>A description of the nature and location of the material that you claim to infringe your copyright, in sufficient detail to permit Mozilla to find and positively identify that content, including the URL where it is located;</li>\n      <li>Your name, address, telephone number, and email address where we can contact you; and</li>\n      <li>A statement by you: <strong>(i)</strong> that you believe in good faith that the use of the material that you claim infringes your copyright is not authorized by law, or by the copyright owner or such owner&#39;s agent; and, <strong>(ii)</strong> that all of the information contained in your DMCA Notice is accurate, and under penalty of perjury, that you are either the owner of, or a person authorized to act on behalf an owner of, the exclusive copyright right that is being infringed.</li>\n    </ol>\n    <p>Mozilla&#39;s designated Copyright Agent to receive notifications of claimed infringement is as follows:</p>\n    <p>\n      <address>\n        Harvey Anderson<br>\n        Mozilla Corporation<br>\n        650 Castro Street, Suite 300<br>\n        Mountain View, CA 94041<br>\n        Email: dmcanotice at mozilla dot com<br>\n        Phone Number: 650-903-0800<br>\n        Fax: 650-903-0875<br>\n      </address>\n    </p>\n    <p>If you fail to comply with all of the requirements of a DMCA notice, Mozilla may not act upon your notice.</p>\n    <p>Mozilla will terminate a user&#39;s account if, under appropriate circumstances, they are determined to be a repeat infringer.</p>\n    <p>The contact information provided above also applies to notices that are based on non-U.S. copyrights or trademarks.</p>\n    <p>Only DMCA Notices, Trademark Notices (which are defined below), and international copyright or trademark notices should go to the copyright agent.</p>\n    <p>Please be advised that any DMCA Notices sent to Mozilla may be sent to third parties (including the accused) and posted on the Internet (including at <a  href="http://www.chillingeffects.org/">http://www.chillingeffects.org/</a>).</p>\n\n    <h2>Trademark Notices</h2>\n    <p>If you are a trademark owner or an agent of a trademark owner and believe that content available by means of one of Mozilla&rsquo;s websites infringes one or more of your trademarks, please immediately notify Mozilla&#39;s Copyright Agent by means of emailed, mailed, or faxed notice (&quot;Trademark Notice&quot;) and include the information described above for DMCA notices. Mozilla handles notices it receives of trademark violations via a process very similar to the DMCA Notice process that is described above for copyrights. In addition to the DMCA Notice requirements, Mozilla requires that the entire Trademark Notice be made by the trademark owner (or her agent) under penalty of perjury.</p>\n\n    <h2>Export</h2>\n    <p>Some of the content you may download from Mozilla through the Firefox Marketplace may have legal restrictions on its export. You agree to comply with all applicable export and re-export control laws and regulations and you confirm that you are not prohibited from receiving exports and services under US or other export laws.</p>\n\n    <h2>General Representation and Warranty</h2>\n    <p>You represent and warrant that your use of the Firefox Marketplace will be in accordance with these Terms, with any applicable laws and regulations, and with any other applicable policy or terms and conditions. For example, if you decide to become a Developer yourself, you must agree to the <a href="https://marketplace.firefox.com/developers/docs/policies/agreement">Developer Agreement</a>.</p>\n\n    <h2>Release and Indemnification</h2>\n    <p>You release Mozilla, its officers, employees, agents and successors from claims, demands and damages of every kind or nature arising out of or related to any disputes with other users, including Developers.</p>\n    <p>You agree to defend, indemnify and hold harmless Mozilla, its contractors and its licensors, and their respective directors, officers, employees and agents from and against any and all third party claims and expenses, including attorneys&#39; fees, arising out of your use of the Firefox Marketplace and Marketplace Content, including but not limited to out of your violation of any representation or warranty contained in these Terms.</p>\n\n    <h2>Disclaimer; Limitation of Liability</h2>\n    <p>For clarity, as used herein, &ldquo;Content&rdquo; includes, without limitation, &ldquo;Marketplace Content&rdquo;.</p>\n    <p>EXCEPT AS OTHERWISE EXPRESSLY STATED, INCLUDING BUT NOT LIMITED TO IN A LICENSE OR OTHER AGREEMENT GOVERNING THE USE OF SPECIFIC CONTENT, ALL CONTENT LOCATED AT OR AVAILABLE FROM THE Firefox Marketplace IS PROVIDED &quot;AS IS,&quot; AND MOZILLA, ITS CONTRACTORS AND ITS LICENSORS MAKE NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE OR NON-INFRINGEMENT OF PROPRIETARY RIGHTS. WITHOUT LIMITING THE FOREGOING, MOZILLA, ITS CONTRACTORS AND ITS LICENSORS MAKE NO REPRESENTATION OR WARRANTY THAT CONTENT LOCATED ON THE Firefox Marketplace IS FREE FROM ERROR OR SUITABLE FOR ANY PURPOSE; NOR THAT THE USE OF SUCH CONTENT WILL NOT INFRINGE ANY THIRD PARTY COPYRIGHTS, TRADEMARKS OR OTHER INTELLECTUAL PROPERTY RIGHTS. YOU UNDERSTAND AND AGREE THAT YOU DOWNLOAD OR OTHERWISE OBTAIN CONTENT THROUGH MOZILLA&#39;S WEBSITES AT YOUR OWN DISCRETION AND RISK, AND THAT MOZILLA, ITS CONTRACTORS AND ITS LICENSORS WILL HAVE NO LIABILITY OR RESPONSIBILITY FOR ANY DAMAGE TO YOUR COMPUTER SYSTEM OR DATA THAT RESULTS FROM THE DOWNLOAD OR USE OF SUCH CONTENT.</p>\n    <p>EXCEPT AS OTHERWISE EXPRESSLY STATED, INCLUDING BUT NOT LIMITED TO IN A LICENSE OR OTHER AGREEMENT GOVERNING THE USE OF SPECIFIC CONTENT, IN NO EVENT WILL MOZILLA, ITS CONTRACTORS OR ITS LICENSORS BE LIABLE TO YOU OR ANY OTHER PARTY FOR ANY DIRECT, INDIRECT, SPECIAL, CONSEQUENTIAL OR EXEMPLARY DAMAGES, REGARDLESS OF THE BASIS OR NATURE OF THE CLAIM, RESULTING FROM ANY USE OF THE Firefox Marketplace, OR THE CONTENTS THEREOF OR OF ANY HYPERLINKED WEB SITE, INCLUDING WITHOUT LIMITATION ANY LOST PROFITS, BUSINESS INTERRUPTION, LOSS OF DATA OR OTHERWISE, EVEN IF MOZILLA, ITS CONTRACTORS OR ITS LICENSORS WERE EXPRESSLY ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.</p>\n    <p>SOME JURISDICTIONS MAY NOT ALLOW THE EXCLUSION OF IMPLIED WARRANTIES OR THE EXCLUSION OR LIMITATION OF LIABILITY FOR CERTAIN INCIDENTAL OR CONSEQUENTIAL DAMAGES, SO SOME OF THE ABOVE LIMITATIONS MAY NOT APPLY TO YOU.</p>\n\n    <h2>Governing Law</h2>\n    <p>These Terms shall be governed by the laws of the State of California without regard to conflict of law principles. The provisions of the United Nations Convention on the International Sale of Goods and the Uniform Computer Information Transactions Act, however designated, are excluded and shall not apply to this Agreement or any transactions hereunder. You agree to submit to the personal and exclusive jurisdiction of the state courts and federal courts located within Santa Clara County, California for the purpose of litigating any claims or disputes.</p>\n\n    <h2>Miscellaneous</h2>\n    <p>You may not assign your rights or delegate its obligations under these Terms. &nbsp;These Terms are not intended to benefit, nor shall it be deemed to give rise to, any rights in any third party. &nbsp;These Terms will be governed and construed in accordance with the laws of California, without regard to conflict of law principles. The parties are independent contractors. &nbsp;These Terms shall not be construed to create a joint venture or partnership between the parties. &nbsp;Neither party shall be deemed to be an employee, agent, partner or legal representative of the other for any purpose and neither shall have any right, power or authority to create any obligation or responsibility on behalf of the other. These Terms constitute the entire agreement between the parties with respect to the subject matter hereof. &nbsp;These Terms supersede, and govern, any other prior or collateral agreements with respect to the subject matter hereof. If any provision of these Terms are held or made invalid or unenforceable for any reason, such invalidity shall not affect the remainder of these Terms, and the invalid or unenforceable provisions shall be replaced by a mutually acceptable provision, which being valid, legal and enforceable comes closest to the original intentions of the parties hereto and has like economic effect. &nbsp;The failure of either party at any time or times to require performance of any provision hereof shall in no manner affect the right at a later time to enforce the same. &nbsp;No waiver by either party of the breach of any term or covenant contained in these Terms, whether by conduct or otherwise, in any one or more instances, shall be deemed to be, or construed as, a further or continuing waiver of any such breach or a waiver of the breach of any other term or covenant contained in these Terms. </p>\n    </div>\n  </section>\n</div>\n';
return i}catch(s){n.handleError(s,a,o)}}return{root:e}}();e["tests.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{i+='<section class="main infobox">\n    <div>\n        <h2>Unit Tests</h2>\n        <progress value="0" />\n        <table>\n            <tr>\n                <th>Started</th>\n                <th>Passed</th>\n                <th>Failed</th>\n            </tr>\n            <tr>\n                <td id="c_started">0</td>\n                <td id="c_passed">0</td>\n                <td id="c_failed">0</td>\n            </tr>\n        </table>\n        <ol class="tests"></ol>\n    </div>\n</section>\n\n<script type="text/javascript" src="/tests/apps.js"></script>\n<script type="text/javascript" src="/tests/cache.js"></script>\n<script type="text/javascript" src="/tests/l10n.js"></script>\n<script type="text/javascript" src="/tests/requests.js"></script>\n<script type="text/javascript" src="/tests/rewriters.js"></script>\n<script type="text/javascript" src="/tests/urls.js"></script>\n<script type="text/javascript" src="/tests/utils.js"></script>\n';return i}catch(s){n.handleError(s,a,o)}}return{root:e}}();e["user/abuse.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{var s=e.getTemplate("_macros/forms.html");i+=s.render(t.getVariables(),r.push());i+='\n\n<div class="main report-abuse infobox c">\n  <div>\n    <h3>';i+=n.suppressValue((a=4,o=10,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Report Abuse"])),e.autoesc);i+="</h3>\n    <p>";i+=n.suppressValue((a=5,o=9,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",['If you suspect this user violates <a href="{url}">our policies</a>,\n             please use the form below to describe your concerns. Please do not\n             use this form for any other reason.',n.makeKeywordArgs({url:"https://developer.mozilla.org/en-US/docs/Apps/Marketplace_Review"})])),e.autoesc);i+="</p>\n    ";i+=n.suppressValue((a=9,o=15,n.callWrap(n.contextOrFrameLookup(t,r,"abuse_form"),"abuse_form",[(a=9,o=19,n.callWrap(n.contextOrFrameLookup(t,r,"api"),"api",["user_abuse"])),"user",n.contextOrFrameLookup(t,r,"id")])),e.autoesc);i+="\n  </div>\n</div>\n";return i}catch(u){n.handleError(u,a,o)}}return{root:e}}();e["user/purchases.html"]=function(){function e(e,t,r,n){var a=null;var o=null;var i="";try{var s=e.getTemplate("_macros/market_tile.html");i+=s.render(t.getVariables(),r.push());i+="\n";var s=e.getTemplate("_macros/more_button.html");i+=s.render(t.getVariables(),r.push());i+='\n\n<section class="main account purchases c" id="account-settings">\n  ';var u="purchases";r.set("current_page",u);if(!r.parent){t.setVariable("current_page",u);t.addExport("current_page")}i+="\n  ";var s=e.getTemplate("settings/nav.html");i+=s.render(t.getVariables(),r.push());i+="\n\n  ";if(a=7,o=20,n.callWrap(n.memberLookup(n.contextOrFrameLookup(t,r,"user"),"logged_in",e.autoesc),'user["logged_in"]',[])){i+="\n    ";i+=n.suppressValue(e.getExtension("defer")["run"](t,n.makeKeywordArgs({url:(a=8,o=19,n.callWrap(n.contextOrFrameLookup(t,r,"api"),"api",["installed"])),pluck:"objects",as:"app",paginate:"ol.listing"}),function(){var i="";i+='\n      <header class="secondary-header hide-on-mobile c">\n        <h2>';i+=n.suppressValue((a=10,o=14,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["My Apps"])),e.autoesc);i+='</h2>\n        <a href="#" class="expand-toggle" title="';i+=n.suppressValue((a=11,o=51,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Expand"])),e.autoesc);i+='"></a>\n      </header>\n      <ol class="container listing only-logged-in c">\n        ';r=r.push();var s=n.contextOrFrameLookup(t,r,"this");for(var u=0;u<s.length;u++){var l=s[u];r.set("result",l);i+='\n          <li class="item result app c">\n            ';i+=n.suppressValue((a=16,o=24,n.callWrap(n.contextOrFrameLookup(t,r,"market_tile"),"market_tile",[l,n.makeKeywordArgs({link:true,force_button:true})])),e.autoesc);i+="\n          </li>\n        "}r=r.pop();i+="\n\n        ";if(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"response"),"meta",e.autoesc),"next",e.autoesc)){i+="\n          ";i+=n.suppressValue((a=21,o=22,n.callWrap(n.contextOrFrameLookup(t,r,"more_button"),"more_button",[n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,r,"response"),"meta",e.autoesc),"next",e.autoesc)])),e.autoesc);i+="\n        "}i+="\n      </ol>\n    ";return i},function(){var e="";e+='\n      <p class="spinner alt spaced"></p>\n    ';return e},function(){var i="";i+='\n      <header class="secondary-header c">\n        <h2>';i+=n.suppressValue((a=28,o=14,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["My Apps"])),e.autoesc);i+='</h2>\n      </header>\n      <p class="no-results only-logged-in">\n        ';i+=n.suppressValue((a=31,o=10,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["You have no apps"])),e.autoesc);i+="\n      </p>\n    ";return i},null),e.autoesc);i+="\n  "}i+='\n  <footer class="only-logged-out">\n    <div class="extras">\n      <p class="notice">';i+=n.suppressValue((a=37,o=26,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["You must be signed in to view your apps."])),e.autoesc);i+='</p>\n      <a class="button full persona" href="#">';i+=n.suppressValue((a=38,o=48,n.callWrap(n.contextOrFrameLookup(t,r,"_"),"_",["Sign in / Sign up"])),e.autoesc);i+="</a>\n    </div>\n  </footer>\n</section>\n";return i}catch(l){n.handleError(l,a,o)}}return{root:e}}();a("templates",["nunjucks"],function(t){t.env=new t.Environment([],{autoescape:true});t.env.registerPrecompiled(e);t.templates=e;console.log("Templates loaded");return t})})();o("marketplace")})(window,void 0);